<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Kontakt | StGallen imt Business School</title>

  <!-- ============ STYLES ============ -->
  <style>
    :root{
      --font-sans:-apple-system,BlinkMacSystemFont,"San Francisco","Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;
      --color-text:#1d1d1f;
      --color-muted:#6e6e73;
      --color-card-bg:#f5f5f7;
      --color-accent2:#970289;
      --color-badge:#e2b245;
      --color-badge-hover:#d4a535;
      --spacing:24px;
      --radius:16px;
      --max-width:1200px;
      --imt-purple: #6e45e2;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: var(--font-sans);
      color: var(--color-text);
      background: #fff;
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      /* Padding für fixierte Navigation */
      padding-top: 64px;
      transition: padding-top 0.3s ease;
    }
    
    /* When subnav is active, increase body padding */
    body.has-subnav {
      padding-top: 110px;
    }
    
    @media (max-width: 1024px) {
      body.has-subnav {
        padding-top: 64px;
      }
    }

    /* Basis Styling für Container */
    .container {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 var(--spacing);
      width: 100%;
    }

    /* Hauptinhalt der Seite */
    main {
      position: relative;
    }

    /* Allgemeine Typografie */
    h1, h2, h3, h4, h5, h6 {
      margin-bottom: 1rem;
      font-weight: 600;
      line-height: 1.2;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
    }

    h2 {
      font-size: 2rem;
      margin-bottom: 1.25rem;
    }

    h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    p {
      margin-bottom: 1rem;
      line-height: 1.6;
    }

    a {
      color: var(--imt-purple);
      text-decoration: none;
      transition: color 0.2s ease;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Gemeinsames Formular-Styling */
    .form-group {
      margin-bottom: 20px;
    }

    .form-control {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      transition: all 0.2s ease;
      background-color: #fff;
    }

    .form-control:focus {
      border-color: var(--imt-purple);
      outline: none;
      box-shadow: 0 0 0 3px rgba(110, 69, 226, 0.1);
    }

    textarea.form-control {
      min-height: 120px;
      resize: vertical;
    }

    .invalid-input {
      border-color: #ff3860 !important;
      background-color: rgba(255, 56, 96, 0.05) !important;
    }

    .valid-input {
      border-color: #23d160 !important;
      background-color: rgba(35, 209, 96, 0.05) !important;
    }

    .error-message {
      color: #ff3860;
      font-size: 0.85rem;
      margin-top: 5px;
      display: none;
    }

    /* Select-Dropdown ohne Standard-Browser-Pfeil */
    select.form-control {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
    }
    
    /* Firefox-spezifischer Fix */
    select.form-control::-ms-expand {
      display: none;
    }

    .contact-form label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }

    .contact-form .required::after {
      content: "*";
      color: #ff3860;
      margin-left: 4px;
    }

    .cta-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(to right, var(--imt-purple), #9c27b0);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 24px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
    }

    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(106, 69, 226, 0.2);
    }

    /* Icon Styling */
    .contact-icon {
      display: inline-block;
      font-size: 32px;
      margin-bottom: 16px;
      color: var(--imt-purple);
      transition: all 0.2s ease;
    }

    /* Content-Section Styling */
    .content-section {
      padding: 80px 0;
    }

    .content-section:first-child {
      padding-top: 50px;
    }

    .content-section h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      font-weight: 600;
      text-align: left;
    }

    .section-subtitle {
      color: var(--color-muted);
      font-size: 1.1rem;
      margin-bottom: 40px;
      text-align: left;
    }

    /* Kontakt Seite spezifische Styles */
    .contact-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 var(--spacing);
    }

    /* Formular Bereich */
    .contact-form-container {
      background: var(--color-card-bg);
      padding: 24px;
      border-radius: 16px;
      box-shadow: none;
      margin-bottom: 60px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .form-grid .form-group:last-child {
      grid-column: span 2;
    }

    .submit-container {
      text-align: center;
      margin-top: 30px;
    }

    /* Kontaktkarten Bereich */
    .contact-cards {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
    }

    .contact-card {
      background: var(--color-card-bg);
      padding: 30px;
      border-radius: 12px;
      box-shadow: none;
      text-align: center;
      transition: border-color 0.3s ease;
      border: 2px solid transparent;
    }

    .contact-card:hover {
      border-color: var(--color-accent2);
    }

    .contact-info-item h3 {
      font-size: 1.1rem;
      margin-bottom: 8px;
    }

    @media (max-width: 768px) {
      .contact-cards {
        grid-template-columns: 1fr;
      }

      .form-grid {
        grid-template-columns: 1fr;
      }

      .form-grid .form-group:last-child {
        grid-column: 1;
      }
      
      h1 {
        font-size: 2rem;
      }

      h2 {
        font-size: 1.75rem;
      }

      h3 {
        font-size: 1.25rem;
      }

      .container {
        padding: 0 16px;
      }

      .content-section {
        padding: 50px 0;
      }
    }

    /* Einheitlicher Pfeil-Stil für alle Buttons */
    .arrow-icon {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-weight: 400;
      font-size: 1.2rem;
      margin-left: 8px;
      display: inline-block;
    }

    /* Success Message Container */
    .success-message {
      display: none;
      text-align: center;
      padding: 40px 20px;
    }

    .success-message .check-icon {
      font-size: 64px;
      color: #23d160;
      margin-bottom: 20px;
    }

    .success-message h3 {
      font-size: 1.3rem;
      margin-bottom: 16px;
    }

    .success-message p {
      color: var(--color-muted);
      margin-bottom: 0;
    }
  </style>

  <!-- BoxIcons für Icons -->
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <!-- Font Awesome für die Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  
  <!-- Favicon -->
  <link rel="icon" href="assets/favicon.png" type="image/png">
  
  <!-- Language Switch Script - Frühe Einbindung! -->
  <script src="assets/js/language-switch.js"></script>
</head>
<body>
  <!-- Navigation einbinden -->
  <div id="navigation-container"></div>
  
  <!-- Sidebar einbinden -->
  <div id="sidebar-container"></div>

  <!-- Hauptinhalt -->
  <main>
    <!-- Kontaktformular Sektion -->
    <section class="content-section">
      <div class="container">
        <h2>Schreiben Sie uns</h2>
        <p class="section-subtitle">Haben Sie Fragen zu unseren Programmen oder möchten Sie mit uns in Kontakt treten? Wir sind für Sie da.</p>
        
        <!-- Kontaktformular -->
        <div class="contact-form-container">
          <form class="contact-form" id="contact-form" action="https://formsubmit.co/ajax/alexanderhillerb@googlemail.com" method="POST" novalidate>
            <!-- FormSubmit Configuration -->
            <input type="hidden" name="_subject" value="Kontkatformular StGallen IMT">
            <input type="hidden" name="_captcha" value="false">
            <input type="hidden" name="_next" value="/kontakt.html?success=true">
            <input type="hidden" name="_honey" value="">
            <input type="hidden" name="_template" value="table">
            <input type="hidden" name="_format" value="json">
            
            <div class="form-grid">
              <div class="form-group">
                <label for="firstName" class="required">Vorname</label>
                <input type="text" id="firstName" name="Vorname" class="form-control" required>
                <div class="error-message">Bitte geben Sie Ihren Vornamen ein.</div>
              </div>
              
              <div class="form-group">
                <label for="lastName" class="required">Nachname</label>
                <input type="text" id="lastName" name="Nachname" class="form-control" required>
                <div class="error-message">Bitte geben Sie Ihren Nachnamen ein.</div>
              </div>
              
              <div class="form-group">
                <label for="email" class="required">E-Mail</label>
                <input type="email" id="email" name="email" class="form-control" required>
                <div class="error-message">Bitte geben Sie eine gültige E-Mail-Adresse ein.</div>
              </div>
              
              <div class="form-group">
                <label for="country" class="required">Land</label>
                <div style="position: relative;">
                  <select id="country" name="Land" class="form-control" required>
                    <option value="">Land wählen</option>
                    <option value="AD">Andorra</option>
                    <option value="AR">Argentinien</option>
                    <option value="AU">Australien</option>
                    <option value="BH">Bahrain</option>
                    <option value="BE">Belgien</option>
                    <option value="BR">Brasilien</option>
                    <option value="BN">Brunei</option>
                    <option value="CL">Chile</option>
                    <option value="CN">China</option>
                    <option value="DK">Dänemark</option>
                    <option value="DE">Deutschland</option>
                    <option value="EE">Estland</option>
                    <option value="FI">Finnland</option>
                    <option value="FR">Frankreich</option>
                    <option value="GI">Gibraltar</option>
                    <option value="GR">Griechenland</option>
                    <option value="HK">Hongkong</option>
                    <option value="IN">Indien</option>
                    <option value="ID">Indonesien</option>
                    <option value="IE">Irland</option>
                    <option value="IS">Island</option>
                    <option value="IL">Israel</option>
                    <option value="IT">Italien</option>
                    <option value="JP">Japan</option>
                    <option value="JO">Jordanien</option>
                    <option value="CA">Kanada</option>
                    <option value="CO">Kolumbien</option>
                    <option value="HR">Kroatien</option>
                    <option value="QA">Katar</option>
                    <option value="KW">Kuwait</option>
                    <option value="LB">Libanon</option>
                    <option value="LI">Liechtenstein</option>
                    <option value="LU">Luxemburg</option>
                    <option value="MO">Macau</option>
                    <option value="MY">Malaysia</option>
                    <option value="MT">Malta</option>
                    <option value="MX">Mexiko</option>
                    <option value="MC">Monaco</option>
                    <option value="NL">Niederlande</option>
                    <option value="NZ">Neuseeland</option>
                    <option value="NO">Norwegen</option>
                    <option value="OM">Oman</option>
                    <option value="AT">Österreich</option>
                    <option value="PK">Pakistan</option>
                    <option value="PA">Panama</option>
                    <option value="PE">Peru</option>
                    <option value="PH">Philippinen</option>
                    <option value="PL">Polen</option>
                    <option value="PT">Portugal</option>
                    <option value="PR">Puerto Rico</option>
                    <option value="RO">Rumänien</option>
                    <option value="RU">Russland</option>
                    <option value="SM">San Marino</option>
                    <option value="SA">Saudi-Arabien</option>
                    <option value="SE">Schweden</option>
                    <option value="CH">Schweiz</option>
                    <option value="SG">Singapur</option>
                    <option value="SK">Slowakei</option>
                    <option value="SI">Slowenien</option>
                    <option value="ES">Spanien</option>
                    <option value="ZA">Südafrika</option>
                    <option value="KR">Südkorea</option>
                    <option value="TW">Taiwan</option>
                    <option value="TH">Thailand</option>
                    <option value="TR">Türkei</option>
                    <option value="CZ">Tschechische Republik</option>
                    <option value="UA">Ukraine</option>
                    <option value="HU">Ungarn</option>
                    <option value="AE">Vereinigte Arabische Emirate</option>
                    <option value="GB">Vereinigtes Königreich</option>
                    <option value="US">Vereinigte Staaten</option>
                    <option value="VN">Vietnam</option>
                    <option value="CY">Zypern</option>
                    <option value="OTHER">Andere</option>
                  </select>
                  <div style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); pointer-events: none;">
                    <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 1L6 6L11 1" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                </div>
                <div class="error-message">Bitte wählen Sie ein Land aus.</div>
              </div>
              
              <div class="form-group">
                <label for="message" class="required">Nachricht</label>
                <textarea id="message" name="Nachricht" class="form-control" required></textarea>
                <div class="error-message">Bitte geben Sie eine Nachricht ein.</div>
              </div>
            </div>
            
            <div class="submit-container" style="text-align: center; width: 100%;">
              <button type="submit" class="cta-button" style="margin: 0 auto;">
                Nachricht senden <span class="arrow-icon">→</span>
              </button>
            </div>
          </form>
          
          <!-- Erfolgsanzeige -->
          <div class="success-message" id="success-message">
            <i class="bx bx-check-circle check-icon"></i>
            <h3>Vielen Dank für Ihre Nachricht</h3>
            <p>Wir melden uns kurzfristig bei Ihnen.</p>
          </div>
        </div>
        
        <!-- Kontaktkarten Bereich -->
        <h2>Nehmen Sie Kontakt auf</h2>
        <p class="section-subtitle">Alternativ können Sie uns auch direkt auf einem der folgenden Wege erreichen.</p>
        
        <div class="contact-cards">
          <div class="contact-card">
            <div class="contact-icon">
              <i class="bx bx-envelope"></i>
            </div>
            <h3>E-Mail</h3>
            <p><a href="mailto:info@imtschool.ch">info@imtschool.ch</a></p>
          </div>
          
          <div class="contact-card">
            <div class="contact-icon">
              <i class="bx bx-phone"></i>
            </div>
            <h3>Telefon</h3>
            <p><a href="tel:+41712247222">+41 71 277 60 00</a></p>
          </div>
          
          <div class="contact-card">
            <div class="contact-icon">
              <i class="bx bxl-linkedin"></i>
            </div>
            <h3>LinkedIn</h3>
            <p><a href="https://www.linkedin.com/school/imtschool.ch/">StGallen imt Business School</a></p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer einbinden -->
  <div id="footer-container"></div>

  <!-- Dynamisches Laden der globalen Komponenten -->
  <script>
    // Navigation laden
    fetch('components/globals/navigation_ohnesub.html?t=' + new Date().getTime())
      .then(response => {
        if (!response.ok) {
          console.error('Fehler beim Laden der Navigation:', response.status);
          // Fallback zum includes-Verzeichnis versuchen
          return fetch('components/includes/navigation_ohnesub.html?t=' + new Date().getTime())
            .then(resp => {
              if (!resp.ok) {
                console.error('Auch includes-Pfad fehlgeschlagen:', resp.status);
                return '';
              }
              return resp.text();
            });
        }
        return response.text();
      })
      .then(data => {
        console.log('Navigation geladen');
        if (data) {
          document.getElementById('navigation-container').innerHTML = data;
          
          // Mobile Navigation initialisieren (neu)
          console.log('Füge mobile-nav.js Script hinzu...');
          const navScript = document.createElement('script');
          navScript.src = 'assets/js/mobile-nav.js?t=' + new Date().getTime();
          document.body.appendChild(navScript);
          console.log('Mobile-Nav Script hinzugefügt!');
          
          // Kontakt-Link als aktiv markieren
          setTimeout(() => {
            document.querySelectorAll('.nav-link').forEach(link => {
              if (link.textContent.trim() === 'Kontakt') {
                console.log('Aktiviere Kontakt-Link:', link);
                link.classList.add('active');
              }
            });
          }, 200);
          
          // Sprachumschalter initialisieren, nachdem die Navigation geladen wurde
          setTimeout(() => {
            if (typeof initLanguageSwitching === 'function') {
              initLanguageSwitching();
            } else if (window.switchLanguage) {
              console.log('Language-switch.js bereits geladen, verwende globale Funktion');
            } else {
              console.warn('Language-switch Funktionen nicht gefunden!');
            }
          }, 300);
        }
      })
      .catch(error => console.error('Fehler beim Laden der Navigation:', error));

    // Sidebar laden
    fetch('components/globals/sidebar_other.html?t=' + new Date().getTime())
      .then(response => {
        if (!response.ok) {
          console.error('Fehler beim Laden der Sidebar:', response.status);
          // Fallback zum includes-Verzeichnis versuchen
          return fetch('components/includes/sidebar_other.html?t=' + new Date().getTime())
            .then(resp => {
              if (!resp.ok) {
                console.error('Auch includes-Pfad fehlgeschlagen:', resp.status);
                return '';
              }
              return resp.text();
            });
        }
        return response.text();
      })
      .then(data => {
        console.log('Sidebar geladen');
        if (data) document.getElementById('sidebar-container').innerHTML = data;
      })
      .catch(error => console.error('Fehler beim Laden der Sidebar:', error));

    // Footer laden
    fetch('components/globals/footer.html?t=' + new Date().getTime())
      .then(response => {
        if (!response.ok) {
          console.error('Fehler beim Laden des Footers:', response.status);
          // Fallback zum includes-Verzeichnis versuchen
          return fetch('components/includes/footer.html?t=' + new Date().getTime())
            .then(resp => {
              if (!resp.ok) {
                console.error('Auch includes-Pfad fehlgeschlagen:', resp.status);
                return '';
              }
              return resp.text();
            });
        }
        return response.text();
      })
      .then(data => {
        console.log('Footer geladen');
        if (data) document.getElementById('footer-container').innerHTML = data;
      })
      .catch(error => console.error('Fehler beim Laden des Footers:', error));
  </script>

  <!-- Form Validation Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Prüfen, ob die URL einen success-Parameter enthält
      const urlParams = new URLSearchParams(window.location.search);
      const success = urlParams.get('success');
      
      // Formular und Elemente
      const form = document.getElementById('contact-form');
      const firstName = document.getElementById('firstName');
      const lastName = document.getElementById('lastName');
      const email = document.getElementById('email');
      const country = document.getElementById('country');
      const message = document.getElementById('message');
      const submitButton = form.querySelector('button[type="submit"]');
      const successMessage = document.getElementById('success-message');
      
      // Erfolgsanzeige direkt anzeigen, wenn von FormSubmit zurückgeleitet
      if (success === 'true') {
        form.style.display = 'none';
        successMessage.style.display = 'block';
      }
      
      // Speichern, ob ein Feld schon bearbeitet wurde
      const touched = {
        firstName: false,
        lastName: false,
        email: false,
        country: false,
        message: false
      };
      
      // Event Listeners für alle Felder
      firstName.addEventListener('input', function() {
        touched.firstName = true;
        validateField(firstName);
      });
      
      lastName.addEventListener('input', function() {
        touched.lastName = true;
        validateField(lastName);
      });
      
      email.addEventListener('input', function() {
        touched.email = true;
        validateField(email);
      });
      
      country.addEventListener('change', function() {
        touched.country = true;
        validateField(country);
      });
      
      message.addEventListener('input', function() {
        touched.message = true;
        validateField(message);
      });
      
      // Validation beim Verlassen des Feldes
      firstName.addEventListener('blur', function() {
        touched.firstName = true;
        validateField(firstName);
      });
      
      lastName.addEventListener('blur', function() {
        touched.lastName = true;
        validateField(lastName);
      });
      
      email.addEventListener('blur', function() {
        touched.email = true;
        validateField(email);
      });
      
      country.addEventListener('blur', function() {
        touched.country = true;
        validateField(country);
      });
      
      message.addEventListener('blur', function() {
        touched.message = true;
        validateField(message);
      });
      
      // Funktion zum Validieren eines Feldes
      function validateField(field) {
        const errorElement = field.nextElementSibling;
        let isValid = true;
        
        // Nur validieren wenn das Feld schon bearbeitet wurde
        if (!touched[field.id]) {
          return true;
        }
        
        // Validierung für leere Felder
        if (field.hasAttribute('required') && !field.value.trim()) {
          isValid = false;
        }
        
        // Spezielle Validierung für E-Mail
        if (field.type === 'email' && field.value.trim()) {
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(field.value.trim())) {
            isValid = false;
          }
        }
        
        // Spezielle Validierung für das Land-Dropdown
        if (field.id === 'country') {
          if (!field.value || field.value === '' || field.value === 'Land wählen') {
            isValid = false;
          }
        }
        
        // Visuelle Anzeige der Validierung
        if (isValid) {
          field.classList.remove('invalid-input');
          field.classList.add('valid-input');
          errorElement.style.display = 'none';
        } else {
          field.classList.add('invalid-input');
          field.classList.remove('valid-input');
          errorElement.style.display = 'block';
        }
        
        return isValid;
      }
      
      // Funktion zum Validieren des gesamten Formulars
      function validateForm() {
        let isValid = true;
        
        // Alle Felder als berührt markieren
        touched.firstName = true;
        touched.lastName = true;
        touched.email = true;
        touched.country = true;
        touched.message = true;
        
        // Validierung aller Felder
        if (!validateField(firstName)) isValid = false;
        if (!validateField(lastName)) isValid = false;
        if (!validateField(email)) isValid = false;
        if (!validateField(country)) isValid = false;
        if (!validateField(message)) isValid = false;
        
        return isValid;
      }
      
      // Funktion zum Anzeigen einer Fehlermeldung unter dem Submit-Button
      function showSubmitError(message) {
        const existingMessage = document.getElementById('incomplete-fields-message');
        if (existingMessage) {
          existingMessage.remove();
        }
        
        const errorElement = document.createElement('div');
        errorElement.id = 'incomplete-fields-message';
        errorElement.style.color = '#ff3860';
        errorElement.style.textAlign = 'center';
        errorElement.style.marginTop = '15px';
        errorElement.style.fontWeight = '500';
        errorElement.textContent = message;
        
        submitButton.parentNode.appendChild(errorElement);
        
        setTimeout(() => {
          if (errorElement.parentNode) {
            errorElement.style.opacity = '0';
            errorElement.style.transition = 'opacity 0.5s ease';
            setTimeout(() => {
              if (errorElement.parentNode) {
                errorElement.remove();
              }
            }, 500);
          }
        }, 5000);
      }
      
      // Abfangen des Submit-Events
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        console.log('Submit-Versuch:');
        console.log('Vorname:', firstName.value);
        console.log('Nachname:', lastName.value);
        console.log('Email:', email.value);
        console.log('Land:', country.value);
        console.log('Nachricht:', message.value);
        
        // Validiere alle Felder
        const formIsValid = validateForm();
        
        // Wenn das Formular nicht gültig ist
        if (!formIsValid) {
          console.log('Formular ist ungültig!');
          
          // Fokus auf das erste ungültige Feld setzen
          if (!validateField(firstName)) {
            firstName.focus();
          } else if (!validateField(lastName)) {
            lastName.focus();
          } else if (!validateField(email)) {
            email.focus();
          } else if (!validateField(country)) {
            country.focus();
          } else if (!validateField(message)) {
            message.focus();
          }
          
          showSubmitError('Bitte füllen Sie alle erforderlichen Felder aus.');
          return;
        }
        
        // Wenn das Formular gültig ist
        console.log('Formular ist gültig!');
        
        // FormData für den Versand vorbereiten
        const formData = new FormData(form);
        
        // Anzeige des Erfolgs
        form.style.display = 'none';
        successMessage.style.display = 'block';
        
        // Formular senden
        fetch('https://formsubmit.co/ajax/alexanderhillerb@googlemail.com', {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json',
            'X-Requested-With': 'XMLHttpRequest'
          }
        })
        .then(response => {
          console.log('Server-Antwort:', response.status);
          form.reset();
          
          if (!response.ok) {
            console.error('Fehler beim Senden:', response);
          }
        })
        .catch(error => {
          console.error('Fehler beim Senden:', error);
        });
      });
    });
  </script>

  <!-- Script zur Aktivierung des aktuellen Menüpunkts -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Kontakt-Seite geladen, markiere Kontakt-Link als aktiv');
      
      // Wir verwenden ein Interval, um sicherzustellen, dass die Navigation geladen ist
      let attempts = 0;
      const maxAttempts = 50; // 5 Sekunden bei 100ms Interval
      
      const checkAndActivate = setInterval(function() {
        attempts++;
        
        // Alle Navigationslinks finden
        const navLinks = document.querySelectorAll('.nav-link');
        
        if (navLinks.length > 0) {
          console.log('Navigationslinks gefunden, suche nach Kontakt-Link');
          
          // Entferne die active-Klasse von allen Links
          navLinks.forEach(link => {
            link.classList.remove('active');
          });
          
          // Setze die active-Klasse für den Kontakt-Link
          let kontaktLinkFound = false;
          navLinks.forEach(link => {
            if (link.textContent.trim() === 'Kontakt') {
              console.log('Kontakt-Link gefunden:', link);
              link.classList.add('active');
              kontaktLinkFound = true;
            }
          });
          
          if (kontaktLinkFound) {
            // Interval stoppen, wenn alles erledigt ist
            clearInterval(checkAndActivate);
          } else if (attempts >= maxAttempts) {
            console.error('Kontakt-Link konnte nach mehreren Versuchen nicht gefunden werden');
            clearInterval(checkAndActivate);
          }
        } else if (attempts >= maxAttempts) {
          console.error('Navigationslinks konnten nach mehreren Versuchen nicht gefunden werden');
          clearInterval(checkAndActivate);
        }
      }, 100);
    });
  </script>
</body>
</html> 