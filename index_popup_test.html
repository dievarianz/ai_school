<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content="Die St.Gallen imt Business School bietet erstklassige Management- und Führungskräfteprogramme für Ihre berufliche Weiterentwicklung. Executive Education mit praxisorientierten Programmen und innovativen Lernmethoden."/>
  <meta name="keywords" content="St.Gallen imt Business School, Management, Executive Education, Leadership, MBA, Weiterbildung, Führungskräfteentwicklung, Schweiz, St. Gallen, Business School, Managementprogramm, KI-Strategie, Digitale Transformation"/>
  <title>StGallen imt Business School</title>

  <!-- ============ STYLES ============ -->
  <style>
    :root{
      --font-sans:-apple-system,BlinkMacSystemFont,"San Francisco","Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;
      --color-text:#1d1d1f;
      --color-muted:#6e6e73;
      --color-card-bg:#f5f5f7;
      --color-accent2:#970289;
      --color-badge:#e2b245;
      --color-badge-hover:#d4a535;
      --spacing:24px;
      --radius:16px;
      --max-width:1200px;
      --imt-purple: #6e45e2;
      --swiss-red: #ff0000;
      --imt-green: #4CB796;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    /* Ausblenden des Sprache-Elements außerhalb der Navigation auf Desktop-Größen */
    @media (min-width: 1025px) {
      body > .Sprache,
      .nav-wrapper ~ .Sprache, 
      body > div > .Sprache:not(.mobile-lang-section .Sprache),
      nav ~ .Sprache,
      div[class^="Sprache"],
      span.Sprache,
      #navigation-container ~ .Sprache,
      #navigation-container ~ div:has(> .Sprache),
      body > div:has(.Sprache):not(.nav-wrapper) {
        display: none !important;
      }
    }

    body {
      font-family: var(--font-sans);
      color: var(--color-text);
      background: #fff;
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      /* Padding für fixierte Navigation */
      padding-top: 64px;
      transition: padding-top 0.3s ease;
    }
    
    /* When subnav is active, increase body padding */
    body.has-subnav {
      padding-top: 110px; /* Reduziert von 120px auf 110px */
    }
    
    @media (max-width: 1024px) {
      body.has-subnav {
        padding-top: 64px; /* Auf mobile zurück zu standard padding */
      }
    }

    /* Basis Styling für Container */
    .container {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 var(--spacing);
      width: 100%;
    }

    /* Hauptinhalt der Seite */
    main {
      position: relative;
    }

    /* Allgemeine Typografie */
    h1, h2, h3, h4, h5, h6 {
      margin-bottom: 1rem;
      font-weight: 600;
      line-height: 1.2;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
    }

    h2 {
      font-size: 2rem;
      margin-bottom: 1.25rem;
    }

    h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    p {
      margin-bottom: 1rem;
      line-height: 1.6;
    }

    a {
      color: var(--imt-purple);
      text-decoration: none;
      transition: color 0.2s ease;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Teaser Styles */
    .courses-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr); /* Nur 2 Karten pro Zeile */
      gap: 30px;
      max-width: 1080px;
      margin: 60px auto 40px;
    }
    
    .course-card {
      background: #fff;
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.03);
      transition: transform 0.2s ease, border 0.2s ease; /* Dezenterer Übergang */
      border: 2px solid transparent;
      display: flex;
      flex-direction: column;
    }
    
    .course-card:hover {
      transform: translateY(-3px); /* Dezentere Bewegung nach oben */
      border: 2px solid #7b4bec;
    }
    
    .course-header {
      padding: 24px;
      border-bottom: 1px solid #f5f5f7;
    }
    
    .course-icon {
      width: 60px;
      height: 60px;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 18px;
    }
    
    .course-title {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 8px;
      display: flex;
      align-items: flex-start;
    }
    
    .course-subtitle {
      font-size: 16px;
      color: #6e6e73;
      font-weight: 400;
    }
    
    .course-content {
      padding: 24px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    
    .course-description {
      font-size: 17px;
      color: #1d1d1f;
      margin-bottom: 18px;
      line-height: 1.5;
    }
    
    .feature-container {
      margin-top: auto;
    }
    
    .course-feature {
      display: flex;
      align-items: flex-start;
      margin-bottom: 12px;
    }
    
    .feature-icon {
      width: 16px;
      height: 16px;
      margin-right: 12px;
      flex-shrink: 0;
      margin-top: 3px;
    }
    
    .feature-text {
      font-size: 15px;
      color: #6e6e73;
    }
    
    .course-footer {
      padding: 20px 24px;
      background: #f2f2f4;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom-left-radius: 16px;
      border-bottom-right-radius: 16px;
    }
    
    .course-availability {
      font-size: 14px;
      font-weight: 500;
      color: #6e6e73;
      white-space: nowrap;
    }
    
    .course-availability.limited {
      color: #ff9f0a;
    }
    
    .course-link {
      color: #7b4bec;
      font-size: 15px;
      font-weight: 500;
      text-decoration: none;
      display: flex;
      align-items: center;
    }
    
    .arrow-icon {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-weight: 400;
      font-size: 1.2rem;
      margin-left: 8px;
      display: inline-block;
      transition: transform 0.2s ease;
    }
    
    .hero-btn-primary:hover .arrow-icon {
      transform: translateX(3px);
    }

    .section-intro {
      text-align: center;
      margin-bottom: 20px;
    }
    
    .section-tag {
      display: inline-block;
      font-size: 14px;
      font-weight: 500;
      color: #7b4bec;
      border: 1px solid #7b4bec;
      padding: 5px 12px;
      border-radius: 15px;
      margin-bottom: 15px;
    }
    
    @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }

      h2 {
        font-size: 1.75rem;
      }

      h3 {
        font-size: 1.25rem;
      }

      .container {
        padding: 0 16px;
      }
      
      .courses-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Hero-Sektion */
    .hero {
      background: linear-gradient(to bottom, #f9f9ff, #fff);
      padding: 80px 0 120px;
      position: relative;
      overflow: hidden;
    }

    /* Neuronales Netzwerk Hintergrund */
    .neural-network-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      opacity: 0.5;
    }

    .neural-network-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .hero-pattern {
      position: absolute;
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(225, 225, 255, 0.6) 0%, rgba(255, 255, 255, 0) 70%);
      border-radius: 50%;
      top: -100px;
      left: -100px;
      z-index: 0;
    }

    .hero-pattern-2 {
      position: absolute;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(244, 231, 255, 0.7) 0%, rgba(255, 255, 255, 0) 70%);
      border-radius: 50%;
      bottom: -100px;
      right: -100px;
      z-index: 0;
    }
    
    /* Partikelhintergrund */
    .particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      opacity: 0.6;
      pointer-events: none;
      overflow: hidden;
    }

    .particle {
      position: absolute;
      width: 6px;
      height: 6px;
      background-color: var(--imt-purple);
      border-radius: 50%;
      opacity: 0.5;
    }

    .particle:nth-child(1) { top: 10%; left: 20%; animation: float1 15s infinite linear; }
    .particle:nth-child(2) { top: 30%; left: 70%; animation: float2 20s infinite linear; }
    .particle:nth-child(3) { top: 50%; left: 10%; animation: float3 18s infinite linear; }
    .particle:nth-child(4) { top: 70%; left: 50%; animation: float4 12s infinite linear; }
    .particle:nth-child(5) { top: 85%; left: 80%; animation: float5 16s infinite linear; }
    .particle:nth-child(6) { top: 20%; left: 90%; animation: float6 14s infinite linear; }
    .particle:nth-child(7) { top: 40%; left: 30%; animation: float7 22s infinite linear; }
    .particle:nth-child(8) { top: 60%; left: 85%; animation: float8 19s infinite linear; }
    .particle:nth-child(9) { top: 90%; left: 15%; animation: float9 21s infinite linear; }
    .particle:nth-child(10) { top: 15%; left: 60%; animation: float10 17s infinite linear; }

    @keyframes float1 { 0% { transform: translate(0, 0); } 50% { transform: translate(40px, 20px); } 100% { transform: translate(0, 0); } }
    @keyframes float2 { 0% { transform: translate(0, 0); } 50% { transform: translate(-30px, 30px); } 100% { transform: translate(0, 0); } }
    @keyframes float3 { 0% { transform: translate(0, 0); } 50% { transform: translate(20px, -20px); } 100% { transform: translate(0, 0); } }
    @keyframes float4 { 0% { transform: translate(0, 0); } 50% { transform: translate(-20px, -10px); } 100% { transform: translate(0, 0); } }
    @keyframes float5 { 0% { transform: translate(0, 0); } 50% { transform: translate(10px, 40px); } 100% { transform: translate(0, 0); } }
    @keyframes float6 { 0% { transform: translate(0, 0); } 50% { transform: translate(-40px, 10px); } 100% { transform: translate(0, 0); } }
    @keyframes float7 { 0% { transform: translate(0, 0); } 50% { transform: translate(30px, -30px); } 100% { transform: translate(0, 0); } }
    @keyframes float8 { 0% { transform: translate(0, 0); } 50% { transform: translate(-15px, 25px); } 100% { transform: translate(0, 0); } }
    @keyframes float9 { 0% { transform: translate(0, 0); } 50% { transform: translate(25px, -15px); } 100% { transform: translate(0, 0); } }
    @keyframes float10 { 0% { transform: translate(0, 0); } 50% { transform: translate(-25px, -25px); } 100% { transform: translate(0, 0); } }

    .hero-content {
      text-align: center;
      position: relative;
      z-index: 1;
      max-width: 900px;
      margin: 0 auto;
    }

    .hero-eyebrow {
      color: var(--imt-purple);
      font-weight: 600;
      letter-spacing: 1px;
      margin-bottom: 1.5rem;
      display: inline-block;
      font-size: 0.9rem;
    }

    .hero-title {
      font-size: 4rem;
      line-height: 1.1;
      font-weight: 800;
      margin-bottom: 1.5rem;
      position: relative;
      display: inline-block;
    }

    .hero-title::after {
      content: '';
      position: absolute;
      height: 12px;
      width: 60%;
      background: linear-gradient(to right, var(--imt-purple), var(--color-accent2));
      bottom: -5px;
      left: 20%;
      z-index: -1;
      opacity: 0.3;
    }

    .hero-subtitle {
      font-size: 1.4rem;
      color: var(--color-muted);
      margin-bottom: 2.5rem;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    .hero-actions {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-bottom: 60px;
      align-items: center;
    }

    .program-selector {
      flex: 1;
      max-width: 460px;
      text-align: left;
      position: relative;
    }

    .custom-select {
      position: relative;
      font-family: var(--font-sans);
      width: 100%;
    }

    .select-selected {
      background: white;
      color: var(--color-text);
      padding: 12px 16px;
      border-radius: 8px;
      border: 2px solid var(--imt-purple);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: all 0.2s ease;
      font-weight: 500;
      text-align: left;
    }

    .select-selected.error {
      border-color: #e74c3c;
      box-shadow: 0 0 0 2px rgba(231, 76, 60, 0.2);
    }
    
    .error-message {
      color: #e74c3c;
      font-size: 0.85rem;
      margin: 0;
      display: none;
      position: absolute;
      top: -20px;
      left: 0;
      width: 100%;
      text-align: center;
    }
    
    .error-message.visible {
      display: block;
    }

    .select-selected:after {
      content: '';
      width: 10px;
      height: 10px;
      border: 2px solid var(--color-muted);
      border-width: 0 2px 2px 0;
      display: inline-block;
      transform: rotate(45deg) translateY(-2px);
      margin-left: 10px;
      transition: transform 0.2s ease;
    }

    .select-selected.select-arrow-active:after {
      transform: rotate(-135deg) translateY(-2px);
    }

    .select-selected:hover {
      border-color: var(--imt-purple);
      box-shadow: 0 0 0 2px rgba(110, 69, 226, 0.2);
    }

    .select-items {
      position: absolute;
      background-color: white;
      top: auto;
      bottom: calc(100% + 8px);
      left: 0;
      right: 0;
      z-index: 99;
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      max-height: 300px;
      overflow-y: auto;
      text-align: left;
    }

    .select-hide {
      display: none;
    }

    .select-item {
      color: var(--color-text);
      padding: 12px 16px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 400;
      border-bottom: 1px solid #f5f5f7;
      text-align: left;
    }

    .select-item:last-child {
      border-bottom: none;
    }

    .select-item:hover {
      background-color: var(--color-card-bg);
      color: var(--imt-purple);
    }

    .hero-btn {
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 500;
      font-size: 1rem;
      transition: all 0.2s ease;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
    }

    .hero-btn-primary {
      background: linear-gradient(to right, var(--imt-purple), #9c27b0);
      color: white;
      border: none;
      white-space: nowrap;
    }

    .hero-btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(106, 69, 226, 0.2);
      text-decoration: none;
    }

    .hero-btn-secondary {
      background: transparent;
      color: var(--color-text);
      border: 2px solid #ddd;
    }

    .hero-btn-secondary:hover {
      background: #f5f5f7;
      text-decoration: none;
    }

    .hero-brands {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      max-width: 700px;
      margin: 0 auto;
    }

    /* Adjust logo size in hero section */
    .hero-brands img {
      height: 30px;  /* Increased logo height */
      max-width: 120px;  /* Increased maximum width */
      width: auto;
      opacity: 0.75;  /* Slightly increased opacity */
      margin: 10px 20px;  /* More spacing between logos */
      object-fit: contain;
      vertical-align: middle;
    }
    
    /* Special handling for known large logos */
    .hero-brands img[src*="jnj.png"],
    .hero-brands img[src*="bayer.png"],
    .hero-brands img[src*="unilever.png"] {
      height: 28px;  /* Still slightly smaller for these logos */
      max-width: 100px;
    }

    .hero-brands-text {
      text-align: center;
      font-size: 0.9rem;
      color: var(--color-muted);
      margin-bottom: 1.5rem;
    }

    /* Responsive adjustments for logos */
    @media (max-width: 767px) {
      .hero-brands img {
        height: 25px;
        margin: 8px 15px;
      }
      
      .hero-brands img[src*="jnj.png"],
      .hero-brands img[src*="bayer.png"],
      .hero-brands img[src*="unilever.png"] {
        height: 22px;
      }
    }

    /* Animierte Schweizer Flagge */
    .swiss-flag {
      display: inline-block;
      width: 20px;
      height: 15px;
      background-color: var(--swiss-red);
      position: relative;
      margin-left: 8px;
      vertical-align: middle;
      border-radius: 2px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
      transform: translateY(-1px);
    }

    .swiss-flag::after {
      content: "";
      position: absolute;
      background-color: white;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 8px;
      height: 8px;
      clip-path: polygon(0% 33%, 33% 33%, 33% 0%, 66% 0%, 66% 33%, 100% 33%, 100% 66%, 66% 66%, 66% 100%, 33% 100%, 33% 66%, 0% 66%);
    }

    .swiss-flag-wrapper {
      display: inline-flex;
      align-items: center;
      position: relative;
    }

    @keyframes wave {
      0% {
        transform: translateY(-1px) rotate(0deg);
      }
      25% {
        transform: translateY(-1px) rotate(5deg);
      }
      75% {
        transform: translateY(-1px) rotate(-5deg);
      }
      100% {
        transform: translateY(-1px) rotate(0deg);
      }
    }

    .swiss-flag.waving {
      animation: wave 2s ease-in-out infinite;
      transform-origin: center left;
    }

    @media (max-width: 1024px) {
      .hero {
        padding: 50px 0 100px;
      }
      
      .hero-title {
        font-size: 3.2rem;
      }
    }

    @media (max-width: 767px) {
      .hero {
        padding: 40px 0 80px;
      }
      
      .hero-title {
        font-size: 2.5rem;
      }
      
      .hero-subtitle {
        font-size: 1.2rem;
      }
      
      .hero-actions {
        flex-direction: column;
        gap: 12px;
        width: 100%;
      }
      
      .program-selector {
        width: 100%;
        max-width: 100%;
      }
      
      .hero-brands {
        gap: 20px;
      }
      
      .hero-brands img {
        height: 20px;
      }
      
      .swiss-flag {
        width: 16px;
        height: 12px;
      }
      
      .swiss-flag::after {
        width: 6px;
        height: 6px;
      }
    }

    /* Behalte den alten Code für .hero-button, damit bestehender Code nicht bricht */
    .hero-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(to right, var(--imt-purple), #9c27b0);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.2s ease;
      text-transform: none;
      width: auto;
      max-width: fit-content;
      margin: 0 auto;
      border: none;
      cursor: pointer;
    }

    .hero-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(106, 69, 226, 0.2);
      text-decoration: none;
    }

    .content-section {
      padding: 60px 0;
    }

    .content-section h2 {
      text-align: center;
      margin-bottom: 40px;
    }

    /* Responsive Anpassungen */
    @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }

      h2 {
        font-size: 1.75rem;
      }

      h3 {
        font-size: 1.25rem;
      }

      .container {
        padding: 0 16px;
      }
      
      .courses-grid {
        grid-template-columns: 1fr;
      }
    }

    .tracks-variant-3 {
      padding: 80px 0;
      background: #fff;
      position: relative;
    }
    
    .tracks-variant-3 .tracks-header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .tracks-variant-3 .tracks-title {
      font-size: 2.5rem;
      margin-bottom: 10px;
      font-weight: 700;
    }
    
    .tracks-variant-3 .tracks-subtitle {
      font-size: 1.1rem;
      color: var(--color-muted);
      max-width: 700px;
      margin: 0 auto;
    }
    
    .tracks-variant-3 .track-filters {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }
    
    .tracks-variant-3 .filter-btn {
      background: none;
      border: 1px solid #e1e1e1;
      border-radius: 30px;
      padding: 8px 20px;
      font-size: 0.9rem;
      color: var(--color-muted);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .tracks-variant-3 .filter-btn:hover {
      border-color: var(--imt-purple);
      color: var(--imt-purple);
    }
    
    .tracks-variant-3 .filter-btn.active {
      background: var(--imt-purple);
      color: white;
      border-color: var(--imt-purple);
    }
    
    .tracks-variant-3 .tracks-container {
      position: relative;
      overflow: hidden;
    }
    
    .tracks-variant-3 .scroll-container {
      display: flex;
      gap: 25px;
      padding: 20px 0;
      overflow-x: auto;
      scroll-behavior: smooth;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    
    .tracks-variant-3 .scroll-container::-webkit-scrollbar {
      display: none;
    }
    
    .tracks-variant-3 .track-card {
      flex: 0 0 350px;
      border-radius: 15px;
      background: #f5f5f7;
      overflow: hidden;
      box-shadow: none;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      border: 2px solid transparent;
      position: relative;
      cursor: pointer;
    }
    
    /* Box-Link, der die gesamte Karte umfasst */
    .tracks-variant-3 .card-link {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      text-decoration: none;
    }
    
    .tracks-variant-3 .track-card:hover {
      border: 2px solid var(--imt-purple);
      transform: none;
      box-shadow: none;
    }
    
    .tracks-variant-3 .card-header {
      padding: 20px;
      border-bottom: 1px solid #f5f5f7;
      min-height: 110px; /* Stellt sicher, dass alle Header die gleiche Höhe haben */
      display: flex;
      flex-direction: column;
    }
    
    .tracks-variant-3 .track-category {
      display: inline-block;
      font-size: 0.75rem;
      text-transform: uppercase;
      font-weight: 600;
      letter-spacing: 1px;
      margin-bottom: 10px;
    }
    
    .tracks-variant-3 .category-strategy {
      color: var(--imt-purple);
    }
    
    .tracks-variant-3 .category-program {
      color: #17a689;
    }
    
    .tracks-variant-3 .category-finance {
      color: #17a689;
    }
    
    .tracks-variant-3 .category-marketing {
      color: #fc5c63;
    }
    
    .tracks-variant-3 .category-technology {
      color: #209cee;
    }
    
    .tracks-variant-3 .track-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin: 0;
      line-height: 1.3;
      height: 65px; /* Feste Höhe für Titel, egal ob 1 oder 2 Zeilen */
      display: flex;
      align-items: flex-start;
    }
    
    .tracks-variant-3 .card-body {
      padding: 20px;
      display: flex;
      flex-direction: column;
      flex-grow: 1;
    }
    
    /* Info-Bereich für die Icons und Texte */
    .tracks-variant-3 .info-section {
      margin-bottom: 15px;
    }
    
    .tracks-variant-3 .card-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      font-size: 0.9rem;
      color: var(--color-muted);
      min-height: 24px; /* Einheitliche Höhe für alle Zeilen */
    }
    
    .tracks-variant-3 .card-row i {
      color: var(--imt-purple);
      font-size: 1.1rem;
      width: 20px; /* Feste Breite für Icons */
      text-align: center; /* Zentriert die Icons */
      flex-shrink: 0; /* Verhindert Schrumpfen */
    }
    
    /* Teal Icons für Programme */
    .track-card[data-category="programme"] .card-row i {
      color: #17a689;
    }
    
    .tracks-variant-3 .track-description {
      margin: 15px 0;
      font-size: 0.95rem;
      line-height: 1.5;
      color: var(--color-text);
      flex-grow: 1;
      min-height: 80px; /* Mindesthöhe für Beschreibungen */
    }
    
    .tracks-variant-3 .track-link {
      color: var(--imt-purple);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      font-weight: 500;
      font-size: 0.9rem;
      position: relative;
      overflow: hidden;
    }
    
    /* Teal Link für Programme */
    .track-card[data-category="programme"] .track-link {
      color: #17a689;
    }
    
    .tracks-variant-3 .track-link:hover {
      text-decoration: none !important;
    }
    
    /* Animierten Unterstrich entfernen */
    .tracks-variant-3 .track-link::after {
      content: none !important;
      display: none !important;
    }
    
    .tracks-variant-3 .track-link:hover::after {
      transform: none;
    }
    
    /* Stärkere Regel, um jeglichen Unterstrich zu verhindern */
    .tracks-variant-3 a.track-link:hover {
      text-decoration: none !important;
      border-bottom: none !important;
    }
    
    .tracks-variant-3 .track-link i {
      transition: transform 0.2s ease;
    }
    
    .tracks-variant-3 .track-link:hover i {
      transform: translateX(4px);
    }
    
    /* Pfeil bewegt sich auch beim Hover über die gesamte Karte */
    .tracks-variant-3 .track-card:hover .track-link i {
      transform: translateX(4px);
    }
    
    .tracks-variant-3 .scroll-controls {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      margin-top: 20px;
      padding-right: 20px;
    }
    
    .tracks-variant-3 .scroll-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      background: #e0e0e0;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .tracks-variant-3 .scroll-btn:hover {
      background: #cccccc;
      color: white;
    }
    
    .tracks-variant-3 .scroll-btn i {
      font-size: 1.5rem;
    }
    
    .tracks-variant-3 .scroll-btn.disabled {
      opacity: 0.4;
      cursor: default;
      pointer-events: none;
    }
    
    .tracks-variant-3 .track-card.hidden {
      display: none;
    }
    
    @media (max-width: 768px) {
      .tracks-variant-3 .track-card {
        flex: 0 0 100%;
      }
    }

    .network-section {
      padding: 100px 0;
      background: linear-gradient(to bottom, #fff, #f9f9fa);
    }
    
    .network-intro {
      text-align: center;
      margin-bottom: 60px;
    }
    
    .network-eyebrow {
      font-size: 1rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--imt-purple);
      margin-bottom: 1rem;
      font-weight: 500;
    }
    
    .network-title {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      font-weight: 700;
    }
    
    .network-description {
      color: var(--color-muted);
      font-size: 1.1rem;
      max-width: 900px;
      margin: 0 auto 2rem;
      line-height: 1.5;
      white-space: normal;
      overflow-wrap: anywhere;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .network-filter {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 40px;
      flex-wrap: wrap;
    }
    
    .filter-btn {
      background: none;
      border: 1px solid #e1e1e1;
      border-radius: 30px;
      padding: 8px 20px;
      font-size: 0.9rem;
      color: var(--color-muted);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .filter-btn:hover {
      border-color: var(--imt-purple);
      color: var(--imt-purple);
    }
    
    .filter-btn.active {
      background: var(--imt-purple);
      color: white;
      border-color: var(--imt-purple);
    }
    
    .partners {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 30px;
      margin-bottom: 60px;
    }
    
    .partner-item {
      background: white;
      border-radius: 10px;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: none;
      transition: all 0.3s ease;
      border: 1px solid #f0f0f0;
      height: 150px;
    }
    
    .partner-item:hover {
      border-color: var(--color-accent2);
      box-shadow: none;
      transition: all 0.3s ease;
    }
    
    .partner-logo {
      max-width: 80%;
      max-height: 80%;
      object-fit: contain;
    }
    
    .faculty-section {
      margin-top: 60px;
    }
    
    h3.faculty-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--imt-purple);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    
    .faculty-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 32px;
      margin-top: 48px;
    }
    
    .faculty-card {
      background: white;
      border: 1px solid #eee;
      border-radius: var(--radius);
      overflow: hidden;
      transition: border-color 0.3s ease;
      box-shadow: none;
    }
    
    .faculty-card:hover {
      border-color: var(--color-accent2);
    }
    
    .faculty-card img {
      width: 100%;
      height: 280px;
      object-fit: cover;
    }
    
    .faculty-info {
      padding: 20px;
    }
    
    .faculty-name {
      font-size: 1.1rem;
      margin-bottom: 4px;
    }
    
    .faculty-title {
      color: var(--color-accent2);
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 12px;
    }
    
    .faculty-description {
      color: var(--color-muted);
      font-size: 0.9rem;
      line-height: 1.4;
    }
    
    .view-all-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: transparent;
      color: var(--color-text);
      border: 2px solid #ddd;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 500;
      transition: all 0.3s;
    }
    
    .view-all-btn:hover {
      background: #f5f5f7;
      text-decoration: none;
    }
    
    .section-link {
      text-align: center;
      margin-top: 40px;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .network-title {
        font-size: 32px;
      }
      
      .partners {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      
      .faculty-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
    }

    .select-category {
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--imt-purple);
      padding: 12px 16px 8px;
      border-bottom: none;
      background-color: #f9f9fb;
      pointer-events: none;
    }

    /* Teal-Farbe für Programme-Kategorie im Dropdown */
    .select-category:nth-child(5) {
      color: #17a689;
    }

    /* Direktes Ansprechen der Programm-Kategorie über Klasse */
    .programme-category {
      color: #17a689 !important;
    }

    .select-category:not(:first-child) {
      margin-top: 8px;
      border-top: 1px solid #eee;
    }

    /* Teal Border bei Hover für Programme */
    .track-card[data-category="programme"]:hover {
      border: 2px solid #17a689;
    }

    /* Purple Border bei Hover für Managementseminare */
    .track-card[data-category="managementseminare"]:hover {
      border: 2px solid var(--imt-purple);
    }

    /* Purple Button Hover für Managementseminare Filter */
    .tracks-variant-3 .filter-btn[data-filter="managementseminare"]:hover {
      border-color: var(--imt-purple);
      color: var(--imt-purple);
    }

    /* Purple Active Button für Managementseminare Filter */
    .tracks-variant-3 .filter-btn[data-filter="managementseminare"].active {
      background: var(--imt-purple);
      color: white;
      border-color: var(--imt-purple);
    }

    /* Teal Button Hover für Programme Filter */
    .tracks-variant-3 .filter-btn[data-filter="programme"]:hover {
      border-color: #17a689;
      color: #17a689;
    }

    /* Teal Active Button für Programme Filter */
    .tracks-variant-3 .filter-btn[data-filter="programme"].active {
      background: #17a689;
      color: white;
      border-color: #17a689;
    }

    /* Custom Select für Dropdown-Stil auf Programme */
    .select-items .select-item:nth-child(n+6) {
      transition: all 0.2s ease;
    }
    
    /* Die Programme StGallen Management Programm, CAS, und Fast Track MBA verwenden Grün */
    .select-items .select-item[data-value="management_programm.html"]:hover,
    .select-items .select-item[data-value="management_programm_cas.html"]:hover,
    .select-items .select-item[data-value="fast_track_mba.html"]:hover {
      color: #17a689;
    }
    
    /* Die KI-Programme verwenden Lila wie die anderen Einzelseminare */
    .select-items .select-item[data-value="intelligent_process_automation.html"]:hover,
    .select-items .select-item[data-value="ki_business_strategy_digital_transformation.html"]:hover,
    .select-items .select-item[data-value="ki_augmented_decision_making.html"]:hover {
      color: var(--imt-purple);
    }

    .sv-innovation-academy-section {
      padding: 80px 0;
      background: #fff;
    }
    
    .sv-gradient-teaser-v3 {
      background: radial-gradient(circle at top right, #970289, #6e45e2);
      border-radius: var(--radius);
      color: white;
      overflow: hidden;
      position: relative;
      margin: 50px 0;
      padding: 60px 40px;
    }

    .sv-gradient-v3-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      opacity: 0.1;
      z-index: 1;
      background-image: url('https://images.unsplash.com/photo-1501594907352-04cda38ebc29');
      background-size: cover;
      background-position: center;
      mix-blend-mode: luminosity;
    }

    .sv-gradient-v3-container {
      position: relative;
      z-index: 2;
      max-width: 1100px;
      margin: 0 auto;
    }

    .sv-gradient-v3-header {
      display: flex;
      align-items: flex-start;
      margin-bottom: 40px;
    }

    .sv-gradient-v3-header-content {
      flex: 1;
    }

    .sv-gradient-v3-date-badge {
      background-color: rgba(255, 255, 255, 0.9);
      color: var(--color-text);
      border-radius: 10px;
      padding: 16px 24px;
      text-align: center;
      margin-left: 30px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    .sv-gradient-v3-badge {
      display: inline-block;
      padding: 8px 20px;
      background-color: white;
      border: 2px solid #17a689;
      border-radius: 30px;
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 16px;
      color: #17a689;
    }

    .sv-gradient-v3-title {
      font-size: 3rem;
      margin-bottom: 16px;
      color: white;
      line-height: 1.1;
    }

    .sv-gradient-v3-subtitle {
      font-size: 1.2rem;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 0;
      max-width: 80%;
    }

    .sv-gradient-v3-date {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--imt-purple);
      margin-bottom: 6px;
    }

    .sv-gradient-v3-location {
      font-size: 0.9rem;
      color: var(--color-text);
    }

    .sv-gradient-v3-features {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin: 40px 0;
    }

    .sv-gradient-v3-feature {
      background-color: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 24px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      transition: border-color 0.3s ease, background-color 0.3s ease;
    }

    .sv-gradient-v3-feature:hover {
      border-color: rgba(200, 200, 200, 0.8);
      background-color: rgba(255, 255, 255, 0.15);
    }

    .sv-gradient-v3-feature-icon {
      font-size: 2rem;
      color: #e2b245;
      margin-bottom: 16px;
      transition: none;
    }

    .sv-gradient-v3-feature-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 10px;
      transition: none;
    }

    .sv-gradient-v3-feature-text {
      font-size: 0.95rem;
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.5;
      transition: none;
    }

    .sv-gradient-v3-footer {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      margin-top: 30px;
    }

    .sv-gradient-v3-footer-text {
      font-size: 1.1rem;
      color: rgba(255, 255, 255, 0.9);
      max-width: 100%;
      margin-bottom: 20px;
    }
    
    .sv-gradient-v3-partner-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      margin-bottom: 30px;
    }

    .sv-gradient-v3-cta {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      color: white;
      font-weight: 500;
      padding: 12px 32px;
      min-width: 300px;
      border-radius: 8px;
      font-size: 1rem;
      text-decoration: none;
      border: 2px solid #ddd;
      transition: all 0.2s ease;
      cursor: pointer;
      white-space: nowrap;
    }

    .sv-gradient-v3-cta:hover {
      background: rgba(255, 255, 255, 0.1);
      box-shadow: 0 6px 12px rgba(255, 255, 255, 0.15);
      text-decoration: none;
    }
    
    .sv-gradient-v3-cta .arrow-icon {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-weight: 400;
      font-size: 1.2rem;
      margin-left: 8px;
      display: inline-block;
      color: white;
      transition: transform 0.2s ease;
    }
    
    .sv-gradient-v3-cta:hover .arrow-icon {
      transform: translateX(4px);
    }

    .sv-gradient-v3-partner {
      margin-top: 16px;
      display: flex;
      align-items: center;
    }
    
    .sv-gradient-v3-partner span {
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.7);
      margin-right: 12px;
    }
    
    .sv-gradient-v3-partner img {
      height: 35px;
      background-color: white;
      padding: 4px 10px;
      border-radius: 6px;
    }
    
    @media (max-width: 900px) {
      .sv-gradient-v3-header {
        flex-direction: column;
      }
      
      .sv-gradient-v3-date-badge {
        margin: 20px 0 0;
        align-self: flex-start;
      }
      
      .sv-gradient-v3-features {
        grid-template-columns: 1fr;
      }
      
      .sv-gradient-v3-footer {
        flex-direction: column;
        align-items: flex-start;
        gap: 20px;
      }
      
      .sv-gradient-v3-footer-text {
        max-width: 100%;
      }
      
      .sv-gradient-v3-subtitle {
        max-width: 100%;
      }
      
      .sv-gradient-v3-partner {
        margin-bottom: 20px;
      }
    }

    /* Remove any transform effects from all elements within the feature boxes */
    .sv-gradient-v3-feature *,
    .sv-gradient-v3-feature *:hover {
      transform: none !important;
      transition: color 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;
    }

    /* Add specific styling for the Silicon Valley Innovation Academy section */
    .sv-innovation-academy-section .tracks-header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .sv-innovation-academy-section .tracks-title {
      font-size: 2.5rem;
      margin-bottom: 10px;
      font-weight: 700;
      text-align: center;
    }
    
    .sv-innovation-academy-section .tracks-subtitle {
      font-size: 1.1rem;
      color: var(--color-muted);
      max-width: 700px;
      margin: 0 auto;
      text-align: center;
    }

    /* Füge die Tooltip-Stile zum CSS hinzu, direkt nach .error-message.visible */
    .error-message.visible {
      display: block;
    }

    /* Tooltip Error Styles */
    .tooltip-container {
      position: relative;
    }

    .error-tooltip {
      position: absolute;
      bottom: calc(100% + 10px);
      left: 20px;
      background: #e74c3c;
      color: white;
      padding: 8px 15px;
      border-radius: 6px;
      font-size: 14px;
      z-index: 10;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      white-space: nowrap;
      display: none;
    }

    .error-tooltip::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 15px;
      border-width: 6px;
      border-style: solid;
      border-color: #e74c3c transparent transparent transparent;
    }

    .error-tooltip.visible {
      display: block;
    }
    
    /* ============ Gradientes Zitat-Layout ============ */
    .gradient-quotes {
      display: grid;
      grid-template-columns: repeat(2, 1fr); /* Changed to always show 2 columns */
      grid-template-rows: auto auto; /* Two rows for 4 testimonials */
      gap: 30px;
      margin-bottom: 40px;
    }
    
    @media (max-width: 968px) {
      .gradient-quotes {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto auto; /* Four rows for mobile */
      }
    }
    
    .gradient-quote-card {
      border-radius: var(--radius);
      overflow: hidden;
      position: relative;
      border: 2px solid transparent;
      transition: all 0.3s ease;
    }
    
    .gradient-quote-card:hover {
      border-color: var(--imt-purple);
    }
    
    .gradient-quote-inner {
      display: flex;
      flex-direction: column;
      height: 100%;
      background: linear-gradient(to bottom right, #ffffff, #f8f9fa);
      position: relative;
      z-index: 1;
    }
    
    .gradient-quote-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, var(--imt-purple) 0%, var(--imt-green) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 0;
    }
    
    .gradient-quote-card:hover::before {
      opacity: 0.03;
    }
    
    .gradient-quote-content {
      padding: 40px 30px 25px;
      position: relative;
      flex: 1;
    }
    
    .gradient-quote-icon {
      position: absolute;
      top: -15px;
      right: 25px;
      font-size: 4rem;
      color: var(--imt-purple);
      opacity: 0.1;
      transition: transform 0.3s ease;
    }
    
    .gradient-quote-card:hover .gradient-quote-icon {
      transform: rotate(10deg);
    }
    
    .gradient-quote-text {
      font-size: 1.2rem;
      line-height: 1.6;
      color: var(--color-text);
      font-weight: 400;
      position: relative;
      z-index: 1;
    }
    
    .gradient-quote-footer {
      background-color: #fafafa;
      padding: 20px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-top: 1px solid #f0f0f0;
    }
    
    .gradient-person {
      display: flex;
      align-items: center;
    }
    
    .gradient-avatar-container {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      overflow: hidden;
      margin-right: 15px;
      border: 3px solid white;
      transition: all 0.3s ease;
    }
    
    .gradient-quote-card:hover .gradient-avatar-container {
      border-color: #f5f5f7;
    }
    
    .gradient-avatar {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .gradient-info {
      display: flex;
      flex-direction: column;
      margin-top: 6px; /* Verschiebt den Text nach unten für vertikale Zentrierung */
    }
    
    .gradient-name {
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 2px;
    }
    
    .gradient-position {
      font-size: 0.85rem;
      color: var(--color-muted);
      display: inline-block;
    }
    
    .gradient-program {
      font-size: 0.8rem;
      color: var(--imt-purple);
      margin-top: 2px;
    }
    
    .gradient-company {
      height: 40px;
      width: auto;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }
    
    .gradient-quote-card:hover .gradient-company {
      opacity: 1;
    }
    
    @media (max-width: 968px) {
      .gradient-quotes {
        grid-template-columns: 1fr;
      }
    }

    .sv-mba-link {
      color: #fff !important;
      text-decoration: underline !important;
    }
    .sv-mba-link:hover, .sv-mba-link:focus {
      color: #fff !important;
      text-decoration: underline !important;
    }
    
    /* Valley Excellence Seal Styling */
    .valley-seal {
      position: absolute;
      top: 30px;
      right: 60px;
      z-index: 10;
    }
    
    .valley-seal img {
      width: 100px;
      height: auto;
    }
    
    /* Make space for seal in headline area without affecting layout */
    @media (min-width: 577px) and (max-width: 1100px) {
      .hero-title {
        padding-right: 70px;
      }
    }
    
    /* Responsive adjustments */
    @media (max-width: 992px) {
      .valley-seal {
        top: 20px;
        right: 35px;
      }
      
      .valley-seal img {
        width: 90px;
      }
    }
    
    @media (max-width: 768px) {
      .valley-seal {
        top: 15px;
        right: 25px;
      }
      
      .valley-seal img {
        width: 75px;
      }
    }
    
    @media (max-width: 576px) {
      .valley-seal {
        position: absolute;
        right: 15px;
        top: 10px;
      }
      
      .valley-seal img {
        width: 55px;
      }
      
      /* Remove padding from headline so it displays normally */
      .hero-title {
        padding-right: 0;
      }
    }

    /* Gallery styling for "Einblicke & Impressionen" section */
    .gallery {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-template-rows: repeat(2, 280px);
      gap: 20px;
      margin: 3rem auto;
    }
    
    .gallery-item {
      border-radius: 12px;
      overflow: hidden;
      border: 2px solid transparent;
      transition: border-color 0.3s ease;
      position: relative;
    }
    
    .gallery-item:hover {
      border-color: var(--imt-purple);
    }
    
    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: none;
    }
    
    /* Positionsklassen */
    .item1 { grid-column: 1; grid-row: 1 / span 2; }
    .item2 { grid-column: 2; grid-row: 1; }
    .item3 { grid-column: 3; grid-row: 1 / span 2; }
    .item4 { grid-column: 4; grid-row: 1; }
    .item5 { grid-column: 2; grid-row: 2; }
    .item6 { grid-column: 4; grid-row: 2; }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .gallery {
        grid-template-columns: 1fr;
        grid-template-rows: repeat(6, minmax(200px, auto));
        width: calc(100% - 40px);
        gap: 16px;
        /* Safari-Fix: Verhindern der Überlagerung bei Safari Mobile */
        aspect-ratio: auto;
        height: auto;
        margin-bottom: 30px;
        /* Garantiert, dass die Galerie nicht über andere Elemente hinausragt */
        overflow: hidden;
      }
      
      /* Safari-spezifischer Fix */
      @supports (-webkit-touch-callout: none) {
        .gallery {
          aspect-ratio: auto;
          height: auto;
          max-height: none;
          margin-bottom: 40px;
        }
        
        .gallery-item {
          height: 200px;
          min-height: 200px;
          max-height: 200px;
        }
      }
      
      .item1, .item2, .item3, .item4, .item5, .item6 {
        grid-column: 1;
        grid-row: auto;
      }
    }

    /* Impressionen Section */
    #impressionen {
      padding: 80px 0;
      position: relative;
    }
    
    #impressionen h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      font-weight: 600;
      text-align: left !important;
      color: var(--color-text);
    }

    /* Webinar-Variante mit verschiedenen Vorteilsrotationen */
    .popup-overlay.webinar-variant {
      background: linear-gradient(135deg, #4CB796, #388E3C);
    }

    .popup-base.popup-voucher.webinar-variant {
      border: 2px solid #4CB796;
    }

    .popup-graphic.popup-voucher-graphic.webinar-variant {
      background: none;
    }

    .popup-graphic-inner.webinar-inner {
      background: none;
    }

    .voucher-rotating-txt.webinar-variant {
      color: white;
    }

    .voucher-title.webinar-title {
      color: white;
    }

    .rotating-benefits.webinar-variant {
      color: white;
    }

    .benefit.webinar-variant {
      background: rgba(255, 255, 255, 0.2);
    }

    .benefit-title.webinar-variant {
      color: white;
    }

    .benefit-description.webinar-variant {
      color: rgba(255, 255, 255, 0.8);
    }

    /* Ansprechpartner-Variante mit Benutzer-Icon */
    .popup-overlay.contact-variant {
      background: linear-gradient(135deg, #FF9800, #F57C00);
    }

    .popup-base.popup-voucher.contact-variant {
      border: 2px solid #FF9800;
    }

    .popup-graphic.popup-voucher-graphic.contact-variant {
      background: none;
    }

    .popup-graphic-inner.contact-inner {
      background: none;
    }

    .voucher-contact-info.contact-variant {
      color: white;
    }

    .voucher-title.contact-title {
      color: white;
    }

    .contact-benefits.contact-variant {
      color: rgba(255, 255, 255, 0.8);
    }

    .contact-benefit.contact-variant {
      background: rgba(255, 255, 255, 0.2);
    }

    .contact-benefit i.contact-variant {
      color: white;
    }

    .contact-benefit span.contact-variant {
      color: white;
    }

    /* Events & News Variante mit Slideshow-Animation */
    .popup-overlay.events-variant {
      background: linear-gradient(135deg, #2196F3, #1976D2);
    }

    .popup-base.popup-voucher.events-variant {
      border: 2px solid #2196F3;
    }

    .popup-graphic.popup-voucher-graphic.events-variant {
      background: none;
    }

    .popup-graphic-inner.events-inner {
      background: none;
    }

    .voucher-events-info.events-variant {
      color: white;
    }

    .voucher-title.events-title {
      color: white;
    }

    .events-slideshow.events-variant {
      color: white;
    }

    .event-slide.active {
      background: rgba(255, 255, 255, 0.2);
    }

    .event-icon.events-variant {
      color: white;
    }

    .event-name.events-variant {
      color: white;
    }

    .event-date.events-variant {
      color: rgba(255, 255, 255, 0.8);
    }

    /* Neuronales Netzwerk Popup Styles */
    .neural-network-graphic {
      background: linear-gradient(135deg, var(--imt-purple), #9c27b0);
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 0;
    }
    
    #neural-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    
      .neural-nodes-container {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 2;
    pointer-events: none; /* Damit der Container selbst keine Events abfängt */
  }
  
  .neural-node {
    position: absolute;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: white;
    cursor: pointer;
    transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    z-index: 3;
    pointer-events: auto; /* Ermöglicht Events auf den Knoten */
    transform: translate(-50%, -50%); /* Zentrieren des Knotens auf den berechneten Koordinaten */
  }
    
    .neural-node i {
      font-size: 22px;
      margin-bottom: 4px;
    }
    
    .neural-node .node-label {
      position: absolute;
      bottom: -25px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 10px;
      font-weight: 600;
      white-space: nowrap;
      opacity: 0.9;
      transition: opacity 0.3s ease;
    }
    
    .neural-node:hover {
      transform: scale(1.08);
      background: rgba(255, 255, 255, 0.2);
      box-shadow: 0 4px 15px rgba(255, 255, 255, 0.1);
      transition: all 0.4s ease;
    }
    
    .neural-node:hover .node-label {
      opacity: 1;
      transform: translateX(-50%) translateY(-2px);
      transition: all 0.4s ease;
    }
    
    .neural-node:hover i {
      transform: scale(1.1);
      transition: all 0.4s ease;
    }
    
    .neural-node.active {
      background: rgba(255, 255, 255, 0.3);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
      transform: scale(1.15);
      z-index: 4;
    }
    
    .neural-info-box {
      position: absolute;
      bottom: 20px;
      left: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(12px);
      border-radius: 12px;
      padding: 18px;
      color: white;
      opacity: 0;
      transform: translateY(15px);
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      z-index: 3;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }
    
    .neural-info-box.active {
      opacity: 1;
      transform: translateY(0);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    }
    
    .info-content {
      display: none;
    }
    
    .info-content.active {
      display: block;
    }
    
    .info-content h3 {
      margin-bottom: 5px;
      font-size: 14px;
      font-weight: 600;
    }
    
    .info-content p {
      font-size: 12px;
      opacity: 0.9;
      margin: 0;
      line-height: 1.4;
    }
    
    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
      }
      70% {
        box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
      }
    }
    
    .neural-node.pulse {
      animation: neural-pulse 2s ease-in-out infinite;
    }
    
    @keyframes neural-pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.2);
        transform: scale(1);
      }
      50% {
        box-shadow: 0 0 10px 5px rgba(255, 255, 255, 0.1);
        transform: scale(1.05);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
        transform: scale(1);
      }
    }
    
    @media (max-width: 768px) {
      .neural-node {
        width: 50px;
        height: 50px;
      }
      
      .neural-node i {
        font-size: 18px;
      }
      
      .neural-node .node-label {
        font-size: 9px;
        bottom: -20px;
      }
      
      .neural-info-box {
        bottom: 10px;
        left: 10px;
        right: 10px;
        padding: 10px;
      }
    }
  </style>

  <!-- BoxIcons für Icons -->
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <!-- Font Awesome für die Teaser-Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  
  <!-- Favicon -->
  <link rel="icon" href="assets/favicon.png" type="image/png">

  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KBG73BVB');</script>
<!-- End Google Tag Manager -->
  <script src="assets/js/language-switch.js"></script>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KBG73BVB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  <!-- Navigation einbinden -->
  <div id="navigation-container"></div>
  <!-- Sidebar einbinden -->
  <div id="sidebar-container"></div>

  <!-- Hauptinhalt der Startseite -->
  <main>
    <!-- Hero-Sektion -->
    <section class="hero">
      <div class="valley-seal">
        <img src="assets/seal/valley_excellence.png" alt="Valley Excellence Seal">
      </div>
      <div class="neural-network-bg">
        <canvas id="neural-network-canvas" class="neural-network-canvas"></canvas>
      </div>
      <div class="container">
        <div class="hero-content">
          <span class="hero-eyebrow">
            StGallen imt Business School
          </span>
          <h1 class="hero-title">Weiterbildung für Exzellenz in Management und Technologie</h1>
          <p class="hero-subtitle">Gestalten Sie Ihre berufliche Zukunft im St. Gallen Management Valley – mit fundierter Weiterbildung zwischen Management und Technologie.</p>
          
          <div class="hero-actions">
            <div class="program-selector">
              <div class="tooltip-container">
                <div class="error-tooltip">Bitte wählen Sie eine Weiterbildung aus</div>
                <div class="custom-select">
                  <div class="select-selected">Wählen Sie Ihre Weiterbildung</div>
                  <div class="select-items select-hide">
                    <div class="select-category">Managementseminare</div>
                    <div class="select-item" data-value="integrated_management_strategy.html">Integrated Management and Strategy</div>
                    <div class="select-item" data-value="financial_management.html">Financial Management</div>
                    <div class="select-item" data-value="inspirational_leadership.html">Inspirational Leadership</div>
                    <div class="select-item" data-value="marketing_sales_brand_communication.html">Marketing, Sales and Brand Communication</div>
                    <div class="select-item" data-value="intelligent_process_automation.html">Intelligent Process Automation</div>
                    <div class="select-item" data-value="ai_augmented_decision_making.html">KI-Augmented Decision Making</div>
                    <div class="select-category programme-category">Programme</div>
                    <div class="select-item" data-value="management_programm.html">StGallen Management Programm</div>
                    <div class="select-item" data-value="management_programm_cas.html">StGallen Certified Management CAS</div>
                    <div class="select-item" data-value="ki_excellence_programm.html">StGallen AI Excellence Management Programm</div>
                    <div class="select-item" data-value="fast_track_mba.html">StGallen Fast Track MBA Programm</div>
                  </div>
                </div>
              </div>
            </div>
            <a href="#" class="hero-btn hero-btn-primary" id="program-link">
              Mehr erfahren <span class="arrow-icon">→</span>
            </a>
          </div>
          
          <p class="hero-brands-text">Vertrauen unserer Kompetenz</p>
          <div class="hero-brands" id="random-logos">
            <!-- Company logos will be loaded dynamically -->
          </div>
        </div>
      </div>
    </section>

    <!-- Tracks-Sektion (Variante 3) -->
    <section class="tracks-variant-3">
      <div class="container">
        <div class="tracks-header">
          <h2 class="tracks-title">Unsere Weiterbildungen</h2>
          <p class="tracks-subtitle">Entdecken Sie unsere praxisorientierten Weiterbildungen, die Management-Know-how mit Technologie-Kompetenz verbinden</p>
        </div>
        
        <div class="track-filters">
          <button class="filter-btn active" data-filter="alle">Alle</button>
          <button class="filter-btn" data-filter="managementseminare">Managementseminare</button>
          <button class="filter-btn" data-filter="programme">Programme</button>
        </div>
        
        <div class="tracks-container">
          <div class="scroll-container">
            <!-- Card 1 -->
            <div class="track-card" data-category="managementseminare">
              <a href="integrated_management_strategy.html" class="card-link" aria-label="Integrated Management and Strategy Details"></a>
              <div class="card-header">
                <span class="track-category category-strategy">Managementseminar</span>
                <h3 class="track-title">Integrated Management and Strategy</h3>
              </div>
              <div class="card-body">
                <div class="info-section">
                  <div class="card-row">
                    <i class="bx bx-map"></i>
                    <span>St. Gallen</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-time"></i>
                    <span>3 Tage, optional mit ECTS</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-money"></i>
                    <span>CHF 2'400 zzgl. 8,1 % MwSt.</span>
                  </div>
                </div>
                <p class="track-description">Lernen Sie, integriertes Management wirksam einzusetzen – für strategische Ausrichtung, erfolgreiche Transformation und den nachhaltigen Einsatz von KI.</p>
                <a href="integrated_management_strategy.html" class="track-link" style="position: relative; z-index: 2;">Mehr erfahren <i class="bx bx-right-arrow-alt"></i></a>
              </div>
            </div>
            
            <!-- Card 2 -->
            <div class="track-card" data-category="managementseminare">
              <a href="financial_management.html" class="card-link" aria-label="Financial Management Details"></a>
              <div class="card-header">
                <span class="track-category category-strategy">Managementseminar</span>
                <h3 class="track-title">Financial Management</h3>
              </div>
              <div class="card-body">
                <div class="info-section">
                  <div class="card-row">
                    <i class="bx bx-map"></i>
                    <span>St. Gallen</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-time"></i>
                    <span>3 Tage, optional mit ECTS</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-money"></i>
                    <span>CHF 2'400 zzgl. 8,1 % MwSt.</span>
                  </div>
                </div>
                <p class="track-description">Entwickeln Sie finanzielle Entscheidungskompetenz, um strategisches Wachstum gezielt zu steuern.</p>
                <a href="financial_management.html" class="track-link" style="position: relative; z-index: 2;">Mehr erfahren <i class="bx bx-right-arrow-alt"></i></a>
              </div>
            </div>
            
            <!-- Card 3 -->
            <div class="track-card" data-category="managementseminare">
              <a href="inspirational_leadership.html" class="card-link" aria-label="Inspirational Leadership Details"></a>
              <div class="card-header">
                <span class="track-category category-strategy">Managementseminar</span>
                <h3 class="track-title">Inspirational Leadership</h3>
              </div>
              <div class="card-body">
                <div class="info-section">
                  <div class="card-row">
                    <i class="bx bx-map"></i>
                    <span>St. Gallen</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-time"></i>
                    <span>3 Tage, optional mit ECTS</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-money"></i>
                    <span>CHF 2'400 zzgl. 8,1 % MwSt.</span>
                  </div>
                </div>
                <p class="track-description">Entwickeln Sie Ihre Führungspersönlichkeit für klare, empathische und strategische Führung in Zeiten digitaler und KI-getriebener Veränderung.</p>
                <a href="inspirational_leadership.html" class="track-link" style="position: relative; z-index: 2;">Mehr erfahren <i class="bx bx-right-arrow-alt"></i></a>
              </div>
            </div>
            
            <!-- Card 4 -->
            <div class="track-card" data-category="managementseminare">
              <a href="marketing_sales_brand_communication.html" class="card-link" aria-label="Marketing, Sales and Brand Communication Details"></a>
              <div class="card-header">
                <span class="track-category category-strategy">Managementseminar</span>
                <h3 class="track-title">Marketing, Sales and Brand Communication</h3>
              </div>
              <div class="card-body">
                <div class="info-section">
                  <div class="card-row">
                    <i class="bx bx-map"></i>
                    <span>St. Gallen</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-time"></i>
                    <span>3 Tage, optional mit ECTS</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-money"></i>
                    <span>CHF2'400 zzgl. 8,1 % MwSt.</span>
                  </div>
                </div>
                <p class="track-description">Lernen Sie, wie Sie Marketing und Vertrieb mit Strategie und KI wirkungsvoll für nachhaltigen Markterfolg einsetzen.</p>
                <a href="marketing_sales_brand_communication.html" class="track-link" style="position: relative; z-index: 2;">Mehr erfahren <i class="bx bx-right-arrow-alt"></i></a>
              </div>
            </div>
            
            <!-- Card 5 -->
            <div class="track-card" data-category="managementseminare">
              <a href="intelligent_process_automation.html" class="card-link" aria-label="Intelligent Process Automation Details"></a>
              <div class="card-header">
                <span class="track-category category-strategy">Managementseminar</span>
                <h3 class="track-title">Intelligent Process Automation</h3>
              </div>
              <div class="card-body">
                <div class="info-section">
                  <div class="card-row">
                    <i class="bx bx-map"></i>
                    <span>St. Gallen</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-time"></i>
                    <span>3 Tage, optional mit ECTS</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-money"></i>
                    <span>CHF 2'400 zzgl. 8,1 % MwSt.</span>
                  </div>
                </div>
                <p class="track-description">Lernen Sie, wie intelligente Prozessautomatisierung Ihnen helfen, Ressourcen effizienter zu gestalten und Ihr Unternehmen zu optimieren.</p>
                <a href="intelligent_process_automation.html" class="track-link" style="position: relative; z-index: 2;">Mehr erfahren <i class="bx bx-right-arrow-alt"></i></a>
              </div>
            </div>
            
            <!-- Card 6 -->
            <div class="track-card" data-category="managementseminare">
              <a href="ai_augmented_decision_making.html" class="card-link" aria-label="KI-Augmented Decision Making Details"></a>
              <div class="card-header">
                <span class="track-category category-strategy">Managementseminar</span>
                <h3 class="track-title">KI-Augmented Decision Making</h3>
              </div>
              <div class="card-body">
                <div class="info-section">
                  <div class="card-row">
                    <i class="bx bx-map"></i>
                    <span>St. Gallen</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-time"></i>
                    <span>3 Tage, optional mit ECTS</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-money"></i>
                    <span>CHF 2'400 zzgl. 8,1 % MwSt.</span>
                  </div>
                </div>
                <p class="track-description">Lernen Sie, wie KI-gestützte Entscheidungsprozesse Ihnen helfen, fundiertere und effektivere Entscheidungen zu treffen.</p>
                <a href="ai_augmented_decision_making.html" class="track-link" style="position: relative; z-index: 2;">Mehr erfahren <i class="bx bx-right-arrow-alt"></i></a>
              </div>
            </div>
            
            <!-- Card 7: Programm - StGallen Management Programm -->
            <div class="track-card" data-category="programme">
              <a href="management_programm.html" class="card-link" aria-label="StGallen Management Programm Details"></a>
              <div class="card-header">
                <span class="track-category category-program">Programm</span>
                <h3 class="track-title">StGallen Management Programm</h3>
              </div>
              <div class="card-body">
                <div class="info-section">
                  <div class="card-row">
                    <i class="bx bx-map"></i>
                    <span>St. Gallen</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-time"></i>
                    <span>4*3 Tage</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-money"></i>
                    <span>CHF 8'400 zzgl. 8,1 % MwSt.</span>
                  </div>
                </div>
                <p class="track-description">Umfassendes Programm zur Integration von Management-Know-how mit praxisorientierten Ansätzen und zertifiziertem Abschluss.</p>
                <a href="management_programm.html" class="track-link" style="position: relative; z-index: 2;">Mehr erfahren <i class="bx bx-right-arrow-alt"></i></a>
              </div>
            </div>
            
            <!-- Card 8: Programm - Certified Management CAS -->
            <div class="track-card" data-category="programme">
              <a href="management_programm_cas.html" class="card-link" aria-label="StGallen Certified Management CAS Details"></a>
              <div class="card-header">
                <span class="track-category category-program">Programm</span>
                <h3 class="track-title">StGallen Certified Management CAS</h3>
              </div>
              <div class="card-body">
                <div class="info-section">
                  <div class="card-row">
                    <i class="bx bx-map"></i>
                    <span>St. Gallen</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-time"></i>
                    <span>4*3 Tage plus 4 Tage hybrid</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-money"></i>
                    <span>CHF 12'400 zzgl. 8,1 % MwSt.</span>
                  </div>
                </div>
                <p class="track-description">Certificate of Advanced Studies mit vertieftem Management-Know-how und anerkanntem akademischen Abschluss.</p>
                <a href="management_programm_cas.html" class="track-link" style="position: relative; z-index: 2;">Mehr erfahren <i class="bx bx-right-arrow-alt"></i></a>
              </div>
            </div>
            
            <!-- Card 9: Programm - AI Excellence Management Programm -->
            <div class="track-card" data-category="programme">
              <a href="ki_excellence_programm.html" class="card-link" aria-label="StGallen AI Excellence Management Programm Details"></a>
              <div class="card-header">
                <span class="track-category category-program">Programm</span>
                <h3 class="track-title">StGallen AI Excellence Management Programm</h3>
              </div>
              <div class="card-body">
                <div class="info-section">
                  <div class="card-row">
                    <i class="bx bx-map"></i>
                    <span>St. Gallen</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-time"></i>
                    <span>4*3 Tage</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-money"></i>
                    <span>CHF 8'400 zzgl. 8,1 % MwSt.</span>
                  </div>
                </div>
                <p class="track-description">Spezialisiertes Programm zur Integration künstlicher Intelligenz in das Management mit Zertifizierung.</p>
                <a href="ki_excellence_programm.html" class="track-link" style="position: relative; z-index: 2;">Mehr erfahren <i class="bx bx-right-arrow-alt"></i></a>
              </div>
            </div>
            
            <!-- Card 10: Programm - Fast-Track MBA -->
            <div class="track-card" data-category="programme">
              <a href="fast_track_mba.html" class="card-link" aria-label="StGallen Fast Track MBA Programm Details"></a>
              <div class="card-header">
                <span class="track-category category-program">Programm</span>
                <h3 class="track-title">StGallen Fast Track MBA Programm</h3>
              </div>
              <div class="card-body">
                <div class="info-section">
                  <div class="card-row">
                    <i class="bx bx-map"></i>
                    <span>St. Gallen</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-time"></i>
                    <span>7x3-4 Tage plus 7 Tage hybrid</span>
                  </div>
                  <div class="card-row">
                    <i class="bx bx-money"></i>
                    <span>CHF 24'900 zzgl. 8,1 % MwSt.</span>
                  </div>
                </div>
                <p class="track-description">Beschleunigtes MBA-Programm mit Fokus auf Management und Technologie für aufstrebende Führungskräfte.</p>
                <a href="fast_track_mba.html" class="track-link" style="position: relative; z-index: 2;">Mehr erfahren <i class="bx bx-right-arrow-alt"></i></a>
              </div>
            </div>
          </div>
          
          <div class="scroll-controls">
            <button class="scroll-btn" id="scroll-left">
              <i class="bx bx-chevron-left"></i>
            </button>
            <button class="scroll-btn" id="scroll-right">
              <i class="bx bx-chevron-right"></i>
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Silicon Valley Innovation Academy -->
    <section class="tracks-section sv-innovation-academy-section">
      <div class="container">
        <div class="tracks-header">
          <h2 class="tracks-title">Silicon Valley Innovation Academy</h2>
          <p class="tracks-subtitle">Verbinden Sie eine einzigartige Reise ins Silicon Valley mit einem MBA der StGallen imt Business School</p>
        </div>
        
        <div class="sv-gradient-teaser-v3">
          <div class="sv-gradient-v3-overlay"></div>
          <div class="sv-gradient-v3-container">
            <div class="sv-gradient-v3-header">
              <div class="sv-gradient-v3-header-content">
                <h2 class="sv-gradient-v3-title">Die Faszination des Silicon Valleys</h2>
                <p class="sv-gradient-v3-subtitle">Verbinden Sie eine einzigartige Reise ins Silicon Valley mit einem MBA der StGallen imt Business School</p>
              </div>
              <div class="sv-gradient-v3-date-badge">
                <div class="sv-gradient-v3-date">12. - 22. Juni 2025</div>
                <div class="sv-gradient-v3-location">San Francisco, USA</div>
              </div>
            </div>
            
            <div class="sv-gradient-v3-features">
              <div class="sv-gradient-v3-feature">
                <i class="sv-gradient-v3-feature-icon bx bx-bulb"></i>
                <h4 class="sv-gradient-v3-feature-title">Innovation Academy</h4>
                <p class="sv-gradient-v3-feature-text">Zweiwöchige Academy mit praxisnahen, von Experten geleiteten Sessions zu Innovationsmanagement und Corporate Venturing.</p>
              </div>
              <div class="sv-gradient-v3-feature">
                <i class="sv-gradient-v3-feature-icon bx bx-network-chart"></i>
                <h4 class="sv-gradient-v3-feature-title">Open Innovation</h4>
                <p class="sv-gradient-v3-feature-text">Erweitern Sie Ihre Kompetenzen und erhalten Sie exklusiven Zugang zum Innovationsökosystem des Silicon Valley.</p>
              </div>
              <div class="sv-gradient-v3-feature">
                <i class="sv-gradient-v3-feature-icon bx bx-group"></i>
                <h4 class="sv-gradient-v3-feature-title">Networking</h4>
                <p class="sv-gradient-v3-feature-text">Hochkarätige Networking-Möglichkeiten mit Venture Capitalists, Startups und führenden Technologieunternehmen.</p>
              </div>
            </div>
            
            <div class="sv-gradient-v3-footer">
              <p class="sv-gradient-v3-footer-text">Nutzen Sie diese Erfahrung als Sprungbrett für ein <a href="fast_track_mba.html" class="sv-mba-link">Fast Track Executive MBA</a> und profitieren Sie von unserem einzigartigen Programm.</p>
              
              <div class="sv-gradient-v3-partner-container">
                <div class="sv-gradient-v3-partner">
                  <span>In Zusammenarbeit mit</span>
                  <a href="https://www.plugandplaytechcenter.com/industries/goal/innovation-academy" target="_blank">
                    <img src="assets/pictures/plug_play_logo.png" alt="Plug and Play Logo">
                  </a>
                </div>
              </div>
              
              <div style="width: 100%; display: flex; justify-content: center;">
                <a href="https://www.plugandplaytechcenter.com/industries/goal/innovation-academy" class="sv-gradient-v3-cta" target="_blank">Programm entdecken <span class="arrow-icon">→</span></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Einblicke & Impressionen -->
    <section class="network-section">
      <div class="container">
        <div class="network-intro">
          <h2 class="network-title">Einblicke & Impressionen</h2>
          <p class="network-description">Tauchen Sie ein in eine einzigartige Lernumgebung – mit inspirierenden Workshops, Einblicken bei Unternehmen wie Google und einem einzigartigen Bildungsumfeld im St.Gallen Valley.</p>
        </div>
        <div class="gallery">
          <!-- 1: Großes, hochformatiges Bild -->
          <div class="gallery-item item1">
            <img src="assets/IMG_1.webp" alt="IMT Workshop mit Teilnehmern">
          </div>

          <!-- 2: Smartwatch -->
          <div class="gallery-item item2">
            <img src="assets/IMG_2.webp" alt="Teilnehmer bei einer Werksbesichtigung">
          </div>

          <!-- 3: Smartphone Videocall -->
          <div class="gallery-item item3">
            <img src="assets/IMG_3.webp" alt="Präsentation bei der imt Business School">
          </div>

          <!-- 4: Gruppe mit Smartphones -->
          <div class="gallery-item item4">
            <img src="assets/IMG_4.webp" alt="Diskussionspanel">
          </div>

          <!-- 5: Tablet am Tisch -->
          <div class="gallery-item item5">
            <img src="assets/IMG_6.webp" alt="Teilnehmer am Flughafen">
          </div>

          <!-- 6: Person am Desktop -->
          <div class="gallery-item item6">
            <img src="assets/IMG_5.webp" alt="Besuch bei Google">
          </div>
        </div>
      </div>
    </section>

    <!-- Netzwerk-Sektion: In bester Gesellschaft -->
    <section class="network-section">
      <div class="container">
        <div class="network-intro">
          <h2 class="network-title">In bester Gesellschaft</h2>
          <p class="network-description">Die StGallen imt Business School arbeitet mit führenden Unternehmen, renommierten Universitäten und Experten zusammen, um Ihnen das beste Weiterbildungserlebnis zu bieten.</p>
        </div>
        
        <div class="network-filter">
          <button class="filter-btn active">Alle</button>
          <button class="filter-btn">Unternehmen</button>
          <button class="filter-btn">Akademische Partner</button>
        </div>
        
        <div class="partners">
          <!-- Partner Logos -->
          <div class="partner-item" data-category="unternehmen">
            <img src="assets/companies/jnj.png" alt="Johnson & Johnson" class="partner-logo">
          </div>
          <div class="partner-item" data-category="unternehmen">
            <img src="assets/companies/google.png" alt="Google" class="partner-logo">
          </div>
          <div class="partner-item" data-category="unternehmen">
            <img src="assets/companies/bayer.png" alt="Bayer" class="partner-logo">
          </div>
          <div class="partner-item" data-category="akademische partner">
            <img src="assets/universities/stockholm.png" alt="Stockholm University" class="partner-logo">
          </div>
          <div class="partner-item" data-category="unternehmen">
            <img src="assets/companies/salesforce.png" alt="Salesforce" class="partner-logo">
          </div>
          <div class="partner-item" data-category="unternehmen">
            <img src="assets/companies/wittenstein.png" alt="Wittenstein" class="partner-logo">
          </div>
          <div class="partner-item" data-category="unternehmen">
            <img src="assets/companies/mobileup.jpg" alt="MobileUp" class="partner-logo">
          </div>
          <div class="partner-item" data-category="unternehmen">
            <img src="assets/companies/datron.png" alt="Datron" class="partner-logo">
          </div>
          <div class="partner-item" data-category="unternehmen">
            <img src="assets/companies/ui.svg.png" alt="UI" class="partner-logo">
          </div>
          <div class="partner-item" data-category="unternehmen">
            <img src="assets/companies/mutares.svg.png" alt="Mutares" class="partner-logo">
          </div>
          <div class="partner-item" data-category="akademische partner">
            <img src="assets/universities/cracow.jpg" alt="Cracow University" class="partner-logo">
          </div>
          <div class="partner-item" data-category="akademische partner">
            <img src="assets/universities/steinbeis.jpg" alt="Hochschule Steinbeis" class="partner-logo">
          </div>
        </div>
        
        <div class="faculty-section">
          <div class="hero-content">
            <span class="hero-eyebrow">Unsere Dozenten &amp; Experten</span>
          </div>
          
          <div class="faculty-grid">
            <!-- Faculty Members -->
            <div class="faculty-card">
              <img src="assets/faculty/abegglen.webp" alt="Prof. Dr. Christian Abegglen"/>
              <div class="faculty-info">
                  <h3 class="faculty-name">Prof. Dr. Christian Abegglen</h3>
                  <div class="faculty-title">Präsident</div>
              </div>
            </div>
            
            <div class="faculty-card">
              <img src="assets/faculty/bula.jpg" alt="Prof. Dr. Dr. h.c. Piotr Bula"/>
              <div class="faculty-info">
                  <h3 class="faculty-name">Prof. Dr. Dr. h.c. Piotr Bula</h3>
                  <div class="faculty-title">Executive Council</div>
              </div>
            </div>
            
            <div class="faculty-card">
              <img src="assets/faculty/pawlak.webp" alt="Dr. Christopher Pawlak"/>
              <div class="faculty-info">
                  <h3 class="faculty-name">Dr. Christopher Pawlak</h3>
                  <div class="faculty-title">Executive Council</div>
              </div>
            </div>
            
            <div class="faculty-card">
              <img src="assets/faculty/bassewitz.webp" alt="Dr. Ulrich von Bassewitz"/>
              <div class="faculty-info">
                  <h3 class="faculty-name">Dr. Ulrich von Bassewitz</h3>
                  <div class="faculty-title">Executive Council</div>
              </div>
            </div>
                        
            <div class="faculty-card">
              <img src="assets/faculty/aho.jpg" alt="Monika Aho"/>
              <div class="faculty-info">
                  <h3 class="faculty-name">Monika Aho</h3>
                  <div class="faculty-title">Guest Lecturer</div>
              </div>
            </div>
            
            <div class="faculty-card">
              <img src="assets/faculty/kolesnikova.webp" alt="Anastasiia Kolesnikova"/>
              <div class="faculty-info">
                  <h3 class="faculty-name">Anastasiia Kolesnikova</h3>
                  <div class="faculty-title">Guest Lecturer</div>
              </div>
            </div>

            <div class="faculty-card">
              <img src="assets/faculty/edlund.png" alt="Dr. Jan Roy Edlund"/>
              <div class="faculty-info">
                  <h3 class="faculty-name">Dr. Jan Roy Edlund</h3>
                  <div class="faculty-title">Executive Coach</div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="section-link">
          <a href="netzwerk.html" class="view-all-btn">
            Gesamtes Netzwerk entdecken <i class="bx bx-right-arrow-alt"></i>
          </a>
        </div>
      </div>
    </section>

    <!-- Teilnehmerstimmen -->
    <section class="content-section">
      <div class="container">
        <h2 style="text-align: left !important; font-size: 1.5rem; margin-bottom: 1rem; font-weight: 600;">Stimmen aus unserem Netzwerk</h2>
        <p style="color: var(--color-muted); font-size: 1.1rem; margin-bottom: 40px; width: 100%; text-align: left;">Erfahrungen, Einblicke und Perspektiven aus unserem Netzwerk.</p>
        
        <div class="gradient-quotes">
          <!-- Testimonial 1: Jonas Gillmann -->
          <div class="gradient-quote-card testimonial-item">
            <div class="gradient-quote-inner">
              <div class="gradient-quote-content">
                <i class='bx bxs-quote-alt-right gradient-quote-icon'></i>
                <p class="gradient-quote-text">Die StGallen imt Business School war entscheidend für meinen Weg in den Vorstand. Mit praktischen Impulsen, strategischer Klarheit und wertvollen Perspektiven erhielt ich das beste Toolkit für erfolgreiche Unternehmensführung.</p>
              </div>
              <div class="gradient-quote-footer">
                <div class="gradient-person">
                  <div class="gradient-avatar-container">
                    <img src="assets/testimonials/gillmann.jpg" alt="Jonas Gillmann" class="gradient-avatar">
                  </div>
                  <div class="gradient-info">
                    <span class="gradient-name">Jonas Gillmann</span>
                    <span class="gradient-position">CTO Datron AG</span>
                  </div>
                </div>
                <img src="assets/testimonials/datron.png" alt="Datron" class="gradient-company">
              </div>
            </div>
          </div>
          
          <!-- Testimonial 2: Patrick Kling -->
          <div class="gradient-quote-card testimonial-item" style="display: none;">
            <div class="gradient-quote-inner">
              <div class="gradient-quote-content">
                <i class='bx bxs-quote-alt-right gradient-quote-icon'></i>
                <p class="gradient-quote-text">Ein fundiertes Verständnis von Strategie und Geschäftsmodellen ist angesichts wachsender Dynamik und Komplexität entscheidend. Die St.Gallen Integrated IMT Business School ist dabei ein starker Partner, um relevante Kompetenzen gezielt weiterzuentwickeln.</p>
              </div>
              <div class="gradient-quote-footer">
                <div class="gradient-person">
                  <div class="gradient-avatar-container">
                    <img src="assets/testimonials/kling.jpg" alt="Patrick Kling" class="gradient-avatar">
                  </div>
                  <div class="gradient-info">
                    <span class="gradient-name">Patrick Kling</span>
                    <span class="gradient-position">Geschäftsführer, Steigerwald</span>
                  </div>
                </div>
                <img src="assets/testimonials/steigerwald.png" alt="Steigerwald" class="gradient-company">
              </div>
            </div>
          </div>
          
          <!-- Testimonial 3: Dr. Bertram Hoffmann -->
          <div class="gradient-quote-card testimonial-item" style="display: none;">
            <div class="gradient-quote-inner">
              <div class="gradient-quote-content">
                <i class='bx bxs-quote-alt-right gradient-quote-icon'></i>
                <p class="gradient-quote-text">Exzellenz erfordert das Zusammenspiel von Kultur, Strategie und Führung – ganzheitlich, dynamisch und systemisch gedacht. Das St. Galler Konzept bietet dafür den passenden Rahmen; Christian Abegglen ist hier eine prägende, glaubwürdige Persönlichkeit.</p>
              </div>
              <div class="gradient-quote-footer">
                <div class="gradient-person">
                  <div class="gradient-avatar-container">
                    <img src="assets/testimonials/hoffmann.jpg" alt="Dr. Bertram Hoffmann" class="gradient-avatar">
                  </div>
                  <div class="gradient-info">
                    <span class="gradient-name">Dr. Bertram Hoffmann</span>
                    <span class="gradient-position">CEO, Wittenstein</span>
                  </div>
                </div>
                <img src="assets/testimonials/wittenstein.png" alt="Wittenstein" class="gradient-company">
              </div>
            </div>
          </div>
          
          <!-- Testimonial 4: Dr. Manfred Wittenstein -->
          <div class="gradient-quote-card testimonial-item" style="display: none;">
            <div class="gradient-quote-inner">
              <div class="gradient-quote-content">
                <i class='bx bxs-quote-alt-right gradient-quote-icon'></i>
                <p class="gradient-quote-text">Sich kontinuierlich zu hinterfragen und weiterzuentwickeln ist für nachhaltigen Erfolg entscheidend. Christian Abegglen ist dabei seit Jahrzehnten mein Freund, Förderer und zugleich anspruchsvoller Impulsgeber – stets auf höchstem Niveau.</p>
              </div>
              <div class="gradient-quote-footer">
                <div class="gradient-person">
                  <div class="gradient-avatar-container">
                    <img src="assets/testimonials/manfred_wittenstein.jpg" alt="Dr. Manfred Wittenstein" class="gradient-avatar">
                  </div>
                  <div class="gradient-info">
                    <span class="gradient-name">Dr. Manfred Wittenstein</span>
                    <span class="gradient-position">Gründer und Eigentümer, Wittenstein</span>
                  </div>
                </div>
                <img src="assets/testimonials/wittenstein.png" alt="Wittenstein" class="gradient-company">
              </div>
            </div>
          </div>
          
          <!-- Testimonial 5: Dr. Sascha von Berchem -->
          <div class="gradient-quote-card testimonial-item" style="display: none;">
            <div class="gradient-quote-inner">
              <div class="gradient-quote-content">
                <i class='bx bxs-quote-alt-right gradient-quote-icon'></i>
                <p class="gradient-quote-text">Die St.Gallen IMT Business School verbindet wissenschaftliche Tiefe mit praxisnaher Anwendung – echte Herausforderungen, direkt übertragbar. Dieser Ansatz liefert Führungskräften wie mir als Gastdozent kontinuierlich neue Impulse für nachhaltige Weiterentwicklung und Erfolg.</p>
              </div>
              <div class="gradient-quote-footer">
                <div class="gradient-person">
                  <div class="gradient-avatar-container">
                    <img src="assets/testimonials/von_berchem.jpg" alt="Dr. Sascha von Berchem" class="gradient-avatar">
                  </div>
                  <div class="gradient-info">
                    <span class="gradient-name">Dr. Sascha von Berchem</span>
                    <span class="gradient-position">Wittenstein Stiftung, Geschäftsführer</span>
                  </div>
                </div>
                <img src="assets/testimonials/wittenstein.png" alt="Wittenstein" class="gradient-company">
              </div>
            </div>
          </div>
          
          <!-- Testimonial 6: Elias Böni -->
          <div class="gradient-quote-card testimonial-item" style="display: none;">
            <div class="gradient-quote-inner">
              <div class="gradient-quote-content">
                <i class='bx bxs-quote-alt-right gradient-quote-icon'></i>
                <p class="gradient-quote-text">Die vielfältigen Trainingsmethoden auf Basis des St.Galler Thinking & Learning Navigators – von Simulationen bis zu realen Fällen – sind äußerst bereichernd und herausfordernd, selbst für unser Geschäft mit aufbereiteten Mobiltelefonen.</p>
              </div>
              <div class="gradient-quote-footer">
                <div class="gradient-person">
                  <div class="gradient-avatar-container">
                    <img src="assets/testimonials/boeni.jpg" alt="Elias Böni" class="gradient-avatar">
                  </div>
                  <div class="gradient-info">
                    <span class="gradient-name">Elias Böni</span>
                    <span class="gradient-position">Co_Founder, MobileUp</span>
                  </div>
                </div>
                <img src="assets/testimonials/mobileup.jpg" alt="MobileUp" class="gradient-company">
              </div>
            </div>
          </div>
          
          <!-- Testimonial 7: Thomas Steiner -->
          <div class="gradient-quote-card testimonial-item" style="display: none;">
            <div class="gradient-quote-inner">
              <div class="gradient-quote-content">
                <i class='bx bxs-quote-alt-right gradient-quote-icon'></i>
                <p class="gradient-quote-text">Ich bin beeindruckt, wie das St. Galler Konzept verschiedene Perspektiven integriert und vielfältige Themen adressiert – und so branchenübergreifend direkt in der Unternehmenspraxis anwendbar ist.</p>
              </div>
              <div class="gradient-quote-footer">
                <div class="gradient-person">
                  <div class="gradient-avatar-container">
                    <img src="assets/testimonials/steiner.jpg" alt="Thomas Steiner" class="gradient-avatar">
                  </div>
                  <div class="gradient-info">
                    <span class="gradient-name">Thomas Steiner</span>
                    <span class="gradient-position">CEO, Caynova</span>
                  </div>
                </div>
                <img src="assets/testimonials/caynova.jpg" alt="Caynova" class="gradient-company">
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer einbinden -->
    <div id="footer-container"></div>
  </main>

  <!-- Footer einbinden -->
  <div id="footer-container"></div>

  <!-- Entferne "Sprache" Element im Desktop-Modus direkt per JavaScript -->
  <script>
    // Funktion, die wiederholt nach dem Element sucht und es entfernt
    function removeLanguageElements() {
      // Alle Top-Level-Divs durchsuchen
      const allDivs = document.querySelectorAll('body > div');
      
      allDivs.forEach(div => {
        // Text enthält "Sprache" und ist nicht die Navigation
        if (div.textContent && 
            div.textContent.includes('Sprache') && 
            !div.id.includes('navigation') && 
            !div.id.includes('sidebar') && 
            !div.id.includes('footer')) {
          console.log('Removing unwanted language element:', div);
          div.style.display = 'none';
          // Alternativ komplett entfernen:
          // div.parentNode.removeChild(div);
        }
      });
      
      // Alle Elemente mit Klasse "Sprache" außerhalb der Navigation ausblenden
      document.querySelectorAll('.Sprache').forEach(el => {
        if (!el.closest('#navigation-container') && !el.closest('.mobile-lang-section')) {
          el.style.display = 'none';
        }
      });
      
      // Auch Elemente mit Deutsch/English-Links außerhalb der Navigation prüfen
      document.querySelectorAll('a').forEach(link => {
        const parent = link.parentElement;
        if (
          // Link ist entweder Deutsch oder English
          (link.textContent === 'Deutsch' || link.textContent === 'English') &&
          // Und ist nicht in der Navigation oder der mobilen Sprachauswahl
          !link.closest('#navigation-container') && 
          !link.closest('.mobile-lang-section') &&
          // Und der Eltern-Container enthält den Text "Sprache"
          parent && parent.textContent.includes('Sprache')
        ) {
          // Den Container ausblenden
          parent.style.display = 'none';
          // Wenn es ein größerer Container ist, auch diesen ausblenden
          if (parent.parentElement && parent.parentElement.textContent.includes('Sprache')) {
            parent.parentElement.style.display = 'none';
          }
        }
      });
    }
    
    // Ausführen nach dem Laden
    document.addEventListener('DOMContentLoaded', function() {
      // Mehrmals ausführen, um auch dynamisch eingefügte Elemente zu erwischen
      removeLanguageElements();
      setTimeout(removeLanguageElements, 500);
      setTimeout(removeLanguageElements, 1000);
      setTimeout(removeLanguageElements, 2000);
    });
    
    // Nach jedem Laden von Komponenten die Funktion erneut ausführen
    const originalFetch = window.fetch;
    window.fetch = function() {
      return originalFetch.apply(this, arguments)
        .then(response => {
          // Nach jedem Fetch die Überprüfung erneut ausführen
          setTimeout(removeLanguageElements, 200);
          return response;
        });
    };
  </script>

  <!-- Dynamisches Laden der globalen Komponenten -->
  <script>
    // Gespeicherte Spracheinstellung überprüfen
    const storedLanguage = sessionStorage.getItem('preferredLanguage');
    
    // Bestimme die aktuelle Sprache anhand der URL
    const currentPath = window.location.pathname;
    const currentPage = currentPath.substring(currentPath.lastIndexOf('/') + 1);
    const pageIsEnglish = currentPage.includes('_en');
    
    // Wenn gespeicherte Präferenz nicht mit aktueller Seite übereinstimmt, umleiten
    if (storedLanguage) {
      const shouldBeEnglish = storedLanguage === 'en';
      
      // Bei Bedarf umleiten
      if (shouldBeEnglish !== pageIsEnglish) {
        if (shouldBeEnglish) {
          // Zu Englisch wechseln
          window.location.href = currentPage.replace('.html', '_en.html');
        } else {
          // Zu Deutsch wechseln
          window.location.href = currentPage.replace('_en.html', '.html');
        }
      }
    }
    
    // Mit normalem Laden fortfahren - aktuelle Seitesprache verwenden
    const isEnglish = pageIsEnglish;
    const langSuffix = isEnglish ? '_en' : '';
    
    // Navigation laden
    fetch(`components/globals/navigation_ohnesub${langSuffix}.html?t=${new Date().getTime()}`)
      .then(response => {
        if (!response.ok) {
          console.error(`Fehler beim Laden der Navigation: ${response.status}`);
          // Fallback auf includes Verzeichnis versuchen
          return fetch(`components/includes/navigation_ohnesub${langSuffix}.html?t=${new Date().getTime()}`)
            .then(resp => {
              if (!resp.ok) {
                console.error('Includes-Pfad auch fehlgeschlagen, versuche Standard-Sprache:', resp.status);
                // Letzter Ausweg: Versuche die Standard-Sprachversion
                return fetch(`components/includes/navigation_ohnesub.html?t=${new Date().getTime()}`);
              }
              return resp.text();
            });
        }
        return response.text();
      })
      .then(data => {
        console.log('Navigation geladen');
        if (data) {
          document.getElementById('navigation-container').innerHTML = data;
          
          // Mobile Navigation initialisieren
          const navScript = document.createElement('script');
          navScript.src = 'assets/js/mobile-nav.js?t=' + new Date().getTime();
          document.body.appendChild(navScript);
          
          // Startseiten-Link als aktiv markieren
          setTimeout(() => {
            // Verwende den passenden Startseiten-Link je nach Sprache
            const homePage = isEnglish ? 'index_en.html' : 'index.html';
            const homeLink = document.querySelector(`.nav-link[href="${homePage}"]`);
            if (homeLink) {
              console.log('Aktiviere Startseiten-Link:', homeLink);
              homeLink.classList.add('active');
            } else {
              console.error('Startseiten-Link nicht gefunden! Suche nach allen Links:', document.querySelectorAll('.nav-menu a'));
            }
            
            // Initialize language switching after navigation is loaded
            setTimeout(() => {
              if (typeof initLanguageSwitching === 'function') {
                initLanguageSwitching();
              } else if (window.switchLanguage) {
                console.log('Language-switch.js bereits geladen, verwende globale Funktion');
              } else {
                console.warn('Language-switch Funktionen nicht gefunden!');
              }
            }, 300);
          }, 200);
        }
      })
      .catch(error => console.error('Fehler beim Laden der Navigation:', error));

    // Sidebar laden
    fetch(`components/globals/sidebar_other${langSuffix}.html?t=${new Date().getTime()}`)
      .then(response => {
        if (!response.ok) {
          console.error(`Fehler beim Laden der Sidebar: ${response.status}`);
          // Fallback auf includes Verzeichnis versuchen
          return fetch(`components/includes/sidebar_other${langSuffix}.html?t=${new Date().getTime()}`)
            .then(resp => {
              if (!resp.ok) {
                console.error('Includes-Pfad auch fehlgeschlagen, versuche Standard-Sprache:', resp.status);
                // Letzter Ausweg: Versuche die Standard-Sprachversion
                return fetch(`components/includes/sidebar_other.html?t=${new Date().getTime()}`);
              }
              return resp.text();
            });
        }
        return response.text();
      })
      .then(data => {
        console.log('Sidebar geladen');
        if (data) document.getElementById('sidebar-container').innerHTML = data;
      })
      .catch(error => console.error('Fehler beim Laden der Sidebar:', error));

    // Footer laden
    fetch(`components/globals/footer${langSuffix}.html?t=${new Date().getTime()}`)
      .then(response => {
        if (!response.ok) {
          console.error(`Fehler beim Laden des Footers: ${response.status}`);
          // Fallback auf includes Verzeichnis versuchen
          return fetch(`components/includes/footer${langSuffix}.html?t=${new Date().getTime()}`)
            .then(resp => {
              if (!resp.ok) {
                console.error('Includes-Pfad auch fehlgeschlagen, versuche Standard-Sprache:', resp.status);
                // Letzter Ausweg: Versuche die Standard-Sprachversion
                return fetch(`components/includes/footer.html?t=${new Date().getTime()}`);
              }
              return resp.text();
            });
        }
        return response.text();
      })
      .then(data => {
        console.log('Footer geladen');
        if (data) document.getElementById('footer-container').innerHTML = data;
      })
      .catch(error => console.error('Fehler beim Laden des Footers:', error));
  </script>

  <!-- Script für die Track Scroll-Funktionalität und Filter -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Track scroll functionality
      const scrollContainer = document.querySelector('.tracks-variant-3 .scroll-container');
      let scrollLeftBtn = document.getElementById('scroll-left');
      let scrollRightBtn = document.getElementById('scroll-right');
      
      if (scrollContainer && scrollLeftBtn && scrollRightBtn) {
        // Dynamische Berechnung der Scroll-Menge basierend auf der Viewport-Breite
        const calculateScrollAmount = () => {
          // Finde sichtbare Karten (nicht versteckt)
          const visibleCards = Array.from(scrollContainer.querySelectorAll('.track-card:not(.hidden)'));
          
          if (visibleCards.length === 0) {
            return 0; // Keine sichtbaren Karten
          }
          
          // Breite einer sichtbaren Karte + Abstand
          const cardWidth = visibleCards[0].offsetWidth + 16; // 16px Abstand
          
          // Auf mobilen Geräten präziser scrollen
          if (window.innerWidth <= 768) {
            // Mobile: Eine Karte pro Scroll
            return cardWidth;
          } else {
            // Desktop: Zwei Karten pro Scroll oder die Hälfte der sichtbaren Karten
            const scrollCount = Math.min(2, Math.ceil(visibleCards.length / 2));
            return cardWidth * scrollCount;
          }
        };
        
        // Überprüfung, ob die Scroll-Buttons aktiviert oder deaktiviert sein sollten
        const updateScrollButtons = () => {
          const maxScrollLeft = scrollContainer.scrollWidth - scrollContainer.clientWidth;
          
          if (scrollContainer.scrollLeft <= 0) {
            scrollLeftBtn.classList.add('disabled');
          } else {
            scrollLeftBtn.classList.remove('disabled');
          }
          
          if (scrollContainer.scrollLeft >= maxScrollLeft - 5) {
            scrollRightBtn.classList.add('disabled');
          } else {
            scrollRightBtn.classList.remove('disabled');
          }
        };
        
        // Initial Button-Status setzen
        updateScrollButtons();
        
        // Event-Listener für Scroll-Ereignisse
        scrollContainer.addEventListener('scroll', updateScrollButtons);
        
        // Finde alle sichtbaren Karten und scrolle zur nächsten/vorherigen
        const scrollToNextVisibleCard = (direction) => {
          // Alle nicht-versteckten Karten finden
          const visibleCards = Array.from(
            scrollContainer.querySelectorAll('.track-card:not(.hidden)')
          );
          
          if (visibleCards.length === 0) return;
          
          // Aktuell sichtbare Karten bestimmen (im Viewport)
          const containerRect = scrollContainer.getBoundingClientRect();
          const cardWidth = visibleCards[0].offsetWidth + 16; // Card + margin
          
          // Bestimme die aktuelle Position im Scrollbereich
          const currentScrollLeft = scrollContainer.scrollLeft;
          
          // Neue Scroll-Position berechnen
          let newScrollLeft;
          
          if (direction === 'next') {
            // Auf Desktop immer nur eine Karte weiter
            newScrollLeft = currentScrollLeft + cardWidth;
          } else {
            // Auf Desktop immer nur eine Karte zurück
            newScrollLeft = currentScrollLeft - cardWidth;
          }
          
          // Scroll ausführen
          scrollContainer.scrollTo({
            left: newScrollLeft,
            behavior: 'smooth'
          });
        };
        
        // Event-Listener für die Scroll-Buttons
        scrollLeftBtn.addEventListener('click', function() {
          scrollToNextVisibleCard('prev');
        });
        
        scrollRightBtn.addEventListener('click', function() {
          scrollToNextVisibleCard('next');
        });
        
        // Auch beim Resize-Event die Scroll-Distanz anpassen
        window.addEventListener('resize', updateScrollButtons);
      }
      
      // Filter-Funktionalität
      const filterButtons = document.querySelectorAll('.tracks-variant-3 .filter-btn');
      const trackCards = document.querySelectorAll('.tracks-variant-3 .track-card');
      
      if (filterButtons.length && trackCards.length) {
        filterButtons.forEach(btn => {
          btn.addEventListener('click', function() {
            // Aktive Klasse von allen Buttons entfernen
            filterButtons.forEach(button => button.classList.remove('active'));
            
            // Aktive Klasse zum geklickten Button hinzufügen
            this.classList.add('active');
            
            const filterValue = this.getAttribute('data-filter');
            
            // Karten filtern
            let visibleCards = 0;
            trackCards.forEach(card => {
              const category = card.getAttribute('data-category');
              
              if (filterValue === 'alle' || category === filterValue) {
                card.classList.remove('hidden');
                visibleCards++;
              } else {
                card.classList.add('hidden');
              }
            });
            
            // Scroll zurücksetzen nach Filter-Änderung
            scrollContainer.scrollLeft = 0;
            
            // Scroll-Button-Status aktualisieren
            updateScrollButtons();
          });
        });
      }
    });
  </script>
  
  <!-- Script für die Netzwerk Filter-Funktionalität -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Filter-Funktionalität für Partner im "In bester Gesellschaft"-Abschnitt
      const networkFilterButtons = document.querySelectorAll('.network-section .filter-btn');
      const partnerItems = document.querySelectorAll('.network-section .partner-item');
      
      if (networkFilterButtons.length && partnerItems.length) {
        networkFilterButtons.forEach(btn => {
          btn.addEventListener('click', function() {
            // Aktive Klasse von allen Buttons entfernen
            networkFilterButtons.forEach(button => button.classList.remove('active'));
            
            // Aktive Klasse zum geklickten Button hinzufügen
            this.classList.add('active');
            
            // Filterwert basierend auf Button-Text
            let filterValue = this.textContent.trim().toLowerCase();
            
            // Spezielle Zuordnung für "Akademische Partner" zu "akademische partner"
            if (filterValue === 'akademische partner') {
              // Partner-Items filtern für Akademische Partner
              partnerItems.forEach(item => {
                const category = item.getAttribute('data-category');
                
                if (filterValue === 'alle' || category === 'akademische partner') {
                  item.style.display = 'flex';
                } else {
                  item.style.display = 'none';
                }
              });
            } else {
              // Standard-Filterung für andere Kategorien
              partnerItems.forEach(item => {
                const category = item.getAttribute('data-category');
                
                if (filterValue === 'alle' || category === filterValue) {
                  item.style.display = 'flex';
                } else {
                  item.style.display = 'none';
                }
              });
            }
          });
        });
      }
    });
  </script>

  <!-- Script für das Dropdown und den dynamischen Link -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const selectElement = document.querySelector('.custom-select');
      const selectedElement = selectElement.querySelector('.select-selected');
      const items = selectElement.querySelector('.select-items');
      const programLink = document.getElementById('program-link');
      const errorTooltip = document.querySelector('.error-tooltip');
      
      // Set default state
      let trackSelected = false;
      programLink.addEventListener('click', function(e) {
        // Check if default option is selected
        if (!trackSelected) {
          e.preventDefault(); // Prevent navigation
          
          // Show error styling
          selectedElement.classList.add('error');
          errorTooltip.classList.add('visible');
          
          // Show dropdown
          items.classList.remove('select-hide');
          selectedElement.classList.add('select-arrow-active');
          
          // Remove error styling after 3 seconds
          setTimeout(() => {
            selectedElement.classList.remove('error');
            errorTooltip.classList.remove('visible');
          }, 3000);
        }
      });
      
      // Toggle Select Dropdown
      selectedElement.addEventListener('click', function(e) {
        e.stopPropagation();
        this.classList.toggle('select-arrow-active');
        items.classList.toggle('select-hide');
        
        // Remove error styling when dropdown is opened
        selectedElement.classList.remove('error');
        errorTooltip.classList.remove('visible');
        
        // Ensure dropdown is fully visible when opening upwards
        const dropdown = items;
        if (!dropdown.classList.contains('select-hide')) {
            // Reset any previous height limit
            dropdown.style.maxHeight = '';
            
            // Check if dropdown would extend beyond the top of the viewport
            const dropdownRect = dropdown.getBoundingClientRect();
            if (dropdownRect.top < 0) {
                dropdown.style.maxHeight = `${window.innerHeight - 50}px`;
                dropdown.style.bottom = 'auto';
                dropdown.style.top = 'calc(100% + 8px)'; // Revert to opening downward
            }
        }
      });
      
      // When an item is clicked (only actual selectable items, not categories)
      const selectItems = items.querySelectorAll('.select-item');
      selectItems.forEach(item => {
        item.addEventListener('click', function() {
          // Update selected text
          selectedElement.textContent = this.textContent;
          
          // Update program link
          programLink.href = this.getAttribute('data-value');
          
          // Mark as selected
          trackSelected = true;
          
          // Hide dropdown
          items.classList.add('select-hide');
          selectedElement.classList.remove('select-arrow-active');
          
          // Remove any error styling
          selectedElement.classList.remove('error');
          errorTooltip.classList.remove('visible');
        });
      });
      
      // Close dropdown when clicking elsewhere
      document.addEventListener('click', function() {
        items.classList.add('select-hide');
        selectedElement.classList.remove('select-arrow-active');
      });
    });
  </script>

  <!-- Script für Sprachumschaltung -->
  <script>
    // Simple language switching function
    function switchLanguage(lang, event) {
      if (event) {
        event.preventDefault();
      }
      
      // Store language preference
      sessionStorage.setItem('preferredLanguage', lang);
      
      // Get current page path
      const currentPath = window.location.pathname;
      const currentPage = currentPath.substring(currentPath.lastIndexOf('/') + 1);
      
      // Navigate to the appropriate language version
      if (lang === 'en' && !currentPage.includes('_en')) {
        window.location.href = currentPage.replace('.html', '_en.html');
      } else if (lang === 'de' && currentPage.includes('_en')) {
        window.location.href = currentPage.replace('_en.html', '.html');
      }
    }

    // Initialize language switching after navigation loads
    document.addEventListener('DOMContentLoaded', function() {
      // Wait for navigation to be fully loaded
      setTimeout(function() {
        const currentPath = window.location.pathname;
        const currentPage = currentPath.substring(currentPath.lastIndexOf('/') + 1);
        const isEnglish = currentPage.includes('_en');
        
        // Setup desktop language links
        const deLinkDesktop = document.getElementById('lang-de-link');
        const enLinkDesktop = document.getElementById('lang-en-link');
        
        if (deLinkDesktop && enLinkDesktop) {
          deLinkDesktop.classList.remove('active');
          enLinkDesktop.classList.remove('active');
          
          if (isEnglish) {
            enLinkDesktop.classList.add('active');
            deLinkDesktop.setAttribute('href', '#');
            deLinkDesktop.setAttribute('onclick', "switchLanguage('de'); return false;");
          } else {
            deLinkDesktop.classList.add('active');
            enLinkDesktop.setAttribute('href', '#');
            enLinkDesktop.setAttribute('onclick', "switchLanguage('en'); return false;");
          }
        }
        
        // Setup mobile language links
        const mobileLanguageOptions = document.querySelectorAll('.mobile-lang-option');
        mobileLanguageOptions.forEach(link => {
          const lang = link.getAttribute('data-lang');
          link.classList.remove('active');
          
          if ((lang === 'en' && isEnglish) || (lang === 'de' && !isEnglish)) {
            link.classList.add('active');
          }
          
          link.setAttribute('href', '#');
          link.setAttribute('onclick', `switchLanguage('${lang}'); return false;`);
        });
      }, 500);
    });
  </script>

  <!-- JavaScript für Testimonial-Shuffler -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Testimonial Shuffler
      function shuffleTestimonials() {
        // Alle Testimonials sammeln
        const testimonials = Array.from(document.querySelectorAll('.testimonial-item'));
        
        // Fisher-Yates Shuffle Algorithmus
        function shuffleArray(array) {
          for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
          }
          return array;
        }
        
        // Testimonials shuffeln
        const shuffledTestimonials = shuffleArray([...testimonials]);
        
        // Alle Testimonials zunächst verstecken
        testimonials.forEach(item => {
          item.style.display = 'none';
        });
        
        // Anzahl der anzuzeigenden Testimonials (4 statt 2)
        const numToShow = 4;
        
        // Die ersten 4 anzeigen
        for (let i = 0; i < Math.min(numToShow, shuffledTestimonials.length); i++) {
          shuffledTestimonials[i].style.display = 'block';
        }
      }
      
      // Testimonials beim Laden der Seite shuffeln
      shuffleTestimonials();
      
      // Optional: Testimonials alle 30 Sekunden automatisch neu shuffeln
      // setInterval(shuffleTestimonials, 30000);
    });
  </script>

  <!-- Add script for random logos at the end of body -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Array of all available logos - expanded to include all available logos
      const allLogos = [
        'assets/companies/google.png',
        'assets/companies/hp.png',
        'assets/companies/unilever.png',
        'assets/companies/sap.png',
        'assets/companies/ibm.png',
        'assets/companies/bayer.png',
        'assets/companies/jnj.png',
        'assets/companies/salesforce.png',
        'assets/companies/wittenstein.png',
        'assets/companies/datron.png',
        'assets/companies/hitachi.png',
        'assets/companies/mutares.svg.png',
        'assets/companies/ui.svg.png',
        'assets/companies/caynova.jpg',
        'assets/companies/mobileup.jpg',
        'assets/companies/pnp.png'
      ];
      
      // Function to shuffle array (Fisher-Yates algorithm)
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }
      
      // Randomly select 6 logos - true randomization
      const shuffledLogos = shuffleArray([...allLogos]);
      const selectedLogos = shuffledLogos.slice(0, 6);
      
      // Get the container element
      const logosContainer = document.getElementById('random-logos');
      
      // Clear the container
      logosContainer.innerHTML = '';
      
      // Set container style to enforce column layout
      logosContainer.style.display = 'flex';
      logosContainer.style.flexDirection = 'column';
      logosContainer.style.alignItems = 'center';
      logosContainer.style.width = '100%';
      
      // Create first row with 3 logos
      const firstRow = document.createElement('div');
      firstRow.className = 'logo-row';
      firstRow.style.display = 'flex';
      firstRow.style.justifyContent = 'center';
      firstRow.style.flexWrap = 'nowrap';
      firstRow.style.marginBottom = '20px';
      firstRow.style.width = '100%';
      
      // Create second row with 3 logos
      const secondRow = document.createElement('div');
      secondRow.className = 'logo-row';
      secondRow.style.display = 'flex';
      secondRow.style.justifyContent = 'center';
      secondRow.style.flexWrap = 'nowrap';
      secondRow.style.width = '100%';
      
      // Add first 3 logos to first row
      for (let i = 0; i < 3; i++) {
        const img = document.createElement('img');
        img.src = selectedLogos[i];
        img.alt = selectedLogos[i].split('/').pop().split('.')[0]; // Use filename as alt text
        img.style.margin = '0 20px';
        img.style.maxWidth = '120px';
        img.style.height = '30px';
        img.style.objectFit = 'contain';
        firstRow.appendChild(img);
      }
      
      // Add remaining 3 logos to second row
      for (let i = 3; i < 6; i++) {
        const img = document.createElement('img');
        img.src = selectedLogos[i];
        img.alt = selectedLogos[i].split('/').pop().split('.')[0]; // Use filename as alt text
        img.style.margin = '0 20px';
        img.style.maxWidth = '120px';
        img.style.height = '30px';
        img.style.objectFit = 'contain';
        secondRow.appendChild(img);
      }
      
      // Add both rows to the container
      logosContainer.appendChild(firstRow);
      logosContainer.appendChild(secondRow);
    });
  </script>

  <!-- Script für Galerie-Shuffle in der "Einblicke & Impressionen" Sektion -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Array mit verfügbaren Bildern
      const availableImages = [];
      for (let i = 1; i <= 12; i++) {
        availableImages.push(`assets/IMG_${i}.webp`);
      }
      
      // Funktion zum Mischen eines Arrays (Fisher-Yates)
      const shuffleArray = (array) => {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      };
      
      // Funktion zum Initialisieren und Mischen der Galerie
      const initGallery = () => {
        const gallery = document.querySelector('.gallery');
        if (!gallery) return;
        
        // Alle Bildcontainer holen (inkl. item1)
        const items = Array.from(gallery.querySelectorAll('.gallery-item'));
        
        // Wenn mehr Bilder als verfügbare Slots, nur so viele auswählen wie benötigt
        if (items.length > 0) {
          // Bilder einmal mischen, damit keine Duplikate entstehen
          const randomImages = shuffleArray([...availableImages]);
          
          // Sicherstellen, dass wir genug Bilder haben und keine Duplikate verwenden
          if (randomImages.length >= items.length) {
            // Jedem Bildcontainer ein eindeutiges Bild zuweisen
            items.forEach((item, index) => {
              const img = item.querySelector('img');
              if (img) {
                img.src = randomImages[index];
              }
              
              // Zufällige Reihenfolge der Items (außer item1)
              if (!item.classList.contains('item1')) {
                item.style.order = Math.floor(Math.random() * 100);
              }
            });
          }
        }
      };
      
      // Initiale Initialisierung
      initGallery();
      
      // Keine periodische Aktualisierung mehr
      // setInterval(initGallery, 8000);
    });
  </script>

  <!-- Popup-Varianten -->
  <div id="popup-container">
    <!-- Container für das Original-Popup -->
    <div id="voucher-popup-container"></div>
    
    <!-- Events-Variante -->
    <div id="events-popup-container">
      <!-- Newsletter Popup HTML - Events-Variante -->
      <div class="popup-overlay" id="events-popup">
        <!-- Hidden Netlify Form Schema -->
        <form name="newsletter-voucher-popup" netlify netlify-honeypot="bot-field" hidden>
          <input type="text" name="firstname" />
          <input type="text" name="lastname" />
          <input type="email" name="email" />
          <select name="country"></select>
          <input type="checkbox" name="email_consent" />
          <input type="hidden" name="form-name" value="newsletter-voucher-popup" />
        </form>

        <div class="popup-base">
          <button class="close-button" onclick="closeNewsletterPopup('events-popup')">✕</button>
          
          <div class="popup-graphic" style="background: linear-gradient(135deg, #2196F3, #1976D2);">
            <i class='bx bx-calendar-event' style="font-size: 3rem; margin-bottom: 15px; filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));"></i>
            
            <!-- Animierter Event-Bereich -->
            <div id="events-container" style="position: relative; width: 100%; height: 150px; text-align: center;">
              <div class="event-slide" style="position: absolute; top: 0; left: 0; right: 0; opacity: 1; transform: translateY(0); transition: all 0.5s ease;">
                <h3>EVENTS</h3>
                <p>Exklusive Veranstaltungen</p>
              </div>
              <div class="event-slide" style="position: absolute; top: 0; left: 0; right: 0; opacity: 0; transform: translateY(20px); transition: all 0.5s ease;">
                <h3>NEWS</h3>
                <p>Aktuelle Branchentrends</p>
              </div>
            </div>
          </div>
          
          <div class="popup-content">
            <h2>Bleiben Sie auf dem Laufenden</h2>
            <p>Verpassen Sie keine wichtigen Branchentrends und exklusiven Veranstaltungen. Melden Sie sich für unseren Newsletter an.</p>
            
            <form class="newsletter-form" method="post" netlify name="newsletter-voucher-popup" netlify-honeypot="bot-field" data-netlify="true" action="/" novalidate>
              <p class="hidden" style="display: none;">
                <label>Don't fill this out if you're human: <input name="bot-field" /></label>
              </p>
              <input type="hidden" name="form-name" value="newsletter-voucher-popup">
              <div class="form-group">
                <input type="text" name="firstname" class="form-control" placeholder="Vorname" required>
              </div>
              <div class="form-group">
                <input type="text" name="lastname" class="form-control" placeholder="Nachname" required>
              </div>
              <div class="form-group">
                <input type="email" name="email" class="form-control" placeholder="E-Mail" required>
              </div>
              <div class="form-group">
                <div style="position: relative;">
                  <select name="country" class="form-control" required style="padding-right: 40px; appearance: none; -webkit-appearance: none;">
                    <option value="">Land wählen</option>
                    <option value="DE">Deutschland</option>
                    <option value="AT">Österreich</option>
                    <option value="CH">Schweiz</option>
                    <option value="OTHER">Andere</option>
                  </select>
                  <div style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); pointer-events: none;">
                    <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 1L6 6L11 1" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                </div>
              </div>
              
              <!-- Email Consent Checkbox -->
              <div class="form-group" style="margin-top: 15px; margin-bottom: 15px;">
                <label style="display: flex; align-items: flex-start; gap: 8px; cursor: pointer;">
                  <input type="checkbox" name="email_consent" style="margin-top: 3px;">
                  <span style="font-size: 0.9rem; color: var(--color-muted);">
                    Ich stimme zu, Informationen per E-Mail zu Angeboten der StGallen imt Business School zu erhalten.
                  </span>
                </label>
              </div>
              
              <!-- Newsletter Button -->
              <div class="form-group" style="margin-top: 20px;">
                <button type="submit" style="width: 100%; display: flex; align-items: center; justify-content: center; background: linear-gradient(to right, #2196F3, #1976D2); color: white; padding: 14px 28px; font-size: 16px; font-weight: 500; border: none; border-radius: 8px; text-decoration: none; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                  Jetzt Newsletter abonnieren 
                  <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
                </button>
              </div>
              
              <div style="display: flex; align-items: center; gap: 8px; margin-top: 15px;">
                <i class='bx bx-shield' style="font-size: 20px;"></i>
                <span style="font-size: 0.9rem; color: var(--color-muted);">Ihre Daten sind bei uns sicher - wir versenden keine unerlaubte Werbung</span>
              </div>
            </form>
            
            <!-- Erfolgsanzeige nach Formularabsendung (anfangs versteckt) -->
            <div id="events-success" class="hidden" style="text-align: center; padding: 20px 0;">
              <i class='bx bx-check-circle' style="font-size: 64px; color: var(--imt-green); margin-bottom: 20px;"></i>
              <h3 style="margin-bottom: 16px; color: var(--color-text);">Vielen Dank für Ihre Anmeldung!</h3>
              <p style="margin-bottom: 24px; color: var(--color-muted);">Sie werden ab jetzt über Events und aktuelle News informiert.</p>
              <button onclick="closeNewsletterPopup('events-popup')" style="display: inline-flex; align-items: center; justify-content: center; background: linear-gradient(to right, #2196F3, #1976D2); color: white; padding: 14px 28px; font-size: 16px; font-weight: 500; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                Verstanden 
                <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Webinar-Variante -->
    <div id="webinar-popup-container">
      <!-- Ansprechpartner-Variante -->
    <div id="contact-popup-container">
      <!-- Newsletter Popup HTML - Ansprechpartner-Variante -->
      <div class="popup-overlay" id="contact-popup">
        <!-- Hidden Netlify Form Schema -->
        <form name="newsletter-voucher-popup" netlify netlify-honeypot="bot-field" hidden>
          <input type="text" name="firstname" />
          <input type="text" name="lastname" />
          <input type="email" name="email" />
          <select name="country"></select>
          <input type="checkbox" name="email_consent" />
          <input type="hidden" name="form-name" value="newsletter-voucher-popup" />
        </form>

        <div class="popup-base">
          <button class="close-button" onclick="closeNewsletterPopup('contact-popup')">✕</button>
          
          <div class="popup-graphic" style="background: linear-gradient(135deg, #FF9800, #F57C00);">
            <i class='bx bx-user-voice' style="font-size: 3rem; margin-bottom: 15px; filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));"></i>
            
            <!-- Animiertes Profilbild -->
            <div style="position: relative; width: 100%; height: 150px; text-align: center;">
              <div style="position: absolute; top: 0; left: 0; right: 0; opacity: 1; transition: all 0.3s ease;">
                <div style="width: 80px; height: 80px; border-radius: 50%; background-color: #fff; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);">
                  <i class='bx bx-user' style="font-size: 40px; color: #FF9800;"></i>
                </div>
                <h3>PERSÖNLICHER</h3>
                <p>ANSPRECHPARTNER</p>
              </div>
            </div>
          </div>
          
          <div class="popup-content">
            <h2>Direkter Kontakt zu unseren Experten</h2>
            <p>Erhalten Sie Zugang zu persönlicher Beratung durch unsere Fachexperten und bleiben Sie über aktuelle News und Veranstaltungen informiert.</p>
            
            <form class="newsletter-form" method="post" netlify name="newsletter-voucher-popup" netlify-honeypot="bot-field" data-netlify="true" action="/" novalidate>
              <p class="hidden" style="display: none;">
                <label>Don't fill this out if you're human: <input name="bot-field" /></label>
              </p>
              <input type="hidden" name="form-name" value="newsletter-voucher-popup">
              <div class="form-group">
                <input type="text" name="firstname" class="form-control" placeholder="Vorname" required>
              </div>
              <div class="form-group">
                <input type="text" name="lastname" class="form-control" placeholder="Nachname" required>
              </div>
              <div class="form-group">
                <input type="email" name="email" class="form-control" placeholder="E-Mail" required>
              </div>
              <div class="form-group">
                <div style="position: relative;">
                  <select name="country" class="form-control" required style="padding-right: 40px; appearance: none; -webkit-appearance: none;">
                    <option value="">Land wählen</option>
                    <option value="DE">Deutschland</option>
                    <option value="AT">Österreich</option>
                    <option value="CH">Schweiz</option>
                    <option value="OTHER">Andere</option>
                  </select>
                  <div style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); pointer-events: none;">
                    <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 1L6 6L11 1" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                </div>
              </div>
              
              <!-- Email Consent Checkbox -->
              <div class="form-group" style="margin-top: 15px; margin-bottom: 15px;">
                <label style="display: flex; align-items: flex-start; gap: 8px; cursor: pointer;">
                  <input type="checkbox" name="email_consent" style="margin-top: 3px;">
                  <span style="font-size: 0.9rem; color: var(--color-muted);">
                    Ich stimme zu, Informationen per E-Mail zu Angeboten der StGallen imt Business School zu erhalten.
                  </span>
                </label>
              </div>
              
              <!-- Newsletter Button -->
              <div class="form-group" style="margin-top: 20px;">
                <button type="submit" style="width: 100%; display: flex; align-items: center; justify-content: center; background: linear-gradient(to right, #FF9800, #F57C00); color: white; padding: 14px 28px; font-size: 16px; font-weight: 500; border: none; border-radius: 8px; text-decoration: none; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                  Jetzt anmelden 
                  <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
                </button>
              </div>
              
              <div style="display: flex; align-items: center; gap: 8px; margin-top: 15px;">
                <i class='bx bx-shield' style="font-size: 20px;"></i>
                <span style="font-size: 0.9rem; color: var(--color-muted);">Ihre Daten sind bei uns sicher - wir versenden keine unerlaubte Werbung</span>
              </div>
            </form>
            
            <!-- Erfolgsanzeige nach Formularabsendung (anfangs versteckt) -->
            <div id="contact-success" class="hidden" style="text-align: center; padding: 20px 0;">
              <i class='bx bx-check-circle' style="font-size: 64px; color: var(--imt-green); margin-bottom: 20px;"></i>
              <h3 style="margin-bottom: 16px; color: var(--color-text);">Vielen Dank für Ihre Anmeldung!</h3>
              <p style="margin-bottom: 24px; color: var(--color-muted);">Ein Experte wird sich in Kürze mit Ihnen in Verbindung setzen.</p>
              <button onclick="closeNewsletterPopup('contact-popup')" style="display: inline-flex; align-items: center; justify-content: center; background: linear-gradient(to right, #FF9800, #F57C00); color: white; padding: 14px 28px; font-size: 16px; font-weight: 500; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                Verstanden 
                <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
      
      <!-- Styles für die Webinar-Popup-Variante -->
      <style>
        /* EXTREM WICHTIGER STYLE RESET */
        button.close-button,
        .close-button,
        .popup-overlay button,
        .popup-base button,
        [class*="close-button"],
        button[onclick*="closeNewsletterPopup"] {
          background-color: #f5f5f7 !important;
          background: #f5f5f7 !important;
          background-image: none !important;
          color: #000 !important;
          border-color: transparent !important;
        }
        
        button.close-button:hover,
        .close-button:hover,
        .popup-overlay button:hover,
        .popup-base button:hover {
          background-color: #e5e5e5 !important;
          background: #e5e5e5 !important;
        }

        /* Popup Overlay und Basis-Struktur */
        .popup-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 9999;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.3s ease;
        }

        .popup-overlay.active {
          opacity: 1;
          pointer-events: all;
        }

        .popup-base {
          position: relative;
          background-color: white;
          border-radius: var(--radius);
          overflow: hidden;
          width: 90%;
          max-width: 700px;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
          display: flex;
        }
        
        /* Popup Grafik Bereich */
        .popup-graphic {
          padding: 40px 20px;
          width: 40%;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          color: white;
          overflow: hidden;
          position: relative;
        }
        
        /* Spezielle Farbvarianten */
        .popup-graphic-webinar {
          background: linear-gradient(135deg, #4CB796, #388E3C);
        }
        
        /* Icons für Vorteile */
        .benefit-icon {
          font-size: 3rem;
          margin-bottom: 15px;
          filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
        }
        
        /* Animation für die Vorteile */
        .benefits-container {
          text-align: center;
          height: 150px;
          position: relative;
        }
        
        .benefit-item {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          opacity: 0;
          transform: translateY(20px);
          transition: opacity 0.5s ease, transform 0.5s ease;
        }
        
        .benefit-item.active {
          opacity: 1;
          transform: translateY(0);
        }
                
        /* Mobilansicht */
        @media (max-width: 768px) {
          .popup-base {
            flex-direction: column;
            max-height: 90vh;
            overflow-y: auto;
            width: 85%;
          }
          
          .popup-graphic {
            width: 100%;
            padding: 18px 12px;
            min-height: auto;
          }
          
          .popup-content {
            width: 100%;
            padding: 20px 15px;
          }
        }
                
        /* Support für .hidden Klasse */
        .hidden {
          display: none;
        }
      </style>

      <!-- Newsletter Popup HTML - Webinar-Variante -->
      <div class="popup-overlay" id="webinar-popup">
        <!-- Hidden Netlify Form Schema -->
        <form name="newsletter-voucher-popup" netlify netlify-honeypot="bot-field" hidden>
          <input type="text" name="firstname" />
          <input type="text" name="lastname" />
          <input type="email" name="email" />
          <select name="country"></select>
          <input type="checkbox" name="email_consent" />
          <input type="hidden" name="form-name" value="newsletter-voucher-popup" />
        </form>

        <div class="popup-base">
          <button class="close-button" onclick="closeNewsletterPopup('webinar-popup')">✕</button>
          
          <div class="popup-graphic popup-graphic-webinar">
            <i class='bx bx-laptop benefit-icon'></i>
            
            <!-- Rotierende Vorteile -->
            <div class="benefits-container" id="webinar-benefits">
              <div class="benefit-item" data-benefit="1">
                <h3>WEBINARE</h3>
                <p>Exklusive kostenlose Inhalte</p>
              </div>
              <div class="benefit-item" data-benefit="2">
                <h3>ANSPRECHPARTNER</h3>
                <p>Direkter Kontakt zu Experten</p>
              </div>
              <div class="benefit-item" data-benefit="3">
                <h3>AKTUELLE NEWS</h3>
                <p>Immer auf dem neuesten Stand</p>
              </div>
              <div class="benefit-item" data-benefit="4">
                <h3>EVENTS</h3>
                <p>Einladungen zu Veranstaltungen</p>
              </div>
              <div class="benefit-item" data-benefit="5">
                <h3>VOUCHER</h3>
                <p>Exklusive Sonderangebote</p>
              </div>
            </div>
          </div>
          
          <div class="popup-content">
            <h2>Bleiben Sie informiert</h2>
            <p>Melden Sie sich für unseren Newsletter an und erhalten Sie Zugang zu exklusiven Webinaren, persönlicher Beratung und den neuesten Trends aus der Branche.</p>
            
            <form class="newsletter-form" method="post" netlify name="newsletter-voucher-popup" netlify-honeypot="bot-field" data-netlify="true" action="/" novalidate>
              <p class="hidden" style="display: none;">
                <label>Don't fill this out if you're human: <input name="bot-field" /></label>
              </p>
              <input type="hidden" name="form-name" value="newsletter-voucher-popup">
              <div class="form-group">
                <input type="text" name="firstname" class="form-control" placeholder="Vorname" required>
              </div>
              <div class="form-group">
                <input type="text" name="lastname" class="form-control" placeholder="Nachname" required>
              </div>
              <div class="form-group">
                <input type="email" name="email" class="form-control" placeholder="E-Mail" required>
              </div>
              <div class="form-group">
                <div style="position: relative;">
                  <select name="country" class="form-control" required style="padding-right: 40px; appearance: none; -webkit-appearance: none;">
                    <option value="">Land wählen</option>
                    <option value="DE">Deutschland</option>
                    <option value="AT">Österreich</option>
                    <option value="CH">Schweiz</option>
                    <option value="OTHER">Andere</option>
                  </select>
                  <div style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); pointer-events: none;">
                    <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 1L6 6L11 1" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                </div>
              </div>
              
              <!-- Email Consent Checkbox -->
              <div class="form-group" style="margin-top: 15px; margin-bottom: 15px;">
                <label style="display: flex; align-items: flex-start; gap: 8px; cursor: pointer;">
                  <input type="checkbox" name="email_consent" style="margin-top: 3px;">
                  <span style="font-size: 0.9rem; color: var(--color-muted);">
                    Ich stimme zu, Informationen per E-Mail zu Angeboten der StGallen imt Business School zu erhalten.
                  </span>
                </label>
              </div>
              
              <!-- Newsletter Button -->
              <div class="form-group" style="margin-top: 20px;">
                <button type="submit" style="width: 100%; display: flex; align-items: center; justify-content: center; background: linear-gradient(to right, #4CB796, #388E3C); color: white; padding: 14px 28px; font-size: 16px; font-weight: 500; border: none; border-radius: 8px; text-decoration: none; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                  Jetzt Newsletter abonnieren 
                  <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
                </button>
              </div>
              
              <div style="display: flex; align-items: center; gap: 8px; margin-top: 15px;">
                <i class='bx bx-shield' style="font-size: 20px;"></i>
                <span style="font-size: 0.9rem; color: var(--color-muted);">Ihre Daten sind bei uns sicher - wir versenden keine unerlaubte Werbung</span>
              </div>
            </form>
            
            <!-- Erfolgsanzeige nach Formularabsendung (anfangs versteckt) -->
            <div id="webinar-success" class="hidden" style="text-align: center; padding: 20px 0;">
              <i class='bx bx-check-circle' style="font-size: 64px; color: var(--imt-green); margin-bottom: 20px;"></i>
              <h3 style="margin-bottom: 16px; color: var(--color-text);">Vielen Dank für Ihre Anmeldung!</h3>
              <p style="margin-bottom: 24px; color: var(--color-muted);">Wir halten Sie über unsere neuesten Webinare und Angebote auf dem Laufenden.</p>
              <button onclick="closeNewsletterPopup('webinar-popup')" style="display: inline-flex; align-items: center; justify-content: center; background: linear-gradient(to right, #4CB796, #388E3C); color: white; padding: 14px 28px; font-size: 16px; font-weight: 500; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                Verstanden 
                <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // Popup-Komponente laden, aber nicht automatisch anzeigen
    document.addEventListener('DOMContentLoaded', function() {
      // Original-Komponente laden
      fetch('components/globals/voucher_popup.html?t=' + new Date().getTime())
        .then(response => {
          if (!response.ok) {
            console.error('Fehler beim Laden des Voucher Popups:', response.status);
            // Fallback zum includes-Verzeichnis versuchen
            return fetch('components/includes/voucher_popup.html?t=' + new Date().getTime())
              .then(resp => {
                if (!resp.ok) {
                  console.error('Auch includes-Pfad fehlgeschlagen:', resp.status);
                  return '';
                }
                return resp.text();
              });
          }
          return response.text();
        })
        .then(data => {
          if (data) {
            document.getElementById('voucher-popup-container').innerHTML = data;
            console.log('Voucher Popup geladen');
            
            // Alle Skripte im geladenen Inhalt ausführen
            const scripts = document.getElementById('voucher-popup-container').querySelectorAll('script');
            scripts.forEach(script => {
              const newScript = document.createElement('script');
              Array.from(script.attributes).forEach(attr => {
                newScript.setAttribute(attr.name, attr.value);
              });
              newScript.textContent = script.textContent;
              script.parentNode.replaceChild(newScript, script);
            });
            
            // JavaScript-Funktionen überschreiben/erweitern für mehrere Popups
            extendPopupFunctions();
          }
        })
        .catch(error => console.error('Fehler beim Laden des Voucher-Popups:', error));
    });
    
    // Funktionen erweitern um verschiedene Popup-Varianten zu unterstützen
    function extendPopupFunctions() {
      // Original-Funktionen sichern
      const originalShowPopup = window.showNewsletterPopup;
      const originalClosePopup = window.closeNewsletterPopup;
      
      // Erweiterte showNewsletterPopup-Funktion
      window.showNewsletterPopup = function(popupId = 'newsletter-popup') {
        if (popupId === 'newsletter-popup') {
          // Original-Popup mit der ursprünglichen Funktion anzeigen
          if (originalShowPopup) originalShowPopup();
          return;
        }
        
        // Für neue Varianten
        const popup = document.getElementById(popupId);
        if (!popup) return;
        
        popup.classList.add('active');
        document.body.style.overflow = 'hidden';
        
                 // Für Webinar-Variante
         if (popupId === 'webinar-popup') {
           startBenefitRotation('webinar-benefits');
         }
         
         // Für Ansprechpartner-Variante
         if (popupId === 'contact-popup') {
           // Keine spezielle Animation für diese Variante
         }
         
         // Für Events-Variante
         if (popupId === 'events-popup') {
           startEventSlideshow();
         }
       };
       
       // Animation für Events-Slides
       window.eventSlideshowInterval = null;
       function startEventSlideshow() {
         const slides = document.querySelectorAll('#events-container .event-slide');
         if (slides.length === 0) return;
         
         let currentIndex = 0;
         slides[0].style.opacity = '1';
         slides[0].style.transform = 'translateY(0)';
         
         for (let i = 1; i < slides.length; i++) {
           slides[i].style.opacity = '0';
           slides[i].style.transform = 'translateY(20px)';
         }
         
         // Interval stoppen, falls es bereits läuft
         if (window.eventSlideshowInterval) {
           clearInterval(window.eventSlideshowInterval);
         }
         
         // Slideshow starten
         window.eventSlideshowInterval = setInterval(() => {
           // Aktuelle ausblenden
           slides[currentIndex].style.opacity = '0';
           slides[currentIndex].style.transform = 'translateY(20px)';
           
           // Zur nächsten wechseln
           currentIndex = (currentIndex + 1) % slides.length;
           
           // Neue einblenden
           slides[currentIndex].style.opacity = '1';
           slides[currentIndex].style.transform = 'translateY(0)';
         }, 4000); // Alle 4 Sekunden wechseln
       };
      
             // Erweiterte closeNewsletterPopup-Funktion
       window.closeNewsletterPopup = function(popupId = 'newsletter-popup') {
         if (popupId === 'newsletter-popup') {
           // Original-Popup mit der ursprünglichen Funktion schließen
           if (originalClosePopup) originalClosePopup();
           return;
         }
         
         // Für neue Varianten
         const popup = document.getElementById(popupId);
         if (!popup) return;
         
         popup.classList.remove('active');
         document.body.style.overflow = 'auto';
         
         // Animationen stoppen
         if (popupId === 'webinar-popup' && window.benefitRotationInterval) {
           clearInterval(window.benefitRotationInterval);
         }
         
         if (popupId === 'events-popup' && window.eventSlideshowInterval) {
           clearInterval(window.eventSlideshowInterval);
         }
       };
      
      // Animation für rotierende Vorteile
      window.benefitRotationInterval = null;
      function startBenefitRotation(containerId) {
        const container = document.getElementById(containerId);
        if (!container) return;
        
        const benefits = container.querySelectorAll('.benefit-item');
        if (benefits.length === 0) return;
        
        let currentIndex = 0;
        
        // Erste Benefit aktivieren
        benefits[currentIndex].classList.add('active');
        
        // Interval stoppen, falls es bereits läuft
        if (window.benefitRotationInterval) {
          clearInterval(window.benefitRotationInterval);
        }
        
        // Rotation starten
        window.benefitRotationInterval = setInterval(() => {
          // Aktuelle deaktivieren
          benefits[currentIndex].classList.remove('active');
          
          // Zur nächsten wechseln
          currentIndex = (currentIndex + 1) % benefits.length;
          
          // Neue aktivieren
          benefits[currentIndex].classList.add('active');
        }, 3000); // Alle 3 Sekunden wechseln
      }
      
             // Allgemeine Funktion für Formular-Handling
       function setupNewsletterForm(popupId, formSelector, successId) {
         const form = document.querySelector(formSelector);
         if (!form) return;
         
         form.addEventListener('submit', function(e) {
           e.preventDefault();
           
           // Form-Daten sammeln
           const formData = new FormData(this);
           formData.append("form-name", "newsletter-voucher-popup");
           
           // Via fetch an Netlify senden
           fetch('/', {
             method: 'POST',
             body: new URLSearchParams(formData)
           })
           .then(response => {
             // Erfolgsanzeige
             form.style.display = 'none';
             document.getElementById(successId).classList.remove('hidden');
           })
           .catch(error => {
             console.error('Fehler beim Senden der Daten:', error);
             // Trotz Fehler Erfolgsanzeige
             form.style.display = 'none';
             document.getElementById(successId).classList.remove('hidden');
           });
           
           // Form zurücksetzen
           this.reset();
         });
       }
       
       // Event-Listener für alle Popup-Formulare
       setupNewsletterForm('webinar-popup', '#webinar-popup .newsletter-form', 'webinar-success');
       setupNewsletterForm('contact-popup', '#contact-popup .newsletter-form', 'contact-success');
       setupNewsletterForm('events-popup', '#events-popup .newsletter-form', 'events-success');
    }
  </script>
  
  <!-- Test-Buttons für Popup-Varianten -->
  <div style="padding: 40px 0; text-align: center; background-color: #f5f5f7;">
    <div class="container">
      <h2>Newsletter Popup Varianten</h2>
      <p style="margin-bottom: 20px;">Klicken Sie auf einen der Buttons, um die verschiedenen Popup-Varianten zu testen:</p>
      
      <!-- Original Popup Button -->
      <button onclick="showNewsletterPopup()" style="display: inline-flex; align-items: center; margin: 10px; background: linear-gradient(to right, var(--imt-purple), #9c27b0); color: white; padding: 12px 24px; font-size: 1rem; font-weight: 500; border: none; border-radius: var(--radius); cursor: pointer; text-decoration: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        Original Voucher PopUp anzeigen
        <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
      </button>
      
      <!-- Webinar Popup Button -->
      <button onclick="showNewsletterPopup('webinar-popup')" style="display: inline-flex; align-items: center; margin: 10px; background: linear-gradient(to right, var(--imt-green), #388E3C); color: white; padding: 12px 24px; font-size: 1rem; font-weight: 500; border: none; border-radius: var(--radius); cursor: pointer; text-decoration: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        Webinar Variante anzeigen
        <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
      </button>
      
      <!-- Ansprechpartner Popup Button -->
      <button onclick="showNewsletterPopup('contact-popup')" style="display: inline-flex; align-items: center; margin: 10px; background: linear-gradient(to right, #FF9800, #F57C00); color: white; padding: 12px 24px; font-size: 1rem; font-weight: 500; border: none; border-radius: var(--radius); cursor: pointer; text-decoration: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        Ansprechpartner Variante anzeigen
        <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
      </button>
      
      <!-- Events Popup Button -->
      <button onclick="showNewsletterPopup('events-popup')" style="display: inline-flex; align-items: center; margin: 10px; background: linear-gradient(to right, #2196F3, #1976D2); color: white; padding: 12px 24px; font-size: 1rem; font-weight: 500; border: none; border-radius: var(--radius); cursor: pointer; text-decoration: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        Events & News Variante anzeigen
        <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
      </button>
    </div>
  </div>

  <!-- Platzhalter für zukünftige Varianten -->
  <div id="webinar-popup-container">
  </div>

  <!-- Platzhalter für zukünftige Varianten -->
  <div id="contact-popup-container">
    <!-- Apple-inspirierte Popup Styles für Kontakte-Variante -->
    <style>
      /* Apple-inspiriertes Popup-Design für Kontakte */
      #apple-contact-popup {
        font-family: var(--font-sans);
      }
      
      /* Orange Farbschema für Kontakte */
      .apple-contact-popup-graphic {
        width: 45%;
        background: linear-gradient(135deg, #FF9800, #F57C00);
        position: relative;
        overflow: hidden;
        padding: 40px 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      
      /* Spezielles Styling für die 3D-Sphäre */
      .contact-sphere-container {
        width: 100%;
        height: 300px;
        position: relative;
        perspective: 1200px;
        margin: 0 auto;
      }
      
      .contact-sphere {
        width: 100%;
        height: 100%;
        position: absolute;
        transform-style: preserve-3d;
        transition: transform 0.8s cubic-bezier(0.42, 0, 0.58, 1);
      }
      
      .contact-sphere-item {
        position: absolute;
        width: 90px;
        height: 90px;
        left: 50%;
        top: 50%;
        margin-left: -45px;
        margin-top: -45px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: white;
        text-align: center;
        transform-origin: center center;
        box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        cursor: default;
        user-select: none;
      }
      
      .contact-sphere-item i {
        font-size: 30px;
      }
      
      .contact-sphere-item:hover {
        background: rgba(255, 255, 255, 0.2);
      }
      
      .contact-info-text {
        position: absolute;
        bottom: 30px;
        left: 0;
        right: 0;
        text-align: center;
        color: white;
      }
      
      .contact-info-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 5px;
      }
      
      .contact-info-subtitle {
        font-size: 14px;
        opacity: 0.9;
      }
      
      /* Buttons in orange für Kontakte */
      .apple-contact-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        padding: 15px;
        border-radius: 10px;
        border: none;
        background: linear-gradient(to right, #FF9800, #F57C00);
        color: white;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: transform 0.3s, box-shadow 0.3s;
      }
      
      .apple-contact-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 152, 0, 0.3);
      }
      
      /* Checkbox in orange für Kontakte */
      .apple-contact-checkbox:checked {
        background: #FF9800;
        border-color: #FF9800;
      }
      
      /* Success Icon in orange für Kontakte */
      .apple-contact-success-icon {
        font-size: 64px;
        color: #FF9800;
        margin-bottom: 20px;
      }
      
      @media (max-width: 768px) {
        .contact-sphere-container {
          height: 250px;
        }
        
        .contact-sphere-item {
          width: 70px;
          height: 70px;
          margin-left: -35px;
          margin-top: -35px;
        }
        
        .contact-sphere-item i {
          font-size: 24px;
        }
      }
    </style>

    <!-- Newsletter Popup HTML - Apple-inspirierte Kontakt-Variante -->
    <div class="popup-overlay" id="apple-contact-popup">
      <form name="newsletter-voucher-popup" netlify netlify-honeypot="bot-field" hidden>
        <input type="text" name="firstname" />
        <input type="text" name="lastname" />
        <input type="email" name="email" />
        <select name="country"></select>
        <input type="checkbox" name="email_consent" />
        <input type="hidden" name="form-name" value="newsletter-voucher-popup" />
      </form>

      <div class="apple-popup-base">
        <button class="apple-close-button" onclick="closeNewsletterPopup('apple-contact-popup')">✕</button>
        
        <div class="apple-contact-popup-graphic">
          <!-- 3D Sphäre mit Kontakticons -->
          <div class="contact-sphere-container">
            <div class="contact-sphere" id="contact-sphere">
              <div class="contact-sphere-item" data-index="0" data-type="personal">
                <i class='bx bx-user'></i>
              </div>
              <div class="contact-sphere-item" data-index="1" data-type="chat">
                <i class='bx bx-chat'></i>
              </div>
              <div class="contact-sphere-item" data-index="2" data-type="call">
                <i class='bx bx-phone'></i>
              </div>
              <div class="contact-sphere-item" data-index="3" data-type="mail">
                <i class='bx bx-envelope'></i>
              </div>
              <div class="contact-sphere-item" data-index="4" data-type="meeting">
                <i class='bx bx-calendar'></i>
              </div>
              <div class="contact-sphere-item" data-index="5" data-type="video">
                <i class='bx bx-video'></i>
              </div>
              <div class="contact-sphere-item" data-index="6" data-type="social">
                <i class='bx bx-group'></i>
              </div>
              <div class="contact-sphere-item" data-index="7" data-type="support">
                <i class='bx bx-support'></i>
              </div>
            </div>
          </div>
          
          <div class="contact-info-text">
            <div class="contact-info-title">PERSÖNLICHE BERATUNG</div>
            <div class="contact-info-subtitle">Von unseren Experten</div>
          </div>
        </div>
        
        <div class="apple-popup-content">
          <h2 style="font-size: 28px; margin-bottom: 10px; font-weight: 600;">Ihr persönlicher Ansprechpartner</h2>
          <p style="font-size: 16px; color: #6e6e73; margin-bottom: 25px;">Erhalten Sie Zugang zu unseren Experten und profitieren Sie von individueller Beratung für Ihre berufliche Weiterentwicklung.</p>
          
          <form class="apple-contact-newsletter-form" method="post" netlify name="newsletter-voucher-popup" netlify-honeypot="bot-field" data-netlify="true" action="/" novalidate>
            <p class="apple-hidden">
              <label>Don't fill this out if you're human: <input name="bot-field" /></label>
            </p>
            <input type="hidden" name="form-name" value="newsletter-voucher-popup">
            
            <div class="apple-form-group">
              <input type="text" name="firstname" class="apple-form-control" placeholder="Vorname" required>
            </div>
            
            <div class="apple-form-group">
              <input type="text" name="lastname" class="apple-form-control" placeholder="Nachname" required>
            </div>
            
            <div class="apple-form-group">
              <input type="email" name="email" class="apple-form-control" placeholder="E-Mail" required>
            </div>
            
            <div class="apple-form-group">
              <select name="country" class="apple-form-control apple-form-select" required>
                <option value="">Land wählen</option>
                <option value="DE">Deutschland</option>
                <option value="AT">Österreich</option>
                <option value="CH">Schweiz</option>
                <option value="OTHER">Andere</option>
              </select>
            </div>
            
            <div class="apple-checkbox-wrapper">
              <input type="checkbox" name="email_consent" id="apple-contact-consent" class="apple-checkbox apple-contact-checkbox" required>
              <label for="apple-contact-consent" class="apple-checkbox-label">
                Ich stimme zu, Informationen per E-Mail zu Angeboten der StGallen imt Business School zu erhalten.
              </label>
            </div>
            
            <button type="submit" class="apple-btn apple-contact-btn">
              Kontakt anfordern
              <span class="apple-btn-arrow">→</span>
            </button>
            
            <div style="display: flex; align-items: center; gap: 8px; margin-top: 15px;">
              <i class='bx bx-shield' style="font-size: 18px; color: #6e6e73;"></i>
              <span style="font-size: 13px; color: #6e6e73;">Ihre Daten werden vertraulich behandelt und nicht an Dritte weitergegeben.</span>
            </div>
          </form>
          
          <!-- Erfolgsanzeige -->
          <div id="apple-contact-success" class="apple-success-message apple-hidden">
            <i class='bx bx-check-circle apple-contact-success-icon'></i>
            <h3 style="font-size: 24px; margin-bottom: 15px; font-weight: 600;">Vielen Dank!</h3>
            <p style="font-size: 16px; color: #6e6e73; margin-bottom: 25px;">Einer unserer Experten wird sich in Kürze mit Ihnen in Verbindung setzen.</p>
            <button onclick="closeNewsletterPopup('apple-contact-popup')" class="apple-btn apple-contact-btn">
              Verstanden
              <span class="apple-btn-arrow">→</span>
            </button>
          </div>
        </div>
      </div>

      <!-- JavaScript für die 3D Sphäre -->
      <script>
        function initContactSphere() {
          const sphere = document.getElementById('contact-sphere');
          if (!sphere) return;
          
          const items = sphere.querySelectorAll('.contact-sphere-item');
          const itemCount = items.length;
          
          // Sphärische Anordnung einrichten
          function setupSphere() {
            // Anpassung des Radius je nach Bildschirmgröße
            const radius = Math.min(window.innerWidth * 0.1, 120);
            
            // Fibonacci-Anordnung auf einer Sphäre für gleichmäßige Verteilung
            const phi = Math.PI * (3 - Math.sqrt(5)); // Goldener Winkel
            
            items.forEach((item, index) => {
              const y = 1 - (index / (itemCount - 1)) * 2; // y von 1 bis -1
              const radiusAtY = Math.sqrt(1 - y * y); // Radius an diesem y-Wert
              
              const theta = phi * index; // Azimutaler Winkel
              
              const x = Math.cos(theta) * radiusAtY;
              const z = Math.sin(theta) * radiusAtY;
              
              // 3D-Transformation anwenden
              item.style.transform = `translate3d(${x * radius}px, ${y * radius}px, ${z * radius}px)`;
              
              // Größe und Opazität je nach Z-Position anpassen
              const scale = 0.7 + (z + 1) / 2 * 0.6;
              const opacity = 0.7 + (z + 1) / 2 * 0.3;
              
              item.style.transform += ` scale(${scale})`;
              item.style.opacity = opacity;
              item.style.zIndex = Math.floor((z + 1) * 100);
            });
          }
          
          // Initiale Einrichtung
          setupSphere();
          
          // Rotation starten - komplexere Bewegung als einfaches Rotieren
          let time = 0;
          const interval = setInterval(() => {
            time += 0.02;
            
            // Sphäre in zwei Achsen langsam rotieren
            const rotationX = Math.sin(time * 0.3) * 15; // Sanfte Neigung
            const rotationY = time * 20; // Konstante Drehung um Y-Achse
            
            sphere.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
          }, 50);
          
          // Hover-Effekte hinzufügen
          items.forEach((item) => {
            item.addEventListener('mouseenter', () => {
              // Alle anderen Elemente abdunkeln
              items.forEach((otherItem) => {
                if (otherItem !== item) {
                  otherItem.style.opacity = '0.3';
                  otherItem.style.transform = otherItem.style.transform.replace(/scale\([^)]*\)/, 'scale(0.7)');
                }
              });
              
              // Ausgewähltes Element hervorheben
              item.style.opacity = '1';
              item.style.transform = item.style.transform.replace(/scale\([^)]*\)/, 'scale(1.2)');
            });
            
            // Zurücksetzen beim Verlassen
            item.addEventListener('mouseleave', () => {
              setupSphere(); // Original-Layout wiederherstellen
            });
          });
          
          // Cleanup beim Schließen des Popups
          document.getElementById('apple-contact-popup').addEventListener('transitionend', function(e) {
            if (!this.classList.contains('active') && interval) {
              clearInterval(interval);
            }
          });
          
          // Popup-Formular handling
          const form = document.querySelector('.apple-contact-newsletter-form');
          const successMessage = document.getElementById('apple-contact-success');
          
          if (form && successMessage) {
            form.addEventListener('submit', function(e) {
              e.preventDefault();
              
              // Formular ausblenden und Erfolgsmeldung anzeigen
              form.style.display = 'none';
              successMessage.classList.remove('apple-hidden');
            });
          }
        }
        
        // Erweitern der setupApplePopups-Funktion
        document.addEventListener('DOMContentLoaded', function() {
          // Warten, bis die setupApplePopups-Funktion verfügbar ist
          const checkForSetupFunction = setInterval(() => {
            if (typeof setupApplePopups === 'function') {
              clearInterval(checkForSetupFunction);
              
              // Original-Funktion sichern
              const originalSetupApplePopups = setupApplePopups;
              
              // Funktion erweitern
              window.setupApplePopups = function() {
                originalSetupApplePopups();
                
                // Erweiterte showNewsletterPopup-Funktion
                const originalShowPopup = window.showNewsletterPopup;
                
                window.showNewsletterPopup = function(popupId = 'newsletter-popup') {
                  // Originals weiterhin ausführen
                  if (typeof originalShowPopup === 'function' && 
                      (popupId === 'newsletter-popup' || 
                       popupId === 'webinar-popup' || 
                       popupId === 'contact-popup' || 
                       popupId === 'events-popup' ||
                       popupId === 'apple-webinar-popup')) {
                    originalShowPopup(popupId);
                    return;
                  }
                  
                  // Für die neue Kontakt-Variante
                  const popup = document.getElementById(popupId);
                  if (!popup) return;
                  
                  popup.classList.add('active');
                  document.body.style.overflow = 'hidden';
                  
                  // Contact-Sphäre initialisieren
                  if (popupId === 'apple-contact-popup') {
                    initContactSphere();
                  }
                };
              };
              
              // Sofort ausführen
              setupApplePopups();
            }
          }, 100);
        });
      </script>
    </div>
  </div>

  <!-- Events & News Variante mit Apple-inspiriertem 3D-Design -->
  <div id="events-popup-container">
    <!-- Apple-inspirierte Popup Styles für Events-Variante -->
    <style>
      /* Apple-inspiriertes Popup-Design für Events & News */
      #apple-events-popup {
        font-family: var(--font-sans);
      }
      
      /* Blaues Farbschema für Events */
      .apple-events-popup-graphic {
        width: 45%;
        background: linear-gradient(135deg, #2196F3, #1976D2);
        position: relative;
        overflow: hidden;
        padding: 40px 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      
      /* Floating 3D-Karten für Events */
      .events-cards-container {
        width: 100%;
        height: 300px;
        position: relative;
        perspective: 1200px;
        margin: 0 auto;
      }
      
      .events-floating-card {
        position: absolute;
        width: 180px;
        background: rgba(255, 255, 255, 0.12);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 16px;
        padding: 15px;
        color: white;
        text-align: left;
        transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transform-style: preserve-3d;
      }
      
      .events-floating-card:hover {
        transform: translateZ(30px) scale(1.05);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        z-index: 10;
      }
      
      .events-card-icon {
        font-size: 24px;
        margin-bottom: 10px;
        color: white;
      }
      
      .events-card-title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 6px;
      }
      
      .events-card-text {
        font-size: 13px;
        opacity: 0.9;
        line-height: 1.4;
      }
      
      /* Badge für new/happening now */
      .events-card-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.3);
        color: white;
        font-size: 10px;
        padding: 3px 8px;
        border-radius: 10px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      
      .events-card-badge.live {
        background: rgba(255, 59, 48, 0.8);
      }
      
      .events-card-badge.new {
        background: rgba(52, 199, 89, 0.8);
      }
      
      .events-introduction {
        position: absolute;
        bottom: 30px;
        left: 0;
        right: 0;
        text-align: center;
        color: white;
      }
      
      .events-intro-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 5px;
      }
      
      .events-intro-subtitle {
        font-size: 14px;
        opacity: 0.9;
      }
      
      /* Buttons in blau für Events */
      .apple-events-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        padding: 15px;
        border-radius: 10px;
        border: none;
        background: linear-gradient(to right, #2196F3, #1976D2);
        color: white;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: transform 0.3s, box-shadow 0.3s;
      }
      
      .apple-events-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
      }
      
      /* Checkbox in blau für Events */
      .apple-events-checkbox:checked {
        background: #2196F3;
        border-color: #2196F3;
      }
      
      /* Success Icon in blau für Events */
      .apple-events-success-icon {
        font-size: 64px;
        color: #2196F3;
        margin-bottom: 20px;
      }
      
      @media (max-width: 768px) {
        .events-cards-container {
          height: 250px;
        }
        
        .events-floating-card {
          width: 150px;
          padding: 12px;
        }
        
        .events-card-icon {
          font-size: 20px;
        }
      }
    </style>

    <!-- Newsletter Popup HTML - Apple-inspirierte Events-Variante -->
    <div class="popup-overlay" id="apple-events-popup">
      <form name="newsletter-voucher-popup" netlify netlify-honeypot="bot-field" hidden>
        <input type="text" name="firstname" />
        <input type="text" name="lastname" />
        <input type="email" name="email" />
        <select name="country"></select>
        <input type="checkbox" name="email_consent" />
        <input type="hidden" name="form-name" value="newsletter-voucher-popup" />
      </form>

      <div class="apple-popup-base">
        <button class="apple-close-button" onclick="closeNewsletterPopup('apple-events-popup')">✕</button>
        
        <div class="apple-events-popup-graphic">
          <!-- Floating 3D Events Cards -->
          <div class="events-cards-container" id="events-cards-container">
            <div class="events-floating-card" style="left: 20px; top: 30px; transform: rotateX(5deg) rotateY(-3deg) translateZ(20px);">
              <i class='bx bx-calendar-event events-card-icon'></i>
              <div class="events-card-badge new">Neu</div>
              <h3 class="events-card-title">Leadership Summit</h3>
              <p class="events-card-text">Exklusives Event zu Führungsthemen in St. Gallen</p>
            </div>
            
            <div class="events-floating-card" style="right: 30px; top: 50px; transform: rotateX(-8deg) rotateY(5deg) translateZ(10px);">
              <i class='bx bx-news events-card-icon'></i>
              <div class="events-card-badge">Update</div>
              <h3 class="events-card-title">KI im Management</h3>
              <p class="events-card-text">Aktuelle Trends und Anwendungsfälle für Führungskräfte</p>
            </div>
            
            <div class="events-floating-card" style="left: 50px; bottom: 70px; transform: rotateX(-5deg) rotateY(8deg) translateZ(15px);">
              <i class='bx bx-bulb events-card-icon'></i>
              <h3 class="events-card-title">Tech Innovationen</h3>
              <p class="events-card-text">Die wichtigsten Technologietrends für 2024/2025</p>
            </div>
            
            <div class="events-floating-card" style="right: 40px; bottom: 40px; transform: rotateX(10deg) rotateY(-5deg) translateZ(25px);">
              <i class='bx bx-group events-card-icon'></i>
              <div class="events-card-badge live">Live</div>
              <h3 class="events-card-title">Networking Event</h3>
              <p class="events-card-text">Virtuelle Business-Vernetzung mit Top-Experten</p>
            </div>
          </div>
          
          <div class="events-introduction">
            <div class="events-intro-title">EVENTS & NEWS</div>
            <div class="events-intro-subtitle">Immer bestens informiert</div>
          </div>
        </div>
        
        <div class="apple-popup-content">
          <h2 style="font-size: 28px; margin-bottom: 10px; font-weight: 600;">Bleiben Sie auf dem Laufenden</h2>
          <p style="font-size: 16px; color: #6e6e73; margin-bottom: 25px;">Verpassen Sie keine wichtigen Branchentrends und exklusive Veranstaltungen. Melden Sie sich für unseren Newsletter an.</p>
          
          <form class="apple-events-newsletter-form" method="post" netlify name="newsletter-voucher-popup" netlify-honeypot="bot-field" data-netlify="true" action="/" novalidate>
            <p class="apple-hidden">
              <label>Don't fill this out if you're human: <input name="bot-field" /></label>
            </p>
            <input type="hidden" name="form-name" value="newsletter-voucher-popup">
            
            <div class="apple-form-group">
              <input type="text" name="firstname" class="apple-form-control" placeholder="Vorname" required>
            </div>
            
            <div class="apple-form-group">
              <input type="text" name="lastname" class="apple-form-control" placeholder="Nachname" required>
            </div>
            
            <div class="apple-form-group">
              <input type="email" name="email" class="apple-form-control" placeholder="E-Mail" required>
            </div>
            
            <div class="apple-form-group">
              <select name="country" class="apple-form-control apple-form-select" required>
                <option value="">Land wählen</option>
                <option value="DE">Deutschland</option>
                <option value="AT">Österreich</option>
                <option value="CH">Schweiz</option>
                <option value="OTHER">Andere</option>
              </select>
            </div>
            
            <div class="apple-checkbox-wrapper">
              <input type="checkbox" name="email_consent" id="apple-events-consent" class="apple-checkbox apple-events-checkbox" required>
              <label for="apple-events-consent" class="apple-checkbox-label">
                Ich stimme zu, Informationen per E-Mail zu Angeboten der StGallen imt Business School zu erhalten.
              </label>
            </div>
            
            <button type="submit" class="apple-btn apple-events-btn">
              Newsletter abonnieren
              <span class="apple-btn-arrow">→</span>
            </button>
            
            <div style="display: flex; align-items: center; gap: 8px; margin-top: 15px;">
              <i class='bx bx-shield' style="font-size: 18px; color: #6e6e73;"></i>
              <span style="font-size: 13px; color: #6e6e73;">Ihre Daten werden vertraulich behandelt und nicht an Dritte weitergegeben.</span>
            </div>
          </form>
          
          <!-- Erfolgsanzeige -->
          <div id="apple-events-success" class="apple-success-message apple-hidden">
            <i class='bx bx-check-circle apple-events-success-icon'></i>
            <h3 style="font-size: 24px; margin-bottom: 15px; font-weight: 600;">Vielen Dank!</h3>
            <p style="font-size: 16px; color: #6e6e73; margin-bottom: 25px;">Wir halten Sie über aktuelle Events und Branchentrends auf dem Laufenden.</p>
            <button onclick="closeNewsletterPopup('apple-events-popup')" class="apple-btn apple-events-btn">
              Verstanden
              <span class="apple-btn-arrow">→</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- JavaScript für die schwebenden Event-Karten -->
    <script>
      function initEventsCards() {
        const container = document.getElementById('events-cards-container');
        if (!container) return;
        
        const cards = container.querySelectorAll('.events-floating-card');
        
        // Interaktive Hover-Effekte hinzufügen
        cards.forEach(card => {
          card.addEventListener('mouseenter', () => {
            // Alle anderen Karten leicht zurücksetzen
            cards.forEach(otherCard => {
              if (otherCard !== card) {
                const transform = otherCard.style.transform;
                otherCard.style.transform = transform.replace(/translateZ\([^)]*\)/, 'translateZ(5px)');
                otherCard.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.1)';
              }
            });
            
            // Aktuelle Karte hervorheben
            const baseTransform = card.style.transform.replace(/translateZ\([^)]*\)/, '');
            card.style.transform = `${baseTransform} translateZ(50px)`;
            card.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.2)';
          });
          
          card.addEventListener('mouseleave', () => {
            // Original-Transformation wiederherstellen
            const baseTransform = card.style.transform.replace(/translateZ\([^)]*\)/, '');
            const originalZ = card.getAttribute('data-original-z') || '20px';
            card.style.transform = `${baseTransform} translateZ(${originalZ})`;
            card.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.1)';
          });
          
          // Speichere den Original-Z-Wert
          const match = card.style.transform.match(/translateZ\(([^)]*)\)/);
          if (match && match[1]) {
            card.setAttribute('data-original-z', match[1]);
          }
        });
        
        // Sanfte Bewegungsanimation
        let time = 0;
        const interval = setInterval(() => {
          time += 0.01;
          
          cards.forEach((card, index) => {
            // Individueller Zeitversatz für jede Karte
            const offsetTime = time + index * 0.5;
            
            // Sanfte Schwebebewegung mit Sinus und Cosinus
            const translateY = Math.sin(offsetTime * 0.5) * 8;
            const rotateX = Math.sin(offsetTime * 0.3) * 2;
            const rotateY = Math.cos(offsetTime * 0.4) * 3;
            
            // Original-Transformation extrahieren und anpassen
            const baseTransform = card.style.transform.replace(
              /rotateX\([^)]*\)|rotateY\([^)]*\)|translateY\([^)]*\)/g, 
              ''
            );
            
            // Neue Transformation anwenden
            card.style.transform = `${baseTransform} translateY(${translateY}px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
          });
        }, 50);
        
        // Cleanup beim Schließen des Popups
        document.getElementById('apple-events-popup').addEventListener('transitionend', function(e) {
          if (!this.classList.contains('active') && interval) {
            clearInterval(interval);
          }
        });
        
        // Popup-Formular handling
        const form = document.querySelector('.apple-events-newsletter-form');
        const successMessage = document.getElementById('apple-events-success');
        
        if (form && successMessage) {
          form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Formular ausblenden und Erfolgsmeldung anzeigen
            form.style.display = 'none';
            successMessage.classList.remove('apple-hidden');
          });
        }
      }
      
      // Erweitern der setupApplePopups-Funktion
      document.addEventListener('DOMContentLoaded', function() {
        // Warten, bis die setupApplePopups-Funktion verfügbar ist
        const checkForSetupFunction = setInterval(() => {
          if (typeof setupApplePopups === 'function') {
            clearInterval(checkForSetupFunction);
            
            // Original-Funktion sichern
            const originalSetupApplePopups = setupApplePopups;
            
            // Funktion erweitern
            window.setupApplePopups = function() {
              originalSetupApplePopups();
              
              // Erweiterte showNewsletterPopup-Funktion
              const originalShowPopup = window.showNewsletterPopup;
              
              window.showNewsletterPopup = function(popupId = 'newsletter-popup') {
                // Originals weiterhin ausführen
                if (typeof originalShowPopup === 'function' && 
                    (popupId === 'newsletter-popup' || 
                     popupId === 'webinar-popup' || 
                     popupId === 'contact-popup' || 
                     popupId === 'events-popup' ||
                     popupId === 'apple-webinar-popup' ||
                     popupId === 'apple-contact-popup')) {
                  originalShowPopup(popupId);
                  return;
                }
                
                // Für die neue Events-Variante
                const popup = document.getElementById(popupId);
                if (!popup) return;
                
                popup.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Events-Karten initialisieren
                if (popupId === 'apple-events-popup') {
                  initEventsCards();
                }
              };
              
              // Erweiterte closeNewsletterPopup-Funktion
              const originalClosePopup = window.closeNewsletterPopup;
              
              window.closeNewsletterPopup = function(popupId = 'newsletter-popup') {
                // Original-Funktion für bestehende Popups aufrufen
                if (typeof originalClosePopup === 'function' && 
                    (popupId === 'newsletter-popup' || 
                     popupId === 'webinar-popup' || 
                     popupId === 'contact-popup' || 
                     popupId === 'events-popup' ||
                     popupId === 'apple-webinar-popup' ||
                     popupId === 'apple-contact-popup')) {
                  originalClosePopup(popupId);
                  return;
                }
                
                // Für die neue Events-Variante
                const popup = document.getElementById(popupId);
                if (!popup) return;
                
                popup.classList.remove('active');
                document.body.style.overflow = 'auto';
              };
            };
            
            // Sofort ausführen
            setupApplePopups();
          }
        }, 100);
      });
    </script>
  </div>

  <!-- Test-Buttons für die neuen Apple-inspirierten Popup-Varianten -->
  <div style="padding: 40px 0; text-align: center; background-color: #f5f5f7;">
    <div class="container">
      <h2>Apple-inspirierte Newsletter Popup Varianten</h2>
      <p style="margin-bottom: 20px;">Klicken Sie auf einen der Buttons, um die neuen Apple-inspirierten Popup-Varianten zu testen:</p>
      
      <!-- Webinar Popup Button (Apple-Style) -->
      <button onclick="showNewsletterPopup('apple-webinar-popup')" style="display: inline-flex; align-items: center; margin: 10px; background: linear-gradient(to right, var(--imt-green), #388E3C); color: white; padding: 12px 24px; font-size: 1rem; font-weight: 500; border: none; border-radius: var(--radius); cursor: pointer; text-decoration: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        Webinar Variante (Apple-Style)
        <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
      </button>
      
      <!-- Ansprechpartner Popup Button (Apple-Style) -->
      <button onclick="showNewsletterPopup('apple-contact-popup')" style="display: inline-flex; align-items: center; margin: 10px; background: linear-gradient(to right, #FF9800, #F57C00); color: white; padding: 12px 24px; font-size: 1rem; font-weight: 500; border: none; border-radius: var(--radius); cursor: pointer; text-decoration: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        Ansprechpartner Variante (Apple-Style)
        <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
      </button>
      
      <!-- Events Popup Button (Apple-Style) -->
      <button onclick="showNewsletterPopup('apple-events-popup')" style="display: inline-flex; align-items: center; margin: 10px; background: linear-gradient(to right, #2196F3, #1976D2); color: white; padding: 12px 24px; font-size: 1rem; font-weight: 500; border: none; border-radius: var(--radius); cursor: pointer; text-decoration: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        Events & News Variante (Apple-Style)
        <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
      </button>
    </div>
  </div>

  <!-- Test-Buttons für Popup-Varianten -->
  <div style="margin: 40px; border: 3px solid #6e45e2; border-radius: 16px; padding: 30px; background-color: #f9f8ff; box-shadow: 0 10px 30px rgba(110, 69, 226, 0.2);">
    <h2 style="color: #6e45e2; text-align: center; font-size: 28px; margin-bottom: 30px;">Neuronales Netzwerk Popup Tester</h2>
    
    <div style="text-align: center; margin-bottom: 20px;">
      <p style="font-size: 16px; color: #333; margin-bottom: 30px;">Hier finden Sie sehr dezente Varianten des neuronalen Netzwerk-Popups fast ohne Animationen.</p>
    </div>
    
    <div style="display: flex; flex-direction: column; gap: 15px; max-width: 500px; margin: 0 auto;">
      <!-- Original-Variante -->
      <button onclick="showNewsletterPopup('neural-popup')" style="background: linear-gradient(135deg, #6e45e2, #9c27b0); color: white; font-weight: bold; padding: 15px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer; box-shadow: 0 4px 15px rgba(110, 69, 226, 0.3); transition: all 0.3s ease;">
        ORIGINAL-VARIANTE
      </button>
      
      <!-- Variante 2: Statisch -->
      <button onclick="showNeuralPopupV2()" style="background: linear-gradient(135deg, #4b6cb7, #182848); color: white; font-weight: bold; padding: 15px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer; box-shadow: 0 4px 15px rgba(75, 108, 183, 0.3); transition: all 0.3s ease;">
        VARIANTE 2: STATISCH - OHNE ANIMATION
      </button>
      
      <!-- Variante 3: Minimal -->
      <button onclick="showNeuralPopupV3()" style="background: linear-gradient(135deg, #333333, #666666); color: white; font-weight: bold; padding: 15px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer; box-shadow: 0 4px 15px rgba(51, 51, 51, 0.3); transition: all 0.3s ease;">
        VARIANTE 3: MINIMAL - SCHLICHT
      </button>
      
      <div style="height: 1px; background: linear-gradient(to right, transparent, rgba(110, 69, 226, 0.3), transparent); margin: 10px 0;"></div>
      
      <button onclick="showSimpleNeuralPopup()" style="background: linear-gradient(135deg, #9c27b0, #6e45e2); color: white; font-weight: bold; padding: 15px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer; box-shadow: 0 4px 15px rgba(156, 39, 176, 0.3); transition: all 0.3s ease;">
        ALTERNATIVE METHODE (WENN ANDERE NICHT FUNKTIONIEREN)
      </button>
      
      <p style="text-align: center; font-size: 14px; color: #666; margin-top: 20px;">Bei Problemen prüfen Sie bitte die Browserkonsole (F12) auf Fehlermeldungen.</p>
    </div>
  </div>

  <!-- Neuronales Netzwerk Popup -->
  <div class="popup-overlay" id="neural-popup">
    <!-- Hidden Netlify Form Schema -->
    <form name="newsletter-voucher-popup" netlify netlify-honeypot="bot-field" hidden>
      <input type="text" name="firstname" />
      <input type="text" name="lastname" />
      <input type="email" name="email" />
      <select name="country"></select>
      <input type="checkbox" name="email_consent" />
      <input type="hidden" name="form-name" value="newsletter-voucher-popup" />
    </form>

    <div class="popup-base">
      <button class="close-button" onclick="closeNewsletterPopup('neural-popup')">✕</button>
      
      <div class="popup-graphic neural-network-graphic">
        <!-- Canvas für die neuronalen Verbindungen -->
        <canvas id="neural-canvas"></canvas>
        
        <!-- Neuronale Knoten/Vorteile -->
        <div class="neural-nodes-container">
          <div class="neural-node" data-node-id="webinar">
            <i class='bx bx-laptop'></i>
            <div class="node-label">WEBINARE</div>
          </div>
          <div class="neural-node" data-node-id="contact">
            <i class='bx bx-user-voice'></i>
            <div class="node-label">KONTAKT</div>
          </div>
          <div class="neural-node" data-node-id="news">
            <i class='bx bx-news'></i>
            <div class="node-label">NEWS</div>
          </div>
          <div class="neural-node" data-node-id="events">
            <i class='bx bx-calendar-event'></i>
            <div class="node-label">EVENTS</div>
          </div>
          <div class="neural-node" data-node-id="voucher">
            <i class='bx bx-gift'></i>
            <div class="node-label">VOUCHER</div>
          </div>
        </div>
        
        <!-- Info-Box für Details zu den Vorteilen -->
        <div class="neural-info-box">
          <div class="info-content" data-for-node="webinar">
            <h3>WEBINARE</h3>
            <p>Exklusive kostenlose Online-Seminare zu aktuellen Themen</p>
          </div>
          <div class="info-content" data-for-node="contact">
            <h3>PERSÖNLICHER KONTAKT</h3>
            <p>Direkter Austausch mit unseren Experten</p>
          </div>
          <div class="info-content" data-for-node="news">
            <h3>AKTUELLE NEWS</h3>
            <p>Bleiben Sie auf dem neuesten Stand der Branche</p>
          </div>
          <div class="info-content" data-for-node="events">
            <h3>EXKLUSIVE EVENTS</h3>
            <p>Einladungen zu Networking-Veranstaltungen</p>
          </div>
          <div class="info-content" data-for-node="voucher">
            <h3>SONDERANGEBOTE</h3>
            <p>Zugang zu exklusiven Rabatten und Aktionen</p>
          </div>
        </div>
      </div>
      
      <div class="popup-content">
        <h2>Bleiben Sie vernetzt</h2>
        <p>Melden Sie sich für unseren Newsletter an und profitieren Sie von einem vernetzten Ökosystem aus exklusiven Vorteilen und Angeboten.</p>
        
        <form class="newsletter-form" method="post" netlify name="newsletter-voucher-popup" netlify-honeypot="bot-field" data-netlify="true" action="/" novalidate>
          <p class="hidden" style="display: none;">
            <label>Don't fill this out if you're human: <input name="bot-field" /></label>
          </p>
          <input type="hidden" name="form-name" value="newsletter-voucher-popup">
          <div class="form-group">
            <input type="text" name="firstname" class="form-control" placeholder="Vorname" required>
          </div>
          <div class="form-group">
            <input type="text" name="lastname" class="form-control" placeholder="Nachname" required>
          </div>
          <div class="form-group">
            <input type="email" name="email" class="form-control" placeholder="E-Mail" required>
          </div>
          <div class="form-group">
            <div style="position: relative;">
              <select name="country" class="form-control" required style="padding-right: 40px; appearance: none; -webkit-appearance: none;">
                <option value="">Land wählen</option>
                <option value="DE">Deutschland</option>
                <option value="AT">Österreich</option>
                <option value="CH">Schweiz</option>
                <option value="OTHER">Andere</option>
              </select>
              <div style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); pointer-events: none;">
                <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1 1L6 6L11 1" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            </div>
          </div>
          
          <!-- Email Consent Checkbox -->
          <div class="form-group" style="margin-top: 15px; margin-bottom: 15px;">
            <label style="display: flex; align-items: flex-start; gap: 8px; cursor: pointer;">
              <input type="checkbox" name="email_consent" style="margin-top: 3px;">
              <span style="font-size: 0.9rem; color: var(--color-muted);">
                Ich stimme zu, Informationen per E-Mail zu Angeboten der StGallen imt Business School zu erhalten.
              </span>
            </label>
          </div>
          
          <!-- Newsletter Button -->
          <div class="form-group" style="margin-top: 20px;">
            <button type="submit" style="width: 100%; display: flex; align-items: center; justify-content: center; background: linear-gradient(to right, var(--imt-purple), #9c27b0); color: white; padding: 14px 28px; font-size: 16px; font-weight: 500; border: none; border-radius: 8px; text-decoration: none; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
              Jetzt Newsletter abonnieren 
              <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
            </button>
          </div>
          
          <div style="display: flex; align-items: center; gap: 8px; margin-top: 15px;">
            <i class='bx bx-shield' style="font-size: 20px;"></i>
            <span style="font-size: 0.9rem; color: var(--color-muted);">Ihre Daten sind bei uns sicher - wir versenden keine unerlaubte Werbung</span>
          </div>
        </form>
      </div>
    </div>
  </div>

<style>
  /* Neuronales Netzwerk Popup Styles */
  .neural-network-graphic {
    background: linear-gradient(135deg, var(--imt-purple), #9c27b0);
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0;
  }
  
  #neural-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }
  
  .neural-nodes-container {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 2;
  }
  
  .neural-node {
    position: absolute;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: white;
    cursor: pointer;
    transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    z-index: 3;
    transform: translate(-50%, -50%); /* Zentriere den Knoten auf seinen Koordinatenpunkt */
  }
  
  .neural-node i {
    font-size: 22px;
    margin-bottom: 4px;
  }
  
  .neural-node .node-label {
    position: absolute;
    bottom: -25px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 10px;
    font-weight: 600;
    white-space: nowrap;
    opacity: 0.9;
    transition: opacity 0.3s ease;
  }
  
  .neural-node:hover {
    transform: scale(1.1);
    background: rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  }
  
  .neural-node:hover .node-label {
    opacity: 1;
  }
  
  .neural-node.active {
    background: rgba(255, 255, 255, 0.3);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
    transform: scale(1.15);
    z-index: 4;
  }
  
  .neural-info-box {
    position: absolute;
    bottom: 20px;
    left: 20px;
    right: 20px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 10px;
    padding: 15px;
    color: white;
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    z-index: 3;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  .neural-info-box.active {
    opacity: 1;
    transform: translateY(0);
  }
  
  .info-content {
    display: none;
  }
  
  .info-content.active {
    display: block;
  }
  
  .info-content h3 {
    margin-bottom: 5px;
    font-size: 14px;
    font-weight: 600;
  }
  
  .info-content p {
    font-size: 12px;
    opacity: 0.9;
    margin: 0;
    line-height: 1.4;
  }
  
  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
    }
    70% {
      box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
    }
  }
  
  .neural-node.pulse {
    animation: pulse 1.5s infinite;
  }
  
  @media (max-width: 768px) {
    .neural-node {
      width: 50px;
      height: 50px;
    }
    
    .neural-node i {
      font-size: 18px;
    }
    
    .neural-node .node-label {
      font-size: 9px;
      bottom: -20px;
    }
    
    .neural-info-box {
      bottom: 10px;
      left: 10px;
      right: 10px;
      padding: 10px;
    }
  }
</style>

<!-- Neuronales Netzwerk Popup - VARIANTE 1: MINIMALISTISCH -->
<div class="popup-overlay" id="neural-popup-v1">
  <!-- Hidden Netlify Form Schema -->
  <form name="newsletter-voucher-popup" netlify netlify-honeypot="bot-field" hidden>
    <input type="text" name="firstname" />
    <input type="text" name="lastname" />
    <input type="email" name="email" />
    <select name="country"></select>
    <input type="checkbox" name="email_consent" />
    <input type="hidden" name="form-name" value="newsletter-voucher-popup" />
  </form>

  <div class="popup-base">
    <button class="close-button" onclick="closeNewsletterPopup('neural-popup-v1')">✕</button>
    
    <div class="popup-graphic neural-network-graphic v1-style">
      <!-- Canvas für die neuronalen Verbindungen -->
      <canvas id="neural-canvas-v1"></canvas>
      
      <!-- Neuronale Knoten/Vorteile -->
      <div class="neural-nodes-container">
        <div class="neural-node v1-node" data-node-id="webinar">
          <i class='bx bx-laptop'></i>
          <div class="node-label">WEBINARE</div>
        </div>
        <div class="neural-node v1-node" data-node-id="contact">
          <i class='bx bx-user-voice'></i>
          <div class="node-label">KONTAKT</div>
        </div>
        <div class="neural-node v1-node" data-node-id="news">
          <i class='bx bx-news'></i>
          <div class="node-label">NEWS</div>
        </div>
        <div class="neural-node v1-node" data-node-id="events">
          <i class='bx bx-calendar-event'></i>
          <div class="node-label">EVENTS</div>
        </div>
        <div class="neural-node v1-node" data-node-id="voucher">
          <i class='bx bx-gift'></i>
          <div class="node-label">VOUCHER</div>
        </div>
      </div>
      
      <!-- Info-Box für Details zu den Vorteilen -->
      <div class="neural-info-box v1-info">
        <div class="info-content" data-for-node="webinar">
          <h3>WEBINARE</h3>
          <p>Exklusive kostenlose Online-Seminare zu aktuellen Themen</p>
        </div>
        <div class="info-content" data-for-node="contact">
          <h3>PERSÖNLICHER KONTAKT</h3>
          <p>Direkter Austausch mit unseren Experten</p>
        </div>
        <div class="info-content" data-for-node="news">
          <h3>AKTUELLE NEWS</h3>
          <p>Bleiben Sie auf dem neuesten Stand der Branche</p>
        </div>
        <div class="info-content" data-for-node="events">
          <h3>EXKLUSIVE EVENTS</h3>
          <p>Einladungen zu Networking-Veranstaltungen</p>
        </div>
        <div class="info-content" data-for-node="voucher">
          <h3>SONDERANGEBOTE</h3>
          <p>Zugang zu exklusiven Rabatten und Aktionen</p>
        </div>
      </div>
    </div>
    
    <div class="popup-content">
      <h2>Bleiben Sie vernetzt</h2>
      <p>Melden Sie sich für unseren Newsletter an und profitieren Sie von einem vernetzten Ökosystem aus exklusiven Vorteilen und Angeboten.</p>
      
      <form class="newsletter-form" method="post" netlify name="newsletter-voucher-popup" netlify-honeypot="bot-field" data-netlify="true" action="/" novalidate>
        <p class="hidden" style="display: none;">
          <label>Don't fill this out if you're human: <input name="bot-field" /></label>
        </p>
        <input type="hidden" name="form-name" value="newsletter-voucher-popup">
        <div class="form-group">
          <input type="text" name="firstname" class="form-control" placeholder="Vorname" required>
        </div>
        <div class="form-group">
          <input type="text" name="lastname" class="form-control" placeholder="Nachname" required>
        </div>
        <div class="form-group">
          <input type="email" name="email" class="form-control" placeholder="E-Mail" required>
        </div>
        <div class="form-group">
          <div style="position: relative;">
            <select name="country" class="form-control" required style="padding-right: 40px; appearance: none; -webkit-appearance: none;">
              <option value="">Land wählen</option>
              <option value="DE">Deutschland</option>
              <option value="AT">Österreich</option>
              <option value="CH">Schweiz</option>
              <option value="OTHER">Andere</option>
            </select>
            <div style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); pointer-events: none;">
              <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 1L6 6L11 1" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          </div>
        </div>
        
        <!-- Email Consent Checkbox -->
        <div class="form-group" style="margin-top: 15px; margin-bottom: 15px;">
          <label style="display: flex; align-items: flex-start; gap: 8px; cursor: pointer;">
            <input type="checkbox" name="email_consent" style="margin-top: 3px;">
            <span style="font-size: 0.9rem; color: var(--color-muted);">
              Ich stimme zu, Informationen per E-Mail zu Angeboten der StGallen imt Business School zu erhalten.
            </span>
          </label>
        </div>
        
        <!-- Newsletter Button -->
        <div class="form-group" style="margin-top: 20px;">
          <button type="submit" style="width: 100%; display: flex; align-items: center; justify-content: center; background: linear-gradient(to right, var(--imt-purple), #9c27b0); color: white; padding: 14px 28px; font-size: 16px; font-weight: 500; border: none; border-radius: 8px; text-decoration: none; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            Jetzt Newsletter abonnieren 
            <span style="margin-left: 10px; display: inline-block; font-size: 18px;">→</span>
          </button>
        </div>
        
        <div style="display: flex; align-items: center; gap: 8px; margin-top: 15px;">
          <i class='bx bx-shield' style="font-size: 20px;"></i>
          <span style="font-size: 0.9rem; color: var(--color-muted);">Ihre Daten sind bei uns sicher - wir versenden keine unerlaubte Werbung</span>
        </div>
      </form>
    </div>
  </div>
</div>

<style>
  /* Variante 1: Minimalistisch */
  .v1-style {
    background: linear-gradient(135deg, #674ea7, #7e57c2);
  }
  
  .v1-node {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.5s ease;
  }
  
  .v1-node:hover {
    transform: scale(1.05);
    background: rgba(255, 255, 255, 0.15);
    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.08);
  }
  
  .v1-node .node-label {
    opacity: 0.7;
    transition: opacity 0.5s ease;
  }
  
  .v1-node:hover .node-label {
    opacity: 1;
    transform: translateX(-50%);
  }
  
  .v1-node:hover i {
    transform: scale(1.05);
  }
  
  .v1-node.pulse {
    animation: v1-pulse 3s ease-in-out infinite;
  }
  
  @keyframes v1-pulse {
    0% {
      opacity: 0.8;
    }
    50% {
      opacity: 1;
      box-shadow: 0 0 5px 2px rgba(255, 255, 255, 0.1);
    }
    100% {
      opacity: 0.8;
    }
  }
  
  .v1-info {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(8px);
    transition: all 0.5s ease;
  }
</style>

<script>
  // Neuronales Netzwerk Popup JavaScript
  document.addEventListener('DOMContentLoaded', function() {
    console.log("Initialisiere Popup-Funktionen...");
    
    // Definieren der globalen Funktionen für Newsletter-Popups, falls sie noch nicht existieren
    window.showNewsletterPopup = window.showNewsletterPopup || function(id) {
      console.log("Standard showNewsletterPopup für", id);
      const popup = document.getElementById(id);
      if (popup) {
        popup.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    };
    
    window.closeNewsletterPopup = window.closeNewsletterPopup || function(id) {
      console.log("Standard closeNewsletterPopup für", id);
      const popup = document.getElementById(id);
      if (popup) {
        popup.classList.remove('active');
        document.body.style.overflow = '';
      }
    };
    
    // Jetzt erweitern wir die Funktionen
    const originalShowPopup = window.showNewsletterPopup;
    
    window.showNewsletterPopup = function(popupId = 'newsletter-popup') {
      console.log("Öffne Popup:", popupId);
      
      // Für neuronales Netzwerk-Popup spezielle Behandlung
      if (popupId === 'neural-popup') {
        const popup = document.getElementById(popupId);
        if (!popup) {
          console.error("Popup Element nicht gefunden:", popupId);
          return;
        }
        
        popup.classList.add('active');
        document.body.style.overflow = 'hidden';
        
        // Längere Verzögerung für die Netzwerk-Initialisierung, um sicherzustellen, dass das DOM vollständig bereit ist
        console.log("Bereite neuronales Netzwerk vor...");
        // Zuerst reinigen
        if (typeof cleanupNeuralNetwork === 'function') {
          cleanupNeuralNetwork();
        }
        
        // Dann mit längerer Verzögerung initialisieren
        setTimeout(() => {
          console.log("Initialisiere neuronales Netzwerk");
          if (typeof initNeuralNetwork === 'function') {
            initNeuralNetwork();
          } else {
            console.error("initNeuralNetwork Funktion nicht gefunden");
          }
        }, 500);
        return;
      }
      
      // Original-Verhalten für andere Popups
      originalShowPopup(popupId);
    };
    
    // Erweitere die bestehende closeNewsletterPopup Funktion
    const originalClosePopup = window.closeNewsletterPopup;
    
    window.closeNewsletterPopup = function(popupId = 'newsletter-popup') {
      console.log("Schließe Popup:", popupId);
      
      // Spezielle Behandlung für das neuronale Netzwerk-Popup
      if (popupId === 'neural-popup') {
        const popup = document.getElementById(popupId);
        if (!popup) {
          console.error("Popup Element nicht gefunden:", popupId);
          return;
        }
        
        // Zuerst die Animation und Ressourcen bereinigen
        if (typeof cleanupNeuralNetwork === 'function') {
          console.log("Bereinige neuronales Netzwerk vor dem Schließen");
          cleanupNeuralNetwork();
        }
        
        // Dann das Popup schließen
        popup.classList.remove('active');
        document.body.style.overflow = '';
        return;
      }
      
      // Spezielle Behandlung für die Variante 1
      if (popupId === 'neural-popup-v1') {
        const popup = document.getElementById(popupId);
        if (!popup) {
          console.error("Popup Element V1 nicht gefunden:", popupId);
          return;
        }
        
        // Zuerst die Animation und Ressourcen bereinigen
        if (typeof cleanupNeuralNetworkV1 === 'function') {
          console.log("Bereinige neuronales Netzwerk V1 vor dem Schließen");
          cleanupNeuralNetworkV1();
        }
        
        // Dann das Popup schließen
        popup.classList.remove('active');
        document.body.style.overflow = '';
        return;
      }
      
      // Original-Verhalten für andere Popups
      if (typeof originalClosePopup === 'function') {
        originalClosePopup(popupId);
      } else {
        // Fallback, falls die originale Funktion nicht verfügbar ist
        const popup = document.getElementById(popupId);
        if (popup) {
          popup.classList.remove('active');
          document.body.style.overflow = '';
        }
      }
    };
  });
  
  // Neuronales Netzwerk Initialisierung
  let neuralAnimationFrame = null;
  let neuralNodes = [];
  let neuralConnections = [];
  let activeNode = null;
  let canvas = null;
  let ctx = null;
  let animationInitialized = false;
  
  function initNeuralNetwork() {
    // Verzögerung hinzufügen, um sicherzustellen, dass das Popup vollständig geladen ist
    setTimeout(() => {
      try {
        // Canvas einrichten
        canvas = document.getElementById('neural-canvas');
        if (!canvas) {
          console.error("Canvas-Element nicht gefunden");
          return;
        }
        
        ctx = canvas.getContext('2d');
        
        // Canvas-Größe an Container anpassen
        const container = canvas.parentElement;
        
        // Sicherstellen, dass Container vollständig gerendert ist
        if (container.offsetWidth === 0 || container.offsetHeight === 0) {
          console.log("Container hat keine Dimension, versuche erneut...");
          setTimeout(() => initNeuralNetwork(), 100);
          return;
        }
        
        canvas.width = container.offsetWidth;
        canvas.height = container.offsetHeight;
        
        console.log("Canvas Dimensionen:", canvas.width, "x", canvas.height);
        
        // Knoten positionieren
        const nodes = document.querySelectorAll('.neural-node');
        
        // Überprüfe, ob die Knoten gefunden wurden
        if (nodes.length === 0) {
          console.error("Keine neuronalen Knoten gefunden!");
          return;
        }
        
        // Positionierung im Container
        const containerRect = container.getBoundingClientRect();
        
        neuralNodes = Array.from(nodes).map((node, index) => {
          const nodeId = node.getAttribute('data-node-id');
          
          // Knoten in einer kreisförmigen Anordnung platzieren
          let x, y;
          
          // Zentrum-Knoten (Webinar)
          if (index === 0) {
            x = canvas.width / 2;
            y = canvas.height / 2;
          } else {
            // Andere Knoten im Kreis um das Zentrum
            const angle = ((index - 1) / (nodes.length - 1)) * Math.PI * 2;
            const radius = Math.min(canvas.width, canvas.height) * 0.3;
            x = canvas.width / 2 + Math.cos(angle) * radius;
            y = canvas.height / 2 + Math.sin(angle) * radius;
          }
          
          console.log(`Positioniere Knoten ${nodeId} an Position ${x},${y}`);
          
          // Absolute Positionierung - die CSS transform wird für die Zentrierung verwendet
          node.style.position = 'absolute';
          node.style.left = `${x}px`; 
          node.style.top = `${y}px`;
          
          // Event-Listener für Interaktion
          node.addEventListener('mouseenter', () => highlightNode(nodeId));
          node.addEventListener('mouseleave', () => resetNodes());
          node.addEventListener('click', () => selectNode(nodeId));
          
          // Zufällige Animation starten
          if (Math.random() > 0.7) {
            setTimeout(() => {
              node.classList.add('pulse');
              setTimeout(() => node.classList.remove('pulse'), 3000);
            }, Math.random() * 5000);
          }
          
          return {
            element: node,
            id: nodeId,
            x,
            y,
            size: 60,
            connections: []
          };
        });
        
        // Verbindungen zwischen den Knoten erstellen
        neuralConnections = [];
        
        // Verbinde jeden Knoten mit jedem anderen
        for (let i = 0; i < neuralNodes.length; i++) {
          for (let j = i + 1; j < neuralNodes.length; j++) {
            const connection = {
              from: neuralNodes[i],
              to: neuralNodes[j],
              activity: 0.2, // Reduzierte Aktivität für dezentere Darstellung
              pulsePosition: 0,
              pulseSpeed: 0.005 + Math.random() * 0.01, // Halbierte Geschwindigkeit
              width: 0.8 + Math.random() * 0.5 // Dünnere Linien
            };
            
            neuralConnections.push(connection);
            
            // Füge Verbindungen zu den Knoten hinzu
            if (!neuralNodes[i].connections) neuralNodes[i].connections = [];
            if (!neuralNodes[j].connections) neuralNodes[j].connections = [];
            
            neuralNodes[i].connections.push(connection);
            neuralNodes[j].connections.push(connection);
          }
        }
        
        console.log(`${neuralConnections.length} Verbindungen erstellt`);
        
        // Animation starten
        animateNeuralNetwork();
        
        // Random node selection alle 5-8 Sekunden
        scheduleRandomNodeSelection();
        
        console.log("Neuronales Netzwerk vollständig initialisiert");
        
        // Starte mit einem hervorgehobenen Knoten
        setTimeout(() => {
          if (neuralNodes.length > 0) {
            highlightNode(neuralNodes[0].id);
          }
        }, 500);
      } catch (error) {
        console.error("Fehler beim Initialisieren des neuronalen Netzwerks:", error);
      }
    }, 300); // Längere Verzögerung für das DOM-Rendering
  }
  
  function animateNeuralNetwork() {
    if (!canvas || !ctx) {
      console.error("Canvas oder Context nicht verfügbar");
      return;
    }

    if (!neuralConnections || neuralConnections.length === 0) {
      console.error("Keine Verbindungen zum Zeichnen vorhanden");
      return;
    }
    
    // Canvas löschen
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    try {
      // Verbindungen zeichnen
      for (const connection of neuralConnections) {
        if (!connection || !connection.from || !connection.to) continue;
        
        drawConnection(connection);
        
        // Pulse-Animation aktualisieren
        connection.pulsePosition += connection.pulseSpeed;
        if (connection.pulsePosition > 1) connection.pulsePosition = 0;
        
        // Activity sehr langsam abnehmen lassen
        connection.activity *= 0.995;
        
        // Höhere Mindestaktivität für gleichmäßigere, dezentere Darstellung
        if (connection.activity < 0.18) connection.activity = 0.18;
      }
      
      // Statusmeldung bei erster erfolgreicher Animation
      if (!animationInitialized) {
        console.log("Neuronale Animation erfolgreich initialisiert");
        animationInitialized = true;
      }
      
      // Animation-Loop
      neuralAnimationFrame = requestAnimationFrame(animateNeuralNetwork);
    } catch (error) {
      console.error("Fehler in der Animation:", error);
      // Bei Fehler nicht weiter animieren, um endlose Fehler zu vermeiden
      cancelAnimationFrame(neuralAnimationFrame);
    }
  }
  
  function drawConnection(connection) {
    try {
      const { from, to, activity, pulsePosition, width } = connection;
      
      // Prüfe, ob alle notwendigen Daten vorhanden sind
      if (!from || !to || typeof from.x !== 'number' || typeof from.y !== 'number' || 
          typeof to.x !== 'number' || typeof to.y !== 'number') {
        console.error("Ungültige Verbindungsdaten:", from, to);
        return;
      }
      
      // Verbindungslinie zeichnen
      ctx.beginPath();
      ctx.moveTo(from.x, from.y);
      ctx.lineTo(to.x, to.y);
      
      // Gradient entsprechend der Aktivität
      const gradient = ctx.createLinearGradient(from.x, from.y, to.x, to.y);
      const baseColor = `rgba(255, 255, 255, ${0.15 + activity * 0.3})`;
      gradient.addColorStop(0, baseColor);
      gradient.addColorStop(1, baseColor);
      
      ctx.strokeStyle = gradient;
      ctx.lineWidth = width + activity * 2;
      ctx.stroke();
      
      // Dezentere Pulse-Effekte zeichnen
      if (activity > 0.1) {
        const pulseX = from.x + (to.x - from.x) * pulsePosition;
        const pulseY = from.y + (to.y - from.y) * pulsePosition;
        
        // Kleinerer, sanfterer Glüheffekt
        const glowSize = 1.5 + activity * 2;
        
        // Nur einen dezenten Glühkreis zeichnen
        ctx.beginPath();
        ctx.arc(pulseX, pulseY, glowSize, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255, 255, 255, ${activity * 0.4})`;
        ctx.fill();
      }
    } catch (error) {
      console.error("Fehler beim Zeichnen der Verbindung:", error);
    }
  }
  
  function highlightNode(nodeId) {
    const node = neuralNodes.find(n => n.id === nodeId);
    if (!node) return;
    
    // Verbindungen aktivieren
    for (const connection of node.connections) {
      connection.activity = 0.8;
    }
    
    // Info-Box anzeigen
    const infoBox = document.querySelector('.neural-info-box');
    const infoContent = document.querySelector(`.info-content[data-for-node="${nodeId}"]`);
    
    if (infoBox && infoContent) {
      document.querySelectorAll('.info-content').forEach(el => el.classList.remove('active'));
      infoContent.classList.add('active');
      infoBox.classList.add('active');
    }
    
    // Knoten aktiv setzen
    node.element.classList.add('active');
  }
  
  function resetNodes() {
    // Nur zurücksetzen, wenn kein Knoten aktiv ausgewählt ist
    if (activeNode) return;
    
    // Alle Knoten zurücksetzen
    neuralNodes.forEach(node => {
      node.element.classList.remove('active');
    });
    
    // Info-Box ausblenden
    const infoBox = document.querySelector('.neural-info-box');
    if (infoBox) {
      infoBox.classList.remove('active');
    }
  }
  
  function selectNode(nodeId) {
    // Aktiver Knoten auswählen/deaktivieren
    if (activeNode === nodeId) {
      activeNode = null;
      resetNodes();
    } else {
      activeNode = nodeId;
      highlightNode(nodeId);
    }
  }
  
  function scheduleRandomNodeSelection() {
    // Zufälligen Knoten auswählen
    setTimeout(() => {
      if (!activeNode) {
        const randomIndex = Math.floor(Math.random() * neuralNodes.length);
        const randomNode = neuralNodes[randomIndex];
        
        highlightNode(randomNode.id);
        
        // Nach kurzer Zeit zurücksetzen
        setTimeout(() => {
          if (!activeNode) {
            resetNodes();
          }
        }, 3000);
      }
      
      // Nächste zufällige Auswahl planen
      scheduleRandomNodeSelection();
    }, 5000 + Math.random() * 3000);
  }
  
  function cleanupNeuralNetwork() {
    console.log("Bereinige neuronales Netzwerk");
    
    // Animation stoppen
    if (neuralAnimationFrame) {
      cancelAnimationFrame(neuralAnimationFrame);
      neuralAnimationFrame = null;
    }
    
    // Event-Listener von den Knoten entfernen
    const nodes = document.querySelectorAll('.neural-node');
    nodes.forEach(node => {
      // Altes Event-Listener bereinigen
      node.replaceWith(node.cloneNode(true)); 
    });
    
    // Variablen zurücksetzen
    neuralNodes = [];
    neuralConnections = [];
    activeNode = null;
    canvas = null;
    ctx = null;
    
    console.log("Neuronales Netzwerk bereinigt");
  }
  
  // Bei Browser-Größenänderung Canvas anpassen
  window.addEventListener('resize', function() {
    // Für Original-Variante
    if (document.getElementById('neural-popup').classList.contains('active')) {
      // Neuinitialisierung für angepasste Größe
      cleanupNeuralNetwork();
      initNeuralNetwork();
    }
    
    // Für Variante 1
    if (document.getElementById('neural-popup-v1').classList.contains('active')) {
      // Neuinitialisierung für angepasste Größe
      cleanupNeuralNetworkV1();
      initNeuralNetworkV1();
    }
  });
</script>

<script>
  // Funktion zum Öffnen des neuronalen Popups Variante 1
  function showNeuralPopupV1() {
    console.log("Öffne neuronales Popup Variante 1");
    const popup = document.getElementById('neural-popup-v1');
    if (popup) {
      popup.classList.add('active');
      document.body.style.overflow = 'hidden';
      
      setTimeout(() => {
        console.log("Initialisiere neuronales Netzwerk Variante 1");
        try {
          initNeuralNetworkV1();
        } catch (error) {
          console.error("Fehler beim Initialisieren des Netzwerks V1:", error);
        }
      }, 500);
    } else {
      console.error("Popup Element V1 nicht gefunden");
    }
  }
  
  // Variablen für Version 1
  let neuralAnimationFrameV1 = null;
  let neuralNodesV1 = [];
  let neuralConnectionsV1 = [];
  let activeNodeV1 = null;
  let canvasV1 = null;
  let ctxV1 = null;
  
  function initNeuralNetworkV1() {
    // Canvas einrichten
    canvasV1 = document.getElementById('neural-canvas-v1');
    if (!canvasV1) {
      console.error("Canvas V1 nicht gefunden!");
      return;
    }
    
    ctxV1 = canvasV1.getContext('2d');
    
    // Canvas-Größe anpassen
    const container = canvasV1.parentElement;
    canvasV1.width = container.offsetWidth;
    canvasV1.height = container.offsetHeight;
    
    // Knoten identifizieren und positionieren
    const nodes = document.querySelectorAll('#neural-popup-v1 .neural-node');
    
    neuralNodesV1 = Array.from(nodes).map((node, index) => {
      const nodeId = node.getAttribute('data-node-id');
      
      // Knoten in einer Reihe anordnen anstatt im Kreis
      const x = 100 + (index * (canvasV1.width - 200) / (nodes.length - 1));
      const y = canvasV1.height / 2;
      
      // Knoten positionieren
      node.style.position = 'absolute';
      node.style.left = `${x}px`;
      node.style.top = `${y}px`;
      
      // Event-Listener
      node.addEventListener('mouseenter', () => highlightNodeV1(nodeId));
      node.addEventListener('mouseleave', () => resetNodesV1());
      
      return {
        element: node,
        id: nodeId,
        x,
        y,
        size: 60,
        connections: []
      };
    });
    
    // Verbindungen erstellen (nur zwischen benachbarten Knoten)
    neuralConnectionsV1 = [];
    
    for (let i = 0; i < neuralNodesV1.length - 1; i++) {
      const connection = {
        from: neuralNodesV1[i],
        to: neuralNodesV1[i + 1],
        activity: 0.15,
        pulsePosition: 0,
        pulseSpeed: 0.003 + Math.random() * 0.005,
        width: 0.5 + Math.random() * 0.3
      };
      
      neuralConnectionsV1.push(connection);
      
      if (!neuralNodesV1[i].connections) neuralNodesV1[i].connections = [];
      if (!neuralNodesV1[i + 1].connections) neuralNodesV1[i + 1].connections = [];
      
      neuralNodesV1[i].connections.push(connection);
      neuralNodesV1[i + 1].connections.push(connection);
    }
    
    // Animation starten
    animateNeuralNetworkV1();
  }
  
  function animateNeuralNetworkV1() {
    if (!canvasV1 || !ctxV1 || !neuralConnectionsV1 || neuralConnectionsV1.length === 0) return;
    
    // Canvas löschen
    ctxV1.clearRect(0, 0, canvasV1.width, canvasV1.height);
    
    // Verbindungen zeichnen
    for (const connection of neuralConnectionsV1) {
      if (!connection || !connection.from || !connection.to) continue;
      
      drawConnectionV1(connection);
      
      // Pulse-Animation aktualisieren
      connection.pulsePosition += connection.pulseSpeed;
      if (connection.pulsePosition > 1) connection.pulsePosition = 0;
    }
    
    // Animation-Loop
    neuralAnimationFrameV1 = requestAnimationFrame(animateNeuralNetworkV1);
  }
  
  function drawConnectionV1(connection) {
    const { from, to, activity, pulsePosition, width } = connection;
    
    // Gerade Verbindungslinie
    ctxV1.beginPath();
    ctxV1.moveTo(from.x, from.y);
    ctxV1.lineTo(to.x, to.y);
    
    ctxV1.strokeStyle = `rgba(255, 255, 255, ${0.1 + activity * 0.1})`;
    ctxV1.lineWidth = width;
    ctxV1.stroke();
    
    // Sehr dezenter Pulse-Effekt
    if (activity > 0.12) {
      const pulseX = from.x + (to.x - from.x) * pulsePosition;
      const pulseY = from.y + (to.y - from.y) * pulsePosition;
      
      ctxV1.beginPath();
      ctxV1.arc(pulseX, pulseY, 1.2, 0, Math.PI * 2);
      ctxV1.fillStyle = `rgba(255, 255, 255, ${activity * 0.3})`;
      ctxV1.fill();
    }
  }
  
  function highlightNodeV1(nodeId) {
    const node = neuralNodesV1.find(n => n.id === nodeId);
    if (!node) return;
    
    // Info-Box anzeigen
    const infoBox = document.querySelector('#neural-popup-v1 .neural-info-box');
    const infoContent = document.querySelector(`#neural-popup-v1 .info-content[data-for-node="${nodeId}"]`);
    
    if (infoBox && infoContent) {
      document.querySelectorAll('#neural-popup-v1 .info-content').forEach(el => el.classList.remove('active'));
      infoContent.classList.add('active');
      infoBox.classList.add('active');
    }
    
    // Knoten aktiv setzen
    node.element.classList.add('active');
  }
  
  function resetNodesV1() {
    if (activeNodeV1) return;
    
    neuralNodesV1.forEach(node => {
      node.element.classList.remove('active');
    });
    
    const infoBox = document.querySelector('#neural-popup-v1 .neural-info-box');
    if (infoBox) {
      infoBox.classList.remove('active');
    }
  }
  
  function cleanupNeuralNetworkV1() {
    if (neuralAnimationFrameV1) {
      cancelAnimationFrame(neuralAnimationFrameV1);
      neuralAnimationFrameV1 = null;
    }
    
    // Event-Listener bereinigen
    const nodes = document.querySelectorAll('#neural-popup-v1 .neural-node');
    nodes.forEach(node => {
      node.replaceWith(node.cloneNode(true));
    });
    
    neuralNodesV1 = [];
    neuralConnectionsV1 = [];
    activeNodeV1 = null;
    canvasV1 = null;
    ctxV1 = null;
  }
  
  // Einfache direkte Funktion zum Öffnen des neuronalen Popups
  function showSimpleNeuralPopup() {
    console.log("Direktes Öffnen des neuronalen Popups");
    const popup = document.getElementById('neural-popup');
    if (popup) {
      popup.classList.add('active');
      document.body.style.overflow = 'hidden';
      
      setTimeout(() => {
        console.log("Initialisiere neuronales Netzwerk direkt");
        try {
          if (typeof cleanupNeuralNetwork === 'function') {
            cleanupNeuralNetwork();
          }
          if (typeof initNeuralNetwork === 'function') {
            initNeuralNetwork();
          } else {
            console.error("initNeuralNetwork Funktion nicht gefunden (direkt)");
          }
        } catch (error) {
          console.error("Fehler beim direkten Initialisieren:", error);
        }
      }, 500);
    } else {
      console.error("Neuronales Popup Element nicht gefunden");
      alert("Das neuronale Netzwerk-Popup konnte nicht gefunden werden.");
    }
  }
  
  // Neuronales Netzwerk Popup JavaScript
// ... existing code ...
</script>

<!-- JavaScript für das neuronale Netzwerk im Hero-Hintergrund -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Neural Network Animation im Hero-Bereich
    initNeuralNetworkBackground();
  });

  function initNeuralNetworkBackground() {
    const canvas = document.getElementById('neural-network-canvas');
    if (!canvas) return;
    
    const ctx = canvas.getContext('2d');
    const heroSection = document.querySelector('.hero');
    
    // Canvas Größe an Hero-Sektion anpassen
    function resizeCanvas() {
      canvas.width = heroSection.offsetWidth;
      canvas.height = heroSection.offsetHeight;
    }
    
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);
    
    // Neuronen und Verbindungen
    const nodes = [];
    const connections = [];
    
    // Farben aus Navigation übernehmen - sehr dezent wie im Bild
    const colors = {
      purple: {
        node: 'rgba(110, 69, 226, 0.4)',  // Lila (Managementseminare)
        connection: 'rgba(110, 69, 226, 0.12)',
        pulse: 'rgba(110, 69, 226, 0.3)'
      },
      green: {
        node: 'rgba(23, 166, 137, 0.4)',  // Grün (Programme)
        connection: 'rgba(23, 166, 137, 0.12)',
        pulse: 'rgba(23, 166, 137, 0.3)'
      },
      orange: {
        node: 'rgba(230, 81, 0, 0.4)',  // Orange (Individuelle Lösungen)
        connection: 'rgba(230, 81, 0, 0.12)',
        pulse: 'rgba(230, 81, 0, 0.3)'
      }
    };
    
               // Strukturierte Knoten erstellen - ähnlich wie auf dem Bild
      const rows = 4; // Anzahl der Reihen
      const columns = [5, 6, 5, 6]; // Anzahl der Knoten in der Breite
      const colorTypes = ['purple', 'green', 'orange']; // Farbtypen für jede Schicht
      
      // Padding und Abstände - über den ganzen Bildschirm verteilt
      const paddingX = canvas.width * 0.1;
      const paddingY = canvas.height * 0.1;
      const layerSpacing = (canvas.width - (paddingX * 2)) / (columns.length - 1);
    
    // Knoten für jede Schicht erstellen
    columns.forEach((nodesInLayer, layerIndex) => {
      const x = paddingX + (layerIndex * layerSpacing);
      const colorType = colorTypes[layerIndex % colorTypes.length];
      const colorSet = colors[colorType];
      
      // Knoten in dieser Schicht
      const rowSpacing = (canvas.height - (paddingY * 2)) / (nodesInLayer - 1);
      
      for (let rowIndex = 0; rowIndex < nodesInLayer; rowIndex++) {
        const y = paddingY + (rowIndex * rowSpacing);
        
        // Leichte Variation für natürlicheren Look
                  const jitterX = (Math.random() - 0.5) * 20;
          const jitterY = (Math.random() - 0.5) * 20;
          
          nodes.push({
            x: x + jitterX,
            y: y + jitterY,
            radius: 2, // Kleinere Punkte wie im Bild
          color: colorSet.node,
          pulseColor: colorSet.pulse,
          colorType: colorType,
          layerIndex: layerIndex,
          rowIndex: rowIndex,
          glowing: false,
          glowStart: 0,
          glowDuration: 1000 + Math.random() * 1000,
          lastGlow: Date.now() - (Math.random() * 5000)
        });
      }
    });
    
         // Alle Knoten miteinander verbinden
     // Verbindungslinien für alle Knoten erstellen
     for (let i = 0; i < nodes.length; i++) {
       const fromNode = nodes[i];
       const fromIndex = i;
       
       for (let j = 0; j < nodes.length; j++) {
         // Keine Selbstverbindungen
         if (i === j) continue;
         
         const toNode = nodes[j];
         const toIndex = j;
         
         // Verbindungswahrscheinlichkeit basierend auf Entfernung
         const distance = Math.sqrt(
           Math.pow(fromNode.x - toNode.x, 2) + 
           Math.pow(fromNode.y - toNode.y, 2)
         );
         
         // Je näher, desto wahrscheinlicher ist eine Verbindung
         const maxDistance = Math.sqrt(canvas.width * canvas.width + canvas.height * canvas.height);
         const connectionProbability = 0.1 * (1 - distance / maxDistance);
         
         // Mehr Verbindungen zwischen nahen Knoten, weniger für entfernte
         if (Math.random() < connectionProbability) {
           connections.push({
             from: fromIndex,
             to: toIndex,
             fromNode: fromNode,
             toNode: toNode,
             active: false,
             pulsePos: 0,
             pulseSpeed: 0.003 + Math.random() * 0.002,
             pulseSize: 1.5,
             width: 1.5,
             color: colors[fromNode.colorType].connection,
             pulseColor: colors[fromNode.colorType].pulse,
             lastPulse: Date.now() + Math.random() * 5000
           });
         }
       }
     }
     
     // Sicherstellen, dass alle Knoten verbunden sind
     const connectedNodes = new Set();
     connectedNodes.add(0); // Start mit dem ersten Knoten
     
     // Prüfen, ob weitere Verbindungen benötigt werden
     let allConnected = false;
     while (!allConnected) {
       const previousSize = connectedNodes.size;
       
       // Verbindungen durchgehen und verbundene Knoten hinzufügen
       connections.forEach(conn => {
         if (connectedNodes.has(conn.from)) {
           connectedNodes.add(conn.to);
         }
         if (connectedNodes.has(conn.to)) {
           connectedNodes.add(conn.from);
         }
       });
       
       // Wenn keine neuen Knoten hinzugekommen sind und noch nicht alle verbunden sind
       if (connectedNodes.size === previousSize && connectedNodes.size < nodes.length) {
         // Finde einen nicht verbundenen Knoten
         let notConnected = -1;
         for (let i = 0; i < nodes.length; i++) {
           if (!connectedNodes.has(i)) {
             notConnected = i;
             break;
           }
         }
         
         // Verbinde mit einem verbundenen Knoten
         if (notConnected >= 0) {
           const connectedNode = Array.from(connectedNodes)[0];
           connections.push({
             from: connectedNode,
             to: notConnected,
             fromNode: nodes[connectedNode],
             toNode: nodes[notConnected],
             active: false,
             pulsePos: 0,
             pulseSpeed: 0.003 + Math.random() * 0.002,
             pulseSize: 1.5,
             width: 1.5,
             color: colors[nodes[connectedNode].colorType].connection,
             pulseColor: colors[nodes[connectedNode].colorType].pulse,
             lastPulse: Date.now() + Math.random() * 5000
           });
           
           // Knoten als verbunden markieren
           connectedNodes.add(notConnected);
         }
       }
       
       // Überprüfen, ob alle Knoten verbunden sind
       allConnected = connectedNodes.size === nodes.length;
     }
    
    // Zeitpunkt für automatische Aktivierung von Schichten
    let lastLayerActivation = Date.now();
    const layerActivationInterval = 5000; // Alle 5 Sekunden eine neue Schicht aktivieren
    
    // Animation starten
    function animate() {
      const now = Date.now();
      // Canvas löschen
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Sehr selten und dezent einige Knoten aktivieren - ähnlich wie im Bild
      if (now - lastLayerActivation > layerActivationInterval * 2) { // Längere Intervalle
        // Nur einzelne Knoten statt ganzer Schichten aktivieren
        if (Math.random() > 0.7) { // Nur 30% Chance für eine Aktivierung
          // Zufälligen einzelnen Knoten wählen
          const randomNodeIndex = Math.floor(Math.random() * nodes.length);
          const node = nodes[randomNodeIndex];
          
          // Knoten aktivieren
          node.glowing = true;
          node.glowStart = now;
          node.lastGlow = now;
          
          // Nur wenige Verbindungen aktivieren
          const nodeIdx = randomNodeIndex;
          const outgoingConnections = connections.filter(conn => conn.from === nodeIdx);
          const connectionsToActivate = Math.min(2, outgoingConnections.length);
          
          // Zufällig 1-2 Verbindungen auswählen
          for (let i = 0; i < connectionsToActivate; i++) {
            const randomConnIndex = Math.floor(Math.random() * outgoingConnections.length);
            if (outgoingConnections[randomConnIndex]) {
              outgoingConnections[randomConnIndex].active = true;
              outgoingConnections[randomConnIndex].pulsePos = 0;
              outgoingConnections[randomConnIndex].lastPulse = now;
            }
          }
        }
        
        lastLayerActivation = now;
      }
      
      // Verbindungen zeichnen
      connections.forEach(connection => {
        const from = nodes[connection.from];
        const to = nodes[connection.to];
        
        // Sehr dezente Linien wie im Bild
        const time = now * 0.0005; // Langsamere Animation
        
        // Subtile Animation der Transparenz basierend auf Zeit
        const baseOpacity = 0.18; // Höhere Basis-Transparenz für sichtbarere Linien
        const opacityPulse = 0.05 * Math.sin(time + connection.from * 0.3); // Sichtbarere Animation
        
        // Farbe mit sehr niedriger Transparenz
        const color = connection.color.replace(
          /rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/, 
          (_, r, g, b) => `rgba(${r}, ${g}, ${b}, ${baseOpacity + opacityPulse})`
        );
        
        // Klare, minimalistisch gerade Linie zeichnen
        ctx.beginPath();
        ctx.moveTo(from.x, from.y);
        ctx.lineTo(to.x, to.y);
                   ctx.strokeStyle = color;
           ctx.lineWidth = 1.2; // Etwas stärkere Linien
        ctx.stroke();
        
        // Puls-Animation - automatisch und bei Aktivierung
        if (now - connection.lastPulse > 2000 + Math.random() * 3000) {
          connection.active = true;
          connection.pulsePos = 0;
          connection.lastPulse = now;
        }
        
        // Pulse entlang der Verbindungen zeichnen
        if (connection.active) {
          const dx = to.x - from.x;
          const dy = to.y - from.y;
          const pulseX = from.x + dx * connection.pulsePos;
          const pulseY = from.y + dy * connection.pulsePos;
          
          // Sehr dezente Pulse wie im Bild
          const pulseGlow = ctx.createRadialGradient(
            pulseX, pulseY, 0,
            pulseX, pulseY, 1.2
          );
          pulseGlow.addColorStop(0, connection.pulseColor);
          pulseGlow.addColorStop(1, 'rgba(255, 255, 255, 0)');
          
          ctx.beginPath();
          ctx.arc(pulseX, pulseY, 1.2, 0, Math.PI * 2);
          ctx.fillStyle = pulseGlow;
          ctx.fill();
          
          // Puls-Position aktualisieren
          connection.pulsePos += connection.pulseSpeed;
          if (connection.pulsePos > 1) {
            connection.active = false;
            
            // Subtileres Aufleuchten wie im Bild - nur selten
            if (Math.random() > 0.8) { // Nur bei 20% der Ankunft
              to.glowing = true;
              to.glowStart = now;
              to.lastGlow = now;
            }
            
            // Seltenere Fortsetzung des Signals wie im Bild
            if (Math.random() > 0.7) { // Niedrigere Chance für Weiterleitung
              const toIdx = connection.to;
              connections.filter(conn => conn.from === toIdx).forEach(conn => {
                if (Math.random() > 0.7) { // Seltenere Weiterleitung
                  conn.active = true;
                  conn.pulsePos = 0;
                  conn.lastPulse = now;
                }
              });
            }
          }
        }
      });
      
      // Knoten zeichnen im dezenten Apple-Stil
      nodes.forEach((node, index) => {
        const now = Date.now();
        let currentColor = node.color;
        let currentRadius = node.radius;
        
        // Keine Größenanimation im Ruhezustand - Apple bevorzugt Stabilität
        
        // Prüfen ob der Knoten aufleuchten soll (spontan oder durch Signal)
        if (!node.glowing && now - node.lastGlow > 8000 + Math.random() * 10000) {
          node.glowing = true;
          node.glowStart = now;
          node.lastGlow = now;
        }
        
        // Aufleuchten animieren - dezenter Apple-Stil
        if (node.glowing) {
          const glowElapsed = now - node.glowStart;
          const glowProgress = Math.min(1, glowElapsed / node.glowDuration);
          
          if (glowProgress < 0.5) {
            // Aufleuchten (0 -> 0.5)
            const intensity = glowProgress * 2; // 0 -> 1
            currentColor = node.pulseColor;
            currentRadius = node.radius + (intensity * 1.5); // Dezentere Vergrößerung
          } else {
            // Abklingen (0.5 -> 1)
            const intensity = 1 - ((glowProgress - 0.5) * 2); // 1 -> 0
            currentColor = node.pulseColor;
            currentRadius = node.radius + (intensity * 1.5); // Dezentere Vergrößerung
          }
          
          // Glühen beenden wenn die Zeit abgelaufen ist
          if (glowProgress >= 1) {
            node.glowing = false;
          }
        }
        
        // Knoten im Apple-Stil zeichnen - flach und minimalistisch
        ctx.beginPath();
        ctx.arc(node.x, node.y, currentRadius, 0, Math.PI * 2);
        ctx.fillStyle = currentColor;
        ctx.fill();
        
        // Für aktivierte Knoten einen sehr dezenten Glow hinzufügen wie im Bild
        if (node.glowing) {
          const glow = ctx.createRadialGradient(
            node.x, node.y, currentRadius * 0.5,
            node.x, node.y, currentRadius * 2.5
          );
          glow.addColorStop(0, node.pulseColor);
          glow.addColorStop(1, 'rgba(255, 255, 255, 0)');
          
          ctx.beginPath();
          ctx.arc(node.x, node.y, currentRadius * 2.5, 0, Math.PI * 2);
          ctx.fillStyle = glow;
          ctx.fill();
        }
      });
      
      requestAnimationFrame(animate);
    }
    
    animate();
  }
</script>
</body>
</html>
